(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function hw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function MI(){if(jE)return Ou;jE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ou.Fragment=e,Ou.jsx=n,Ou.jsxs=n,Ou}var BE;function VI(){return BE||(BE=1,rg.exports=MI()),rg.exports}var b=VI(),ag={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function kI(){if(zE)return Oe;zE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function D(V,ee,oe){this.props=V,this.context=ee,this.refs=M,this.updater=oe||C}D.prototype.isReactComponent={},D.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},D.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=D.prototype;function $(V,ee,oe){this.props=V,this.context=ee,this.refs=M,this.updater=oe||C}var q=$.prototype=new j;q.constructor=$,x(q,D.prototype),q.isPureReactComponent=!0;var ue=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function N(V,ee,oe,ce,ge,De){return oe=De.ref,{$$typeof:t,type:V,key:ee,ref:oe!==void 0?oe:null,props:De}}function A(V,ee){return N(V.type,ee,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return ee[oe]})}var U=/\/+/g;function B(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ee.toString(36)}function P(){}function Be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(P,P):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ee(V,ee,oe,ce,ge){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var fe=!1;if(V===null)fe=!0;else switch(De){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(V.$$typeof){case t:case e:fe=!0;break;case y:return fe=V._init,Ee(fe(V._payload),ee,oe,ce,ge)}}if(fe)return ge=ge(V),fe=ce===""?"."+B(V,0):ce,ue(ge)?(oe="",fe!=null&&(oe=fe.replace(U,"$&/")+"/"),Ee(ge,ee,oe,"",function(vn){return vn})):ge!=null&&(I(ge)&&(ge=A(ge,oe+(ge.key==null||V&&V.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+fe)),ee.push(ge)),1;fe=0;var st=ce===""?".":ce+":";if(ue(V))for(var nt=0;nt<V.length;nt++)ce=V[nt],De=st+B(ce,nt),fe+=Ee(ce,ee,oe,De,ge);else if(nt=E(V),typeof nt=="function")for(V=nt.call(V),nt=0;!(ce=V.next()).done;)ce=ce.value,De=st+B(ce,nt++),fe+=Ee(ce,ee,oe,De,ge);else if(De==="object"){if(typeof V.then=="function")return Ee(Be(V),ee,oe,ce,ge);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return fe}function X(V,ee,oe){if(V==null)return V;var ce=[],ge=0;return Ee(V,ce,"","",function(De){return ee.call(oe,De,ge++)}),ce}function le(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function he(){}return Oe.Children={map:X,forEach:function(V,ee,oe){X(V,function(){ee.apply(this,arguments)},oe)},count:function(V){var ee=0;return X(V,function(){ee++}),ee},toArray:function(V){return X(V,function(ee){return ee})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Oe.Component=D,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=$,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return te.H.useMemoCache(V)}},Oe.cache=function(V){return function(){return V.apply(null,arguments)}},Oe.cloneElement=function(V,ee,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=x({},V.props),ge=V.key,De=void 0;if(ee!=null)for(fe in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!W.call(ee,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&ee.ref===void 0||(ce[fe]=ee[fe]);var fe=arguments.length-2;if(fe===1)ce.children=oe;else if(1<fe){for(var st=Array(fe),nt=0;nt<fe;nt++)st[nt]=arguments[nt+2];ce.children=st}return N(V.type,ge,void 0,void 0,De,ce)},Oe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Oe.createElement=function(V,ee,oe){var ce,ge={},De=null;if(ee!=null)for(ce in ee.key!==void 0&&(De=""+ee.key),ee)W.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=ee[ce]);var fe=arguments.length-2;if(fe===1)ge.children=oe;else if(1<fe){for(var st=Array(fe),nt=0;nt<fe;nt++)st[nt]=arguments[nt+2];ge.children=st}if(V&&V.defaultProps)for(ce in fe=V.defaultProps,fe)ge[ce]===void 0&&(ge[ce]=fe[ce]);return N(V,De,void 0,void 0,null,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(V){return{$$typeof:f,render:V}},Oe.isValidElement=I,Oe.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:le}},Oe.memo=function(V,ee){return{$$typeof:p,type:V,compare:ee===void 0?null:ee}},Oe.startTransition=function(V){var ee=te.T,oe={};te.T=oe;try{var ce=V(),ge=te.S;ge!==null&&ge(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(he,pe)}catch(De){pe(De)}finally{te.T=ee}},Oe.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Oe.use=function(V){return te.H.use(V)},Oe.useActionState=function(V,ee,oe){return te.H.useActionState(V,ee,oe)},Oe.useCallback=function(V,ee){return te.H.useCallback(V,ee)},Oe.useContext=function(V){return te.H.useContext(V)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(V,ee){return te.H.useDeferredValue(V,ee)},Oe.useEffect=function(V,ee,oe){var ce=te.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(V,ee)},Oe.useId=function(){return te.H.useId()},Oe.useImperativeHandle=function(V,ee,oe){return te.H.useImperativeHandle(V,ee,oe)},Oe.useInsertionEffect=function(V,ee){return te.H.useInsertionEffect(V,ee)},Oe.useLayoutEffect=function(V,ee){return te.H.useLayoutEffect(V,ee)},Oe.useMemo=function(V,ee){return te.H.useMemo(V,ee)},Oe.useOptimistic=function(V,ee){return te.H.useOptimistic(V,ee)},Oe.useReducer=function(V,ee,oe){return te.H.useReducer(V,ee,oe)},Oe.useRef=function(V){return te.H.useRef(V)},Oe.useState=function(V){return te.H.useState(V)},Oe.useSyncExternalStore=function(V,ee,oe){return te.H.useSyncExternalStore(V,ee,oe)},Oe.useTransition=function(){return te.H.useTransition()},Oe.version="19.1.0",Oe}var qE;function $y(){return qE||(qE=1,ag.exports=kI()),ag.exports}var O=$y();const vr=hw(O);var og={exports:{}},Pu={},lg={exports:{}},ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function LI(){return FE||(FE=1,function(t){function e(X,le){var pe=X.length;X.push(le);e:for(;0<pe;){var he=pe-1>>>1,V=X[he];if(0<a(V,le))X[he]=le,X[pe]=V,pe=he;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],pe=X.pop();if(pe!==le){X[0]=pe;e:for(var he=0,V=X.length,ee=V>>>1;he<ee;){var oe=2*(he+1)-1,ce=X[oe],ge=oe+1,De=X[ge];if(0>a(ce,pe))ge<V&&0>a(De,ce)?(X[he]=De,X[ge]=pe,he=ge):(X[he]=ce,X[oe]=pe,he=oe);else if(ge<V&&0>a(De,pe))X[he]=De,X[ge]=pe,he=ge;else break e}}return le}function a(X,le){var pe=X.sortIndex-le.sortIndex;return pe!==0?pe:X.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,C=!1,x=!1,M=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=X)s(p),le.sortIndex=le.expirationTime,e(m,le);else break;le=n(p)}}function te(X){if(M=!1,ue(X),!x)if(n(m)!==null)x=!0,W||(W=!0,B());else{var le=n(p);le!==null&&Ee(te,le.startTime-X)}}var W=!1,N=-1,A=5,I=-1;function L(){return D?!0:!(t.unstable_now()-I<A)}function U(){if(D=!1,W){var X=t.unstable_now();I=X;var le=!0;try{e:{x=!1,M&&(M=!1,$(N),N=-1),C=!0;var pe=E;try{t:{for(ue(X),_=n(m);_!==null&&!(_.expirationTime>X&&L());){var he=_.callback;if(typeof he=="function"){_.callback=null,E=_.priorityLevel;var V=he(_.expirationTime<=X);if(X=t.unstable_now(),typeof V=="function"){_.callback=V,ue(X),le=!0;break t}_===n(m)&&s(m),ue(X)}else s(m);_=n(m)}if(_!==null)le=!0;else{var ee=n(p);ee!==null&&Ee(te,ee.startTime-X),le=!1}}break e}finally{_=null,E=pe,C=!1}le=void 0}}finally{le?B():W=!1}}}var B;if(typeof q=="function")B=function(){q(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Be=P.port2;P.port1.onmessage=U,B=function(){Be.postMessage(null)}}else B=function(){j(U,0)};function Ee(X,le){N=j(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(X){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var pe=E;E=le;try{return X()}finally{E=pe}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=E;E=X;try{return le()}finally{E=pe}},t.unstable_scheduleCallback=function(X,le,pe){var he=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?he+pe:he):pe=he,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,X={id:y++,callback:le,priorityLevel:X,startTime:pe,expirationTime:V,sortIndex:-1},pe>he?(X.sortIndex=pe,e(p,X),n(m)===null&&X===n(p)&&(M?($(N),N=-1):M=!0,Ee(te,pe-he))):(X.sortIndex=V,e(m,X),x||C||(x=!0,W||(W=!0,B()))),X},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(X){var le=E;return function(){var pe=E;E=le;try{return X.apply(this,arguments)}finally{E=pe}}}}(ug)),ug}var HE;function UI(){return HE||(HE=1,lg.exports=LI()),lg.exports}var cg={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function jI(){if(GE)return an;GE=1;var t=$y();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},an.requestFormReset=function(m){s.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var KE;function BI(){if(KE)return cg.exports;KE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=jI(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function zI(){if($E)return Pu;$E=1;var t=UI(),e=$y(),n=BI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var S=!1,w=d.child;w;){if(w===o){S=!0,o=d,u=g;break}if(w===u){S=!0,u=d,o=g;break}w=w.sibling}if(!S){for(w=g.child;w;){if(w===o){S=!0,o=g,u=d;break}if(w===u){S=!0,u=g,o=d;break}w=w.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case te:return"Suspense";case W:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case q:return(i.displayName||"Context")+".Provider";case $:return(i._context.displayName||"Context")+".Consumer";case ue:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Be(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Be(i(r))}catch{}}return null}var Ee=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},he=[],V=-1;function ee(i){return{current:i}}function oe(i){0>V||(i.current=he[V],he[V]=null,V--)}function ce(i,r){V++,he[V]=i.current,i.current=r}var ge=ee(null),De=ee(null),fe=ee(null),st=ee(null);function nt(i,r){switch(ce(fe,r),ce(De,i),ce(ge,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?dE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=dE(r),i=mE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(ge),ce(ge,i)}function vn(){oe(ge),oe(De),oe(fe)}function Ps(i){i.memoizedState!==null&&ce(st,i);var r=ge.current,o=mE(r,i.type);r!==o&&(ce(De,i),ce(ge,o))}function Gi(i){De.current===i&&(oe(ge),oe(De)),st.current===i&&(oe(st),Cu._currentValue=pe)}var Lr=Object.prototype.hasOwnProperty,Ur=t.unstable_scheduleCallback,jr=t.unstable_cancelCallback,wl=t.unstable_shouldYield,Hc=t.unstable_requestPaint,Un=t.unstable_now,rm=t.unstable_getCurrentPriorityLevel,Al=t.unstable_ImmediatePriority,Ga=t.unstable_UserBlockingPriority,Br=t.unstable_NormalPriority,am=t.unstable_LowPriority,Ka=t.unstable_IdlePriority,Rl=t.log,Gc=t.unstable_setDisableYieldValue,pt=null,Qe=null;function Cn(i){if(typeof Rl=="function"&&Gc(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,i)}catch{}}var sn=Math.clz32?Math.clz32:zr,Kc=Math.log,om=Math.LN2;function zr(i){return i>>>=0,i===0?32:31-(Kc(i)/om|0)|0}var qr=256,Fr=4194304;function ii(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $a(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=ii(u):(S&=w,S!==0?d=ii(S):o||(o=w&~i,o!==0&&(d=ii(o))))):(w=u&~g,w!==0?d=ii(w):S!==0?d=ii(S):o||(o=u&~i,o!==0&&(d=ii(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Hr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Cl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var i=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),i}function Il(){var i=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),i}function Ki(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function $i(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Dl(i,r,o,u,d,g){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,k=i.expirationTimes,K=i.hiddenUpdates;for(o=S&~o;0<o;){var ne=31-sn(o),re=1<<ne;w[ne]=0,k[ne]=-1;var Y=K[ne];if(Y!==null)for(K[ne]=null,ne=0;ne<Y.length;ne++){var Q=Y[ne];Q!==null&&(Q.lane&=-536870913)}o&=~re}u!==0&&gi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~r))}function gi(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-sn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Nl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-sn(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Ms(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ya(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Vs(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:PE(i.type))}function $c(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var lt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+lt,Rt="__reactProps$"+lt,jn="__reactContainer$"+lt,Ol="__reactEvents$"+lt,lm="__reactListeners$"+lt,ks="__reactHandles$"+lt,Yc="__reactResources$"+lt,Gr="__reactMarker$"+lt;function Ls(i){delete i[Vt],delete i[Rt],delete i[Ol],delete i[lm],delete i[ks]}function Yi(i){var r=i[Vt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[jn]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=vE(i);i!==null;){if(o=i[Vt])return o;i=vE(i)}return r}i=o,o=i.parentNode}return null}function yi(i){if(i=i[Vt]||i[jn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function vi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function dn(i){var r=i[Yc];return r||(r=i[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Tt(i){i[Gr]=!0}var Pl=new Set,Qa={};function si(i,r){Qi(i,r),Qi(i+"Capture",r)}function Qi(i,r){for(Qa[i]=r,i=0;i<r.length;i++)Pl.add(r[i])}var Qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Kr={};function Wc(i){return Lr.call(Kr,i)?!0:Lr.call(Xc,i)?!1:Qc.test(i)?Kr[i]=!0:(Xc[i]=!0,!1)}function Us(i,r,o){if(Wc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function _i(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Yt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var $r,Zc;function Xi(i){if($r===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$r=r&&r[1]||"",Zc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+i+Zc}var Xa=!1;function Wa(i,r){if(!i||Xa)return"";Xa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var Y=Q}Reflect.construct(i,[],re)}else{try{re.call()}catch(Q){Y=Q}i.call(re.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],w=g[1];if(S&&w){var k=S.split(`
`),K=w.split(`
`);for(d=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===k.length||d===K.length)for(u=k.length-1,d=K.length-1;1<=u&&0<=d&&k[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(k[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||k[u]!==K[d]){var ne=`
`+k[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=d);break}}}finally{Xa=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xi(o):""}function Ml(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Wa(i.type,!1);case 11:return Wa(i.type.render,!1);case 1:return Wa(i.type,!0);case 31:return Xi("Activity");default:return""}}function Za(i){try{var r="";do r+=Ml(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function um(i){var r=Vl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ja(i){i._valueTracker||(i._valueTracker=um(i))}function kl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Vl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Yr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cm=/[\n"\\]/g;function Ct(i){return i.replace(cm,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xn(i,r,o,u,d,g,S,w){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),r!=null?S==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+mn(r)):i.value!==""+mn(r)&&(i.value=""+mn(r)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),r!=null?js(i,S,mn(r)):o!=null?js(i,S,mn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+mn(w):i.removeAttribute("name")}function Qr(i,r,o,u,d,g,S,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+mn(o):"",r=r!=null?""+mn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function js(i,r,o){r==="number"&&Yr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Wi(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+mn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Ze(i,r,o){if(r!=null&&(r=""+mn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+mn(o):""}function Xr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ee(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=mn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Wr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ll(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Jc(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Jc(i,g,r[g])}function Ul(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(i){return fm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Zi=null;function zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,es=null;function jl(i){var r=yi(i);if(r&&(i=r.stateNode)){var o=i[Rt]||null;e:switch(i=r.stateNode,r.type){case"input":if(xn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Rt]||null;if(!d)throw Error(s(90));xn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&kl(u)}break e;case"textarea":Ze(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Wi(i,!!o.multiple,r,!1)}}}var Ti=!1;function eh(i,r,o){if(Ti)return i(r,o);Ti=!0;try{var u=i(r);return u}finally{if(Ti=!1,(Ji!==null||es!==null)&&($h(),Ji&&(r=Ji,i=es,es=Ji=null,jl(r),i)))for(r=0;r<i.length;r++)jl(i[r])}}function Zr(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ri)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{qn=!1}var Ei=null,Bs=null,ts=null;function Bl(){if(ts)return ts;var i,r=Bs,o=r.length,u,d="value"in Ei?Ei.value:Ei.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var S=o-i;for(u=1;u<=S&&r[o-u]===d[g-u];u++);return ts=d.slice(i,1<u?1-u:void 0)}function Si(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bi(){return!0}function zl(){return!1}function qt(i){function r(o,u,d,g,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bi:zl,this.isPropagationStopped=zl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=qt($e),ea=y({},$e,{view:0,detail:0}),th=qt(ea),no,io,wi,ta=y({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wi&&(wi&&i.type==="mousemove"?(no=i.screenX-wi.screenX,io=i.screenY-wi.screenY):io=no=0,wi=i),no)},movementY:function(i){return"movementY"in i?i.movementY:io}}),Fn=qt(ta),nh=y({},ta,{dataTransfer:0}),dm=qt(nh),na=y({},ea,{relatedTarget:0}),so=qt(na),ql=y({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=qt(ql),ih=y({},$e,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ao=qt(ih),mm=y({},$e,{data:0}),Fl=qt(mm),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=rh[i])?!!r[i]:!1}function sa(){return Hl}var ah=y({},ea,{key:function(i){if(i.key){var r=ia[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Si(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(i){return i.type==="keypress"?Si(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Si(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oo=qt(ah),oh=y({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=qt(oh),ns=y({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),lh=qt(ns),uh=y({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),ch=qt(uh),hh=y({},ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),lo=qt(hh),pn=y({},$e,{newState:0,oldState:0}),fh=qt(pn),dh=[9,13,27,32],Ai=ri&&"CompositionEvent"in window,h=null;ri&&"documentMode"in document&&(h=document.documentMode);var v=ri&&"TextEvent"in window&&!h,T=ri&&(!Ai||h&&8<h&&11>=h),R=" ",H=!1;function Z(i,r){switch(i){case"keyup":return dh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function kt(i,r){switch(i){case"compositionend":return de(r);case"keypress":return r.which!==32?null:(H=!0,R);case"textInput":return i=r.data,i===R&&H?null:i;default:return null}}function qe(i,r){if(ze)return i==="compositionend"||!Ai&&Z(i,r)?(i=Bl(),ts=Bs=Ei=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ft[i.type]:r==="textarea"}function is(i,r,o,u){Ji?es?es.push(u):es=[u]:Ji=u,r=Jh(r,"onChange"),0<r.length&&(o=new to("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Qt=null,Ri=null;function Kl(i){lE(i,0)}function mh(i){var r=vi(i);if(kl(r))return i}function I_(i,r){if(i==="change")return r}var D_=!1;if(ri){var pm;if(ri){var gm="oninput"in document;if(!gm){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),gm=typeof N_.oninput=="function"}pm=gm}else pm=!1;D_=pm&&(!document.documentMode||9<document.documentMode)}function O_(){Qt&&(Qt.detachEvent("onpropertychange",P_),Ri=Qt=null)}function P_(i){if(i.propertyName==="value"&&mh(Ri)){var r=[];is(r,Ri,i,zn(i)),eh(Kl,r)}}function c2(i,r,o){i==="focusin"?(O_(),Qt=r,Ri=o,Qt.attachEvent("onpropertychange",P_)):i==="focusout"&&O_()}function h2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mh(Ri)}function f2(i,r){if(i==="click")return mh(r)}function d2(i,r){if(i==="input"||i==="change")return mh(r)}function m2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:m2;function $l(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Lr.call(r,d)||!In(i[d],r[d]))return!1}return!0}function M_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V_(i,r){var o=M_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=M_(o)}}function k_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?k_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function L_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Yr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Yr(i.document)}return r}function ym(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var p2=ri&&"documentMode"in document&&11>=document.documentMode,uo=null,vm=null,Yl=null,_m=!1;function U_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_m||uo==null||uo!==Yr(u)||(u=uo,"selectionStart"in u&&ym(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yl&&$l(Yl,u)||(Yl=u,u=Jh(vm,"onSelect"),0<u.length&&(r=new to("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=uo)))}function ra(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var co={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},Tm={},j_={};ri&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function aa(i){if(Tm[i])return Tm[i];if(!co[i])return i;var r=co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in j_)return Tm[i]=r[o];return i}var B_=aa("animationend"),z_=aa("animationiteration"),q_=aa("animationstart"),g2=aa("transitionrun"),y2=aa("transitionstart"),v2=aa("transitioncancel"),F_=aa("transitionend"),H_=new Map,Em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Em.push("scrollEnd");function ai(i,r){H_.set(i,r),si(r,[i])}var G_=new WeakMap;function Hn(i,r){if(typeof i=="object"&&i!==null){var o=G_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Za(r)},G_.set(i,r),r)}return{value:i,source:r,stack:Za(r)}}var Gn=[],ho=0,Sm=0;function ph(){for(var i=ho,r=Sm=ho=0;r<i;){var o=Gn[r];Gn[r++]=null;var u=Gn[r];Gn[r++]=null;var d=Gn[r];Gn[r++]=null;var g=Gn[r];if(Gn[r++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}g!==0&&K_(o,d,g)}}function gh(i,r,o,u){Gn[ho++]=i,Gn[ho++]=r,Gn[ho++]=o,Gn[ho++]=u,Sm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function bm(i,r,o,u){return gh(i,r,o,u),yh(i)}function fo(i,r){return gh(i,null,null,r),yh(i)}function K_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-sn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function yh(i){if(50<_u)throw _u=0,Ip=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var mo={};function _2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,r,o,u){return new _2(i,r,o,u)}function wm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,r){var o=i.alternate;return o===null?(o=Dn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function $_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vh(i,r,o,u,d,g){var S=0;if(u=i,typeof i=="function")wm(i)&&(S=1);else if(typeof i=="string")S=EI(i,o,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Dn(31,o,r,d),i.elementType=I,i.lanes=g,i;case x:return oa(o.children,d,g,r);case M:S=8,d|=24;break;case D:return i=Dn(12,o,r,d|2),i.elementType=D,i.lanes=g,i;case te:return i=Dn(13,o,r,d),i.elementType=te,i.lanes=g,i;case W:return i=Dn(19,o,r,d),i.elementType=W,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case q:S=10;break e;case $:S=9;break e;case ue:S=11;break e;case N:S=14;break e;case A:S=16,u=null;break e}S=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Dn(S,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function oa(i,r,o,u){return i=Dn(7,i,u,r),i.lanes=o,i}function Am(i,r,o){return i=Dn(6,i,null,r),i.lanes=o,i}function Rm(i,r,o){return r=Dn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var po=[],go=0,_h=null,Th=0,Kn=[],$n=0,la=null,rs=1,as="";function ua(i,r){po[go++]=Th,po[go++]=_h,_h=i,Th=r}function Y_(i,r,o){Kn[$n++]=rs,Kn[$n++]=as,Kn[$n++]=la,la=i;var u=rs;i=as;var d=32-sn(u)-1;u&=~(1<<d),o+=1;var g=32-sn(r)+d;if(30<g){var S=d-d%5;g=(u&(1<<S)-1).toString(32),u>>=S,d-=S,rs=1<<32-sn(r)+d|o<<d|u,as=g+i}else rs=1<<g|o<<d|u,as=i}function Cm(i){i.return!==null&&(ua(i,1),Y_(i,1,0))}function xm(i){for(;i===_h;)_h=po[--go],po[go]=null,Th=po[--go],po[go]=null;for(;i===la;)la=Kn[--$n],Kn[$n]=null,as=Kn[--$n],Kn[$n]=null,rs=Kn[--$n],Kn[$n]=null}var gn=null,gt=null,Ke=!1,ca=null,Ci=!1,Im=Error(s(519));function ha(i){var r=Error(s(418,""));throw Wl(Hn(r,i)),Im}function Q_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Vt]=i,r[Rt]=u,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Eu.length;o++)ke(Eu[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Qr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ja(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Xr(r,u.value,u.defaultValue,u.children),Ja(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||fE(r.textContent,o)?(u.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),u.onScroll!=null&&ke("scroll",r),u.onScrollEnd!=null&&ke("scrollend",r),u.onClick!=null&&(r.onclick=ef),r=!0):r=!1,r||ha(i)}function X_(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:gn=gn.return}}function Ql(i){if(i!==gn)return!1;if(!Ke)return X_(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Gp(i.type,i.memoizedProps)),o=!o),o&&gt&&ha(i),X_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){gt=li(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}gt=null}}else r===27?(r=gt,nr(i.type)?(i=Qp,Qp=null,gt=i):gt=r):gt=gn?li(i.stateNode.nextSibling):null;return!0}function Xl(){gt=gn=null,Ke=!1}function W_(){var i=ca;return i!==null&&(En===null?En=i:En.push.apply(En,i),ca=null),i}function Wl(i){ca===null?ca=[i]:ca.push(i)}var Dm=ee(null),fa=null,os=null;function zs(i,r,o){ce(Dm,r._currentValue),r._currentValue=o}function ls(i){i._currentValue=Dm.current,oe(Dm)}function Nm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Om(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var S=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var k=0;k<r.length;k++)if(w.context===r[k]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Nm(g.return,o,i),u||(S=null);break e}g=w.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(s(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Nm(S,o,i),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===i){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Zl(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var w=d.type;In(d.pendingProps.value,S.value)||(i!==null?i.push(w):i=[w])}}else if(d===st.current){if(S=d.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Cu):i=[Cu])}d=d.return}i!==null&&Om(r,i,o,u),r.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function da(i){fa=i,os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return Z_(fa,i)}function Sh(i,r){return fa===null&&da(i),Z_(i,r)}function Z_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},os===null){if(i===null)throw Error(s(308));os=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else os=os.next=r;return o}var T2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},E2=t.unstable_scheduleCallback,S2=t.unstable_NormalPriority,Ut={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new T2,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&E2(S2,function(){i.controller.abort()})}var eu=null,Mm=0,yo=0,vo=null;function b2(i,r){if(eu===null){var o=eu=[];Mm=0,yo=kp(),vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Mm++,r.then(J_,J_),r}function J_(){if(--Mm===0&&eu!==null){vo!==null&&(vo.status="fulfilled");var i=eu;eu=null,yo=0,vo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function w2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var e0=X.S;X.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&b2(i,r),e0!==null&&e0(i,r)};var ma=ee(null);function Vm(){var i=ma.current;return i!==null?i:rt.pooledCache}function bh(i,r){r===null?ce(ma,ma.current):ce(ma,r.pool)}function t0(){var i=Vm();return i===null?null:{parent:Ut._currentValue,pool:i}}var tu=Error(s(460)),n0=Error(s(474)),wh=Error(s(542)),km={then:function(){}};function i0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ah(){}function s0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ah,Ah),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,a0(i),i;default:if(typeof r.status=="string")r.then(Ah,Ah);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,a0(i),i}throw nu=r,tu}}var nu=null;function r0(){if(nu===null)throw Error(s(459));var i=nu;return nu=null,i}function a0(i){if(i===tu||i===wh)throw Error(s(483))}var qs=!1;function Lm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Um(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Hs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=yh(i),K_(i,null,o),r}return gh(i,u,r,o),yh(i)}function iu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Nl(i,o)}}function jm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Bm=!1;function su(){if(Bm){var i=vo;if(i!==null)throw i}}function ru(i,r,o,u){Bm=!1;var d=i.updateQueue;qs=!1;var g=d.firstBaseUpdate,S=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var k=w,K=k.next;k.next=null,S===null?g=K:S.next=K,S=k;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==S&&(w===null?ne.firstBaseUpdate=K:w.next=K,ne.lastBaseUpdate=k))}if(g!==null){var re=d.baseState;S=0,ne=K=k=null,w=g;do{var Y=w.lane&-536870913,Q=Y!==w.lane;if(Q?(Fe&Y)===Y:(u&Y)===Y){Y!==0&&Y===yo&&(Bm=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Re=i,Se=w;Y=r;var tt=o;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){re=Re.call(tt,re,Y);break e}re=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,Y=typeof Re=="function"?Re.call(tt,re,Y):Re,Y==null)break e;re=y({},re,Y);break e;case 2:qs=!0}}Y=w.callback,Y!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(K=ne=Q,k=re):ne=ne.next=Q,S|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);ne===null&&(k=re),d.baseState=k,d.firstBaseUpdate=K,d.lastBaseUpdate=ne,g===null&&(d.shared.lanes=0),Zs|=S,i.lanes=S,i.memoizedState=re}}function o0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function l0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)o0(o[i],r)}var _o=ee(null),Rh=ee(0);function u0(i,r){i=ps,ce(Rh,i),ce(_o,r),ps=i|r.baseLanes}function zm(){ce(Rh,ps),ce(_o,_o.current)}function qm(){ps=Rh.current,oe(_o),oe(Rh)}var Gs=0,Pe=null,Je=null,xt=null,Ch=!1,To=!1,pa=!1,xh=0,au=0,Eo=null,A2=0;function Et(){throw Error(s(321))}function Fm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function Hm(i,r,o,u,d,g){return Gs=g,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?K0:$0,pa=!1,g=o(u,d),pa=!1,To&&(g=h0(r,o,u,d)),c0(i),g}function c0(i){X.H=Mh;var r=Je!==null&&Je.next!==null;if(Gs=0,xt=Je=Pe=null,Ch=!1,au=0,Eo=null,r)throw Error(s(300));i===null||Ht||(i=i.dependencies,i!==null&&Eh(i)&&(Ht=!0))}function h0(i,r,o,u){Pe=i;var d=0;do{if(To&&(Eo=null),au=0,To=!1,25<=d)throw Error(s(301));if(d+=1,xt=Je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=O2,g=r(o,u)}while(To);return g}function R2(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?ou(r):r,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(Pe.flags|=1024),r}function Gm(){var i=xh!==0;return xh=0,i}function Km(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function $m(i){if(Ch){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ch=!1}Gs=0,xt=Je=Pe=null,To=!1,au=xh=0,Eo=null}function _n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Pe.memoizedState=xt=i:xt=xt.next=i,xt}function It(){if(Je===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var r=xt===null?Pe.memoizedState:xt.next;if(r!==null)xt=r,Je=i;else{if(i===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},xt===null?Pe.memoizedState=xt=i:xt=xt.next=i}return xt}function Ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var r=au;return au+=1,Eo===null&&(Eo=[]),i=s0(Eo,i,r),r=Pe,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?K0:$0),i}function Ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===q)return rn(i)}throw Error(s(438,String(i)))}function Qm(i){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Ym(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function us(i,r){return typeof r=="function"?r(i):r}function Dh(i){var r=It();return Xm(r,Je,i)}function Xm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var S=d.next;d.next=g.next,g.next=S}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=S=null,k=null,K=r,ne=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(Fe&re)===re:(Gs&re)===re){var Y=K.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===yo&&(ne=!0);else if((Gs&Y)===Y){K=K.next,Y===yo&&(ne=!0);continue}else re={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(w=k=re,S=g):k=k.next=re,Pe.lanes|=Y,Zs|=Y;re=K.action,pa&&o(g,re),g=K.hasEagerState?K.eagerState:o(g,re)}else Y={lane:re,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(w=k=Y,S=g):k=k.next=Y,Pe.lanes|=re,Zs|=re;K=K.next}while(K!==null&&K!==r);if(k===null?S=g:k.next=w,!In(g,i.memoizedState)&&(Ht=!0,ne&&(o=vo,o!==null)))throw o;i.memoizedState=g,i.baseState=S,i.baseQueue=k,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Wm(i){var r=It(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do g=i(g,S.action),S=S.next;while(S!==d);In(g,r.memoizedState)||(Ht=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function f0(i,r,o){var u=Pe,d=It(),g=Ke;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var S=!In((Je||d).memoizedState,o);S&&(d.memoizedState=o,Ht=!0),d=d.queue;var w=p0.bind(null,u,d,i);if(lu(2048,8,w,[i]),d.getSnapshot!==r||S||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,So(9,Nh(),m0.bind(null,u,d,o,r),null),rt===null)throw Error(s(349));g||(Gs&124)!==0||d0(u,r,o)}return o}function d0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=Ym(),Pe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function m0(i,r,o,u){r.value=o,r.getSnapshot=u,g0(r)&&y0(i)}function p0(i,r,o){return o(function(){g0(r)&&y0(i)})}function g0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function y0(i){var r=fo(i,2);r!==null&&Vn(r,i,2)}function Zm(i){var r=_n();if(typeof i=="function"){var o=i;if(i=o(),pa){Cn(!0);try{o()}finally{Cn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},r}function v0(i,r,o,u){return i.baseState=o,Xm(i,Je,typeof u=="function"?u:us)}function C2(i,r,o,u,d){if(Ph(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,_0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function _0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=X.T,S={};X.T=S;try{var w=o(d,u),k=X.S;k!==null&&k(S,w),T0(i,r,w)}catch(K){Jm(i,r,K)}finally{X.T=g}}else try{g=o(d,u),T0(i,r,g)}catch(K){Jm(i,r,K)}}function T0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){E0(i,r,u)},function(u){return Jm(i,r,u)}):E0(i,r,o)}function E0(i,r,o){r.status="fulfilled",r.value=o,S0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,_0(i,o)))}function Jm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,S0(r),r=r.next;while(r!==u)}i.action=null}function S0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function b0(i,r){return r}function w0(i,r){if(Ke){var o=rt.formState;if(o!==null){e:{var u=Pe;if(Ke){if(gt){t:{for(var d=gt,g=Ci;d.nodeType!==8;){if(!g){d=null;break t}if(d=li(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){gt=li(d.nextSibling),u=d.data==="F!";break e}}ha(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:r},o.queue=u,o=F0.bind(null,Pe,u),u.dispatch=o,u=Zm(!1),g=sp.bind(null,Pe,!1,u.queue),u=_n(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=C2.bind(null,Pe,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function A0(i){var r=It();return R0(r,Je,i)}function R0(i,r,o){if(r=Xm(i,r,b0)[0],i=Dh(us)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=ou(r)}catch(S){throw S===tu?wh:S}else u=r;r=It();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,So(9,Nh(),x2.bind(null,d,o),null)),[u,g,i]}function x2(i,r){i.action=r}function C0(i){var r=It(),o=Je;if(o!==null)return R0(r,o,i);It(),r=r.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function So(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Ym(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Nh(){return{destroy:void 0,resource:void 0}}function x0(){return It().memoizedState}function Oh(i,r,o,u){var d=_n();u=u===void 0?null:u,Pe.flags|=i,d.memoizedState=So(1|r,Nh(),o,u)}function lu(i,r,o,u){var d=It();u=u===void 0?null:u;var g=d.memoizedState.inst;Je!==null&&u!==null&&Fm(u,Je.memoizedState.deps)?d.memoizedState=So(r,g,o,u):(Pe.flags|=i,d.memoizedState=So(1|r,g,o,u))}function I0(i,r){Oh(8390656,8,i,r)}function D0(i,r){lu(2048,8,i,r)}function N0(i,r){return lu(4,2,i,r)}function O0(i,r){return lu(4,4,i,r)}function P0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function M0(i,r,o){o=o!=null?o.concat([i]):null,lu(4,4,P0.bind(null,r,i),o)}function ep(){}function V0(i,r){var o=It();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Fm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function k0(i,r){var o=It();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Fm(r,u[1]))return u[0];if(u=i(),pa){Cn(!0);try{i()}finally{Cn(!1)}}return o.memoizedState=[u,r],u}function tp(i,r,o){return o===void 0||(Gs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=jT(),Pe.lanes|=i,Zs|=i,o)}function L0(i,r,o,u){return In(o,r)?o:_o.current!==null?(i=tp(i,o,u),In(i,r)||(Ht=!0),i):(Gs&42)===0?(Ht=!0,i.memoizedState=o):(i=jT(),Pe.lanes|=i,Zs|=i,r)}function U0(i,r,o,u,d){var g=le.p;le.p=g!==0&&8>g?g:8;var S=X.T,w={};X.T=w,sp(i,!1,r,o);try{var k=d(),K=X.S;if(K!==null&&K(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ne=w2(k,u);uu(i,r,ne,Mn(i))}else uu(i,r,u,Mn(i))}catch(re){uu(i,r,{then:function(){},status:"rejected",reason:re},Mn())}finally{le.p=g,X.T=S}}function I2(){}function np(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=j0(i).queue;U0(i,d,r,pe,o===null?I2:function(){return B0(i),o(u)})}function j0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:pe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function B0(i){var r=j0(i).next.queue;uu(i,r,{},Mn())}function ip(){return rn(Cu)}function z0(){return It().memoizedState}function q0(){return It().memoizedState}function D2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Mn();i=Fs(o);var u=Hs(r,i,o);u!==null&&(Vn(u,r,o),iu(u,r,o)),r={cache:Pm()},i.payload=r;return}r=r.return}}function N2(i,r,o){var u=Mn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(i)?H0(r,o):(o=bm(i,r,o,u),o!==null&&(Vn(o,i,u),G0(o,r,u)))}function F0(i,r,o){var u=Mn();uu(i,r,o,u)}function uu(i,r,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(i))H0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,w=g(S,o);if(d.hasEagerState=!0,d.eagerState=w,In(w,S))return gh(i,r,d,0),rt===null&&ph(),!1}catch{}finally{}if(o=bm(i,r,d,u),o!==null)return Vn(o,i,u),G0(o,r,u),!0}return!1}function sp(i,r,o,u){if(u={lane:2,revertLane:kp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ph(i)){if(r)throw Error(s(479))}else r=bm(i,o,u,2),r!==null&&Vn(r,i,2)}function Ph(i){var r=i.alternate;return i===Pe||r!==null&&r===Pe}function H0(i,r){To=Ch=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function G0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Nl(i,o)}}var Mh={readContext:rn,use:Ih,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},K0={readContext:rn,use:Ih,useCallback:function(i,r){return _n().memoizedState=[i,r===void 0?null:r],i},useContext:rn,useEffect:I0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Oh(4194308,4,P0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Oh(4194308,4,i,r)},useInsertionEffect:function(i,r){Oh(4,2,i,r)},useMemo:function(i,r){var o=_n();r=r===void 0?null:r;var u=i();if(pa){Cn(!0);try{i()}finally{Cn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=_n();if(o!==void 0){var d=o(r);if(pa){Cn(!0);try{o(r)}finally{Cn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=N2.bind(null,Pe,i),[u.memoizedState,i]},useRef:function(i){var r=_n();return i={current:i},r.memoizedState=i},useState:function(i){i=Zm(i);var r=i.queue,o=F0.bind(null,Pe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ep,useDeferredValue:function(i,r){var o=_n();return tp(o,i,r)},useTransition:function(){var i=Zm(!1);return i=U0.bind(null,Pe,i.queue,!0,!1),_n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Pe,d=_n();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),rt===null)throw Error(s(349));(Fe&124)!==0||d0(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,I0(p0.bind(null,u,g,i),[i]),u.flags|=2048,So(9,Nh(),m0.bind(null,u,g,o,r),null),o},useId:function(){var i=_n(),r=rt.identifierPrefix;if(Ke){var o=as,u=rs;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=xh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=A2++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:ip,useFormState:w0,useActionState:w0,useOptimistic:function(i){var r=_n();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=sp.bind(null,Pe,!0,o),o.dispatch=r,[i,r]},useMemoCache:Qm,useCacheRefresh:function(){return _n().memoizedState=D2.bind(null,Pe)}},$0={readContext:rn,use:Ih,useCallback:V0,useContext:rn,useEffect:D0,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:O0,useMemo:k0,useReducer:Dh,useRef:x0,useState:function(){return Dh(us)},useDebugValue:ep,useDeferredValue:function(i,r){var o=It();return L0(o,Je.memoizedState,i,r)},useTransition:function(){var i=Dh(us)[0],r=It().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:f0,useId:z0,useHostTransitionStatus:ip,useFormState:A0,useActionState:A0,useOptimistic:function(i,r){var o=It();return v0(o,Je,i,r)},useMemoCache:Qm,useCacheRefresh:q0},O2={readContext:rn,use:Ih,useCallback:V0,useContext:rn,useEffect:D0,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:O0,useMemo:k0,useReducer:Wm,useRef:x0,useState:function(){return Wm(us)},useDebugValue:ep,useDeferredValue:function(i,r){var o=It();return Je===null?tp(o,i,r):L0(o,Je.memoizedState,i,r)},useTransition:function(){var i=Wm(us)[0],r=It().memoizedState;return[typeof i=="boolean"?i:ou(i),r]},useSyncExternalStore:f0,useId:z0,useHostTransitionStatus:ip,useFormState:C0,useActionState:C0,useOptimistic:function(i,r){var o=It();return Je!==null?v0(o,Je,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Qm,useCacheRefresh:q0},bo=null,cu=0;function Vh(i){var r=cu;return cu+=1,bo===null&&(bo=[]),s0(bo,i,r)}function hu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function kh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Y0(i){var r=i._init;return r(i._payload)}function Q0(i){function r(F,z){if(i){var G=F.deletions;G===null?(F.deletions=[z],F.flags|=16):G.push(z)}}function o(F,z){if(!i)return null;for(;z!==null;)r(F,z),z=z.sibling;return null}function u(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function d(F,z){return F=ss(F,z),F.index=0,F.sibling=null,F}function g(F,z,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<z?(F.flags|=67108866,z):G):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function S(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function w(F,z,G,ie){return z===null||z.tag!==6?(z=Am(G,F.mode,ie),z.return=F,z):(z=d(z,G),z.return=F,z)}function k(F,z,G,ie){var ve=G.type;return ve===x?ne(F,z,G.props.children,ie,G.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Y0(ve)===z.type)?(z=d(z,G.props),hu(z,G),z.return=F,z):(z=vh(G.type,G.key,G.props,null,F.mode,ie),hu(z,G),z.return=F,z)}function K(F,z,G,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Rm(G,F.mode,ie),z.return=F,z):(z=d(z,G.children||[]),z.return=F,z)}function ne(F,z,G,ie,ve){return z===null||z.tag!==7?(z=oa(G,F.mode,ie,ve),z.return=F,z):(z=d(z,G),z.return=F,z)}function re(F,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Am(""+z,F.mode,G),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return G=vh(z.type,z.key,z.props,null,F.mode,G),hu(G,z),G.return=F,G;case C:return z=Rm(z,F.mode,G),z.return=F,z;case A:var ie=z._init;return z=ie(z._payload),re(F,z,G)}if(Ee(z)||B(z))return z=oa(z,F.mode,G,null),z.return=F,z;if(typeof z.then=="function")return re(F,Vh(z),G);if(z.$$typeof===q)return re(F,Sh(F,z),G);kh(F,z)}return null}function Y(F,z,G,ie){var ve=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:w(F,z,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===ve?k(F,z,G,ie):null;case C:return G.key===ve?K(F,z,G,ie):null;case A:return ve=G._init,G=ve(G._payload),Y(F,z,G,ie)}if(Ee(G)||B(G))return ve!==null?null:ne(F,z,G,ie,null);if(typeof G.then=="function")return Y(F,z,Vh(G),ie);if(G.$$typeof===q)return Y(F,z,Sh(F,G),ie);kh(F,G)}return null}function Q(F,z,G,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return F=F.get(G)||null,w(z,F,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return F=F.get(ie.key===null?G:ie.key)||null,k(z,F,ie,ve);case C:return F=F.get(ie.key===null?G:ie.key)||null,K(z,F,ie,ve);case A:var Me=ie._init;return ie=Me(ie._payload),Q(F,z,G,ie,ve)}if(Ee(ie)||B(ie))return F=F.get(G)||null,ne(z,F,ie,ve,null);if(typeof ie.then=="function")return Q(F,z,G,Vh(ie),ve);if(ie.$$typeof===q)return Q(F,z,G,Sh(z,ie),ve);kh(z,ie)}return null}function Re(F,z,G,ie){for(var ve=null,Me=null,_e=z,be=z=0,Kt=null;_e!==null&&be<G.length;be++){_e.index>be?(Kt=_e,_e=null):Kt=_e.sibling;var Ge=Y(F,_e,G[be],ie);if(Ge===null){_e===null&&(_e=Kt);break}i&&_e&&Ge.alternate===null&&r(F,_e),z=g(Ge,z,be),Me===null?ve=Ge:Me.sibling=Ge,Me=Ge,_e=Kt}if(be===G.length)return o(F,_e),Ke&&ua(F,be),ve;if(_e===null){for(;be<G.length;be++)_e=re(F,G[be],ie),_e!==null&&(z=g(_e,z,be),Me===null?ve=_e:Me.sibling=_e,Me=_e);return Ke&&ua(F,be),ve}for(_e=u(_e);be<G.length;be++)Kt=Q(_e,F,be,G[be],ie),Kt!==null&&(i&&Kt.alternate!==null&&_e.delete(Kt.key===null?be:Kt.key),z=g(Kt,z,be),Me===null?ve=Kt:Me.sibling=Kt,Me=Kt);return i&&_e.forEach(function(or){return r(F,or)}),Ke&&ua(F,be),ve}function Se(F,z,G,ie){if(G==null)throw Error(s(151));for(var ve=null,Me=null,_e=z,be=z=0,Kt=null,Ge=G.next();_e!==null&&!Ge.done;be++,Ge=G.next()){_e.index>be?(Kt=_e,_e=null):Kt=_e.sibling;var or=Y(F,_e,Ge.value,ie);if(or===null){_e===null&&(_e=Kt);break}i&&_e&&or.alternate===null&&r(F,_e),z=g(or,z,be),Me===null?ve=or:Me.sibling=or,Me=or,_e=Kt}if(Ge.done)return o(F,_e),Ke&&ua(F,be),ve;if(_e===null){for(;!Ge.done;be++,Ge=G.next())Ge=re(F,Ge.value,ie),Ge!==null&&(z=g(Ge,z,be),Me===null?ve=Ge:Me.sibling=Ge,Me=Ge);return Ke&&ua(F,be),ve}for(_e=u(_e);!Ge.done;be++,Ge=G.next())Ge=Q(_e,F,be,Ge.value,ie),Ge!==null&&(i&&Ge.alternate!==null&&_e.delete(Ge.key===null?be:Ge.key),z=g(Ge,z,be),Me===null?ve=Ge:Me.sibling=Ge,Me=Ge);return i&&_e.forEach(function(PI){return r(F,PI)}),Ke&&ua(F,be),ve}function tt(F,z,G,ie){if(typeof G=="object"&&G!==null&&G.type===x&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var ve=G.key;z!==null;){if(z.key===ve){if(ve=G.type,ve===x){if(z.tag===7){o(F,z.sibling),ie=d(z,G.props.children),ie.return=F,F=ie;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Y0(ve)===z.type){o(F,z.sibling),ie=d(z,G.props),hu(ie,G),ie.return=F,F=ie;break e}o(F,z);break}else r(F,z);z=z.sibling}G.type===x?(ie=oa(G.props.children,F.mode,ie,G.key),ie.return=F,F=ie):(ie=vh(G.type,G.key,G.props,null,F.mode,ie),hu(ie,G),ie.return=F,F=ie)}return S(F);case C:e:{for(ve=G.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){o(F,z.sibling),ie=d(z,G.children||[]),ie.return=F,F=ie;break e}else{o(F,z);break}else r(F,z);z=z.sibling}ie=Rm(G,F.mode,ie),ie.return=F,F=ie}return S(F);case A:return ve=G._init,G=ve(G._payload),tt(F,z,G,ie)}if(Ee(G))return Re(F,z,G,ie);if(B(G)){if(ve=B(G),typeof ve!="function")throw Error(s(150));return G=ve.call(G),Se(F,z,G,ie)}if(typeof G.then=="function")return tt(F,z,Vh(G),ie);if(G.$$typeof===q)return tt(F,z,Sh(F,G),ie);kh(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(o(F,z.sibling),ie=d(z,G),ie.return=F,F=ie):(o(F,z),ie=Am(G,F.mode,ie),ie.return=F,F=ie),S(F)):o(F,z)}return function(F,z,G,ie){try{cu=0;var ve=tt(F,z,G,ie);return bo=null,ve}catch(_e){if(_e===tu||_e===wh)throw _e;var Me=Dn(29,_e,null,F.mode);return Me.lanes=ie,Me.return=F,Me}finally{}}}var wo=Q0(!0),X0=Q0(!1),Yn=ee(null),xi=null;function Ks(i){var r=i.alternate;ce(jt,jt.current&1),ce(Yn,i),xi===null&&(r===null||_o.current!==null||r.memoizedState!==null)&&(xi=i)}function W0(i){if(i.tag===22){if(ce(jt,jt.current),ce(Yn,i),xi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(xi=i)}}else $s()}function $s(){ce(jt,jt.current),ce(Yn,Yn.current)}function cs(i){oe(Yn),xi===i&&(xi=null),oe(jt)}var jt=ee(0);function Lh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Yp(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function rp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ap={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Mn(),d=Fs(u);d.payload=r,o!=null&&(d.callback=o),r=Hs(i,d,u),r!==null&&(Vn(r,i,u),iu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Mn(),d=Fs(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Hs(i,d,u),r!==null&&(Vn(r,i,u),iu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Mn(),u=Fs(o);u.tag=2,r!=null&&(u.callback=r),r=Hs(i,u,o),r!==null&&(Vn(r,i,o),iu(r,i,o))}};function Z0(i,r,o,u,d,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,S):r.prototype&&r.prototype.isPureReactComponent?!$l(o,u)||!$l(d,g):!0}function J0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&ap.enqueueReplaceState(r,r.state,null)}function ga(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Uh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function eT(i){Uh(i)}function tT(i){console.error(i)}function nT(i){Uh(i)}function jh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function iT(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function op(i,r,o){return o=Fs(o),o.tag=3,o.payload={element:null},o.callback=function(){jh(i,r)},o}function sT(i){return i=Fs(i),i.tag=3,i}function rT(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){iT(r,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){iT(r,o,u),typeof d!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function P2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Zl(r,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return xi===null?Np():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===km?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Pp(i,u,d)),!1;case 22:return o.flags|=65536,u===km?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Pp(i,u,d)),!1}throw Error(s(435,o.tag))}return Pp(i,u,d),Np(),!1}if(Ke)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Im&&(i=Error(s(422),{cause:u}),Wl(Hn(i,o)))):(u!==Im&&(r=Error(s(423),{cause:u}),Wl(Hn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Hn(u,o),d=op(i.stateNode,u,d),jm(i,d),yt!==4&&(yt=2)),!1;var g=Error(s(520),{cause:u});if(g=Hn(g,o),vu===null?vu=[g]:vu.push(g),yt!==4&&(yt=2),r===null)return!0;u=Hn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=op(o.stateNode,u,i),jm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=sT(d),rT(d,i,o,u),jm(o,d),!1}o=o.return}while(o!==null);return!1}var aT=Error(s(461)),Ht=!1;function Xt(i,r,o,u){r.child=i===null?X0(r,null,o,u):wo(r,i.child,o,u)}function oT(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var S={};for(var w in u)w!=="ref"&&(S[w]=u[w])}else S=u;return da(r),u=Hm(i,r,o,S,g,d),w=Gm(),i!==null&&!Ht?(Km(i,r,d),hs(i,r,d)):(Ke&&w&&Cm(r),r.flags|=1,Xt(i,r,u,d),r.child)}function lT(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!wm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,uT(i,r,g,u,d)):(i=vh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!pp(i,d)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:$l,o(S,u)&&i.ref===r.ref)return hs(i,r,d)}return r.flags|=1,i=ss(g,u),i.ref=r.ref,i.return=r,r.child=i}function uT(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if($l(g,u)&&i.ref===r.ref)if(Ht=!1,r.pendingProps=u=g,pp(i,d))(i.flags&131072)!==0&&(Ht=!0);else return r.lanes=i.lanes,hs(i,r,d)}return lp(i,r,o,u,d)}function cT(i,r,o){var u=r.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=r.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return hT(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&bh(r,g!==null?g.cachePool:null),g!==null?u0(r,g):zm(),W0(r);else return r.lanes=r.childLanes=536870912,hT(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(bh(r,g.cachePool),u0(r,g),$s(),r.memoizedState=null):(i!==null&&bh(r,null),zm(),$s());return Xt(i,r,d,o),r.child}function hT(i,r,o,u){var d=Vm();return d=d===null?null:{parent:Ut._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},i!==null&&bh(r,null),zm(),W0(r),i!==null&&Zl(i,r,u,!0),null}function Bh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function lp(i,r,o,u,d){return da(r),o=Hm(i,r,o,u,void 0,d),u=Gm(),i!==null&&!Ht?(Km(i,r,d),hs(i,r,d)):(Ke&&u&&Cm(r),r.flags|=1,Xt(i,r,o,d),r.child)}function fT(i,r,o,u,d,g){return da(r),r.updateQueue=null,o=h0(r,u,o,d),c0(i),u=Gm(),i!==null&&!Ht?(Km(i,r,g),hs(i,r,g)):(Ke&&u&&Cm(r),r.flags|=1,Xt(i,r,o,g),r.child)}function dT(i,r,o,u,d){if(da(r),r.stateNode===null){var g=mo,S=o.contextType;typeof S=="object"&&S!==null&&(g=rn(S)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ap,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Lm(r),S=o.contextType,g.context=typeof S=="object"&&S!==null?rn(S):mo,g.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(rp(r,o,S,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&ap.enqueueReplaceState(g,g.state,null),ru(r,u,g,d),su(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,k=ga(o,w);g.props=k;var K=g.context,ne=o.contextType;S=mo,typeof ne=="object"&&ne!==null&&(S=rn(ne));var re=o.getDerivedStateFromProps;ne=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==S)&&J0(r,g,u,S),qs=!1;var Y=r.memoizedState;g.state=Y,ru(r,u,g,d),su(),K=r.memoizedState,w||Y!==K||qs?(typeof re=="function"&&(rp(r,o,re,u),K=r.memoizedState),(k=qs||Z0(r,o,k,u,Y,K,S))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=S,u=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Um(i,r),S=r.memoizedProps,ne=ga(o,S),g.props=ne,re=r.pendingProps,Y=g.context,K=o.contextType,k=mo,typeof K=="object"&&K!==null&&(k=rn(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==re||Y!==k)&&J0(r,g,u,k),qs=!1,Y=r.memoizedState,g.state=Y,ru(r,u,g,d),su();var Q=r.memoizedState;S!==re||Y!==Q||qs||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof w=="function"&&(rp(r,o,w,u),Q=r.memoizedState),(ne=qs||Z0(r,o,ne,u,Y,Q,k)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=k,u=ne):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&Y===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Y===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Bh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=wo(r,i.child,null,d),r.child=wo(r,null,o,d)):Xt(i,r,o,d),r.memoizedState=g.state,i=r.child):i=hs(i,r,d),i}function mT(i,r,o,u){return Xl(),r.flags|=256,Xt(i,r,o,u),r.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(i){return{baseLanes:i,cachePool:t0()}}function hp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Qn),i}function pT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),S&&(d=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(d?Ks(r):$s(),Ke){var w=gt,k;if(k=w){e:{for(k=w,w=Ci;k.nodeType!==8;){if(!w){w=null;break e}if(k=li(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(r.memoizedState={dehydrated:w,treeContext:la!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},k=Dn(18,null,null,0),k.stateNode=w,k.return=r,r.child=k,gn=r,gt=null,k=!0):k=!1}k||ha(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Yp(w)?r.lanes=32:r.lanes=536870912,null;cs(r)}return w=u.children,u=u.fallback,d?($s(),d=r.mode,w=zh({mode:"hidden",children:w},d),u=oa(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,d=r.child,d.memoizedState=cp(o),d.childLanes=hp(i,S,o),r.memoizedState=up,u):(Ks(r),fp(r,w))}if(k=i.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(g)r.flags&256?(Ks(r),r.flags&=-257,r=dp(i,r,o)):r.memoizedState!==null?($s(),r.child=i.child,r.flags|=128,r=null):($s(),d=u.fallback,w=r.mode,u=zh({mode:"visible",children:u.children},w),d=oa(d,w,o,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,wo(r,i.child,null,o),u=r.child,u.memoizedState=cp(o),u.childLanes=hp(i,S,o),r.memoizedState=up,r=d);else if(Ks(r),Yp(w)){if(S=w.nextSibling&&w.nextSibling.dataset,S)var K=S.dgst;S=K,u=Error(s(419)),u.stack="",u.digest=S,Wl({value:u,source:null,stack:null}),r=dp(i,r,o)}else if(Ht||Zl(i,r,o,!1),S=(o&i.childLanes)!==0,Ht||S){if(S=rt,S!==null&&(u=o&-o,u=(u&42)!==0?1:Ms(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,fo(i,u),Vn(S,i,u),aT;w.data==="$?"||Np(),r=dp(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,gt=li(w.nextSibling),gn=r,Ke=!0,ca=null,Ci=!1,i!==null&&(Kn[$n++]=rs,Kn[$n++]=as,Kn[$n++]=la,rs=i.id,as=i.overflow,la=r),r=fp(r,u.children),r.flags|=4096);return r}return d?($s(),d=u.fallback,w=r.mode,k=i.child,K=k.sibling,u=ss(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,K!==null?d=ss(K,d):(d=oa(d,w,o,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,w=i.child.memoizedState,w===null?w=cp(o):(k=w.cachePool,k!==null?(K=Ut._currentValue,k=k.parent!==K?{parent:K,pool:K}:k):k=t0(),w={baseLanes:w.baseLanes|o,cachePool:k}),d.memoizedState=w,d.childLanes=hp(i,S,o),r.memoizedState=up,u):(Ks(r),o=i.child,i=o.sibling,o=ss(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(S=r.deletions,S===null?(r.deletions=[i],r.flags|=16):S.push(i)),r.child=o,r.memoizedState=null,o)}function fp(i,r){return r=zh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zh(i,r){return i=Dn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function dp(i,r,o){return wo(r,i.child,null,o),i=fp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function gT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Nm(i.return,r,o)}function mp(i,r,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function yT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;if(Xt(i,r,u.children,o),u=jt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gT(i,o,r);else if(i.tag===19)gT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ce(jt,u),d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Lh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),mp(r,!1,d,o,g);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Lh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}mp(r,!0,o,null,g);break;case"together":mp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Zs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Zl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ss(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ss(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function M2(i,r,o){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),zs(r,Ut,i.memoizedState.cache),Xl();break;case 27:case 5:Ps(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:zs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(r),r.flags|=128,null):(o&r.child.childLanes)!==0?pT(i,r,o):(Ks(r),i=hs(i,r,o),i!==null?i.sibling:null);Ks(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Zl(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return yT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(jt,jt.current),u)break;return null;case 22:case 23:return r.lanes=0,cT(i,r,o);case 24:zs(r,Ut,i.memoizedState.cache)}return hs(i,r,o)}function vT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ht=!0;else{if(!pp(i,o)&&(r.flags&128)===0)return Ht=!1,M2(i,r,o);Ht=(i.flags&131072)!==0}else Ht=!1,Ke&&(r.flags&1048576)!==0&&Y_(r,Th,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")wm(u)?(i=ga(u,i),r.tag=1,r=dT(null,r,u,i,o)):(r.tag=0,r=lp(null,r,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===ue){r.tag=11,r=oT(null,r,u,i,o);break e}else if(d===N){r.tag=14,r=lT(null,r,u,i,o);break e}}throw r=Be(u)||u,Error(s(306,r,""))}}return r;case 0:return lp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=ga(u,r.pendingProps),dT(i,r,u,d,o);case 3:e:{if(nt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Um(i,r),ru(r,u,null,o);var S=r.memoizedState;if(u=S.cache,zs(r,Ut,u),u!==g.cache&&Om(r,[Ut],o,!0),su(),u=S.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=mT(i,r,u,o);break e}else if(u!==d){d=Hn(Error(s(424)),r),Wl(d),r=mT(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=li(i.firstChild),gn=r,Ke=!0,ca=null,Ci=!0,o=X0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xl(),u===d){r=hs(i,r,o);break e}Xt(i,r,u,o)}r=r.child}return r;case 26:return Bh(i,r),i===null?(o=SE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,u=tf(fe.current).createElement(o),u[Vt]=r,u[Rt]=i,Zt(u,o,i),Tt(u),r.stateNode=u):r.memoizedState=SE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ps(r),i===null&&Ke&&(u=r.stateNode=_E(r.type,r.pendingProps,fe.current),gn=r,Ci=!0,d=gt,nr(r.type)?(Qp=d,gt=li(u.firstChild)):gt=d),Xt(i,r,r.pendingProps.children,o),Bh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((d=u=gt)&&(u=lI(u,r.type,r.pendingProps,Ci),u!==null?(r.stateNode=u,gn=r,gt=li(u.firstChild),Ci=!1,d=!0):d=!1),d||ha(r)),Ps(r),d=r.type,g=r.pendingProps,S=i!==null?i.memoizedProps:null,u=g.children,Gp(d,g)?u=null:S!==null&&Gp(d,S)&&(r.flags|=32),r.memoizedState!==null&&(d=Hm(i,r,R2,null,null,o),Cu._currentValue=d),Bh(i,r),Xt(i,r,u,o),r.child;case 6:return i===null&&Ke&&((i=o=gt)&&(o=uI(o,r.pendingProps,Ci),o!==null?(r.stateNode=o,gn=r,gt=null,i=!0):i=!1),i||ha(r)),null;case 13:return pT(i,r,o);case 4:return nt(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=wo(r,null,u,o):Xt(i,r,u,o),r.child;case 11:return oT(i,r,r.type,r.pendingProps,o);case 7:return Xt(i,r,r.pendingProps,o),r.child;case 8:return Xt(i,r,r.pendingProps.children,o),r.child;case 12:return Xt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,zs(r,r.type,u.value),Xt(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,da(r),d=rn(d),u=u(d),r.flags|=1,Xt(i,r,u,o),r.child;case 14:return lT(i,r,r.type,r.pendingProps,o);case 15:return uT(i,r,r.type,r.pendingProps,o);case 19:return yT(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=zh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=ss(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return cT(i,r,o);case 24:return da(r),u=rn(Ut),i===null?(d=Vm(),d===null&&(d=rt,g=Pm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Lm(r),zs(r,Ut,d)):((i.lanes&o)!==0&&(Um(i,r),ru(r,null,null,o),su()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),zs(r,Ut,u)):(u=g.cache,zs(r,Ut,u),u!==d.cache&&Om(r,[Ut],o,!0))),Xt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fs(i){i.flags|=4}function _T(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!CE(r)){if(r=Yn.current,r!==null&&((Fe&4194048)===Fe?xi!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==xi))throw nu=km,n0;i.flags|=8192}}function qh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Il():536870912,i.lanes|=r,xo|=r)}function fu(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ht(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function V2(i,r,o){var u=r.pendingProps;switch(xm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ls(Ut),vn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ql(r)?fs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,W_())),ht(r),null;case 26:return o=r.memoizedState,i===null?(fs(r),o!==null?(ht(r),_T(r,o)):(ht(r),r.flags&=-16777217)):o?o!==i.memoizedState?(fs(r),ht(r),_T(r,o)):(ht(r),r.flags&=-16777217):(i.memoizedProps!==u&&fs(r),ht(r),r.flags&=-16777217),null;case 27:Gi(r),o=fe.current;var d=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ht(r),null}i=ge.current,Ql(r)?Q_(r):(i=_E(d,u,o),r.stateNode=i,fs(r))}return ht(r),null;case 5:if(Gi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(i=ge.current,Ql(r))Q_(r);else{switch(d=tf(fe.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Vt]=r,i[Rt]=u;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=i;e:switch(Zt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fs(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&fs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=fe.current,Ql(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=gn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Vt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||fE(i.nodeValue,o)),i||ha(r)}else i=tf(i).createTextNode(u),i[Vt]=r,r.stateNode=i}return ht(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ql(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Vt]=r}else Xl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),d=!1}else d=W_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(cs(r),r):(cs(r),null)}if(cs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),qh(r,r.updateQueue),ht(r),null;case 4:return vn(),i===null&&Bp(r.stateNode.containerInfo),ht(r),null;case 10:return ls(r.type),ht(r),null;case 19:if(oe(jt),d=r.memoizedState,d===null)return ht(r),null;if(u=(r.flags&128)!==0,g=d.rendering,g===null)if(u)fu(d,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Lh(i),g!==null){for(r.flags|=128,fu(d,!1),i=g.updateQueue,r.updateQueue=i,qh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)$_(o,i),o=o.sibling;return ce(jt,jt.current&1|2),r.child}i=i.sibling}d.tail!==null&&Un()>Gh&&(r.flags|=128,u=!0,fu(d,!1),r.lanes=4194304)}else{if(!u)if(i=Lh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,qh(r,i),fu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ke)return ht(r),null}else 2*Un()-d.renderingStartTime>Gh&&o!==536870912&&(r.flags|=128,u=!0,fu(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(i=d.last,i!==null?i.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Un(),r.sibling=null,i=jt.current,ce(jt,u?i&1|2:i&1),r):(ht(r),null);case 22:case 23:return cs(r),qm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),o=r.updateQueue,o!==null&&qh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&oe(ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ls(Ut),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function k2(i,r){switch(xm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ls(Ut),vn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Gi(r),null;case 13:if(cs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return oe(jt),null;case 4:return vn(),null;case 10:return ls(r.type),null;case 22:case 23:return cs(r),qm(),i!==null&&oe(ma),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ls(Ut),null;case 25:return null;default:return null}}function TT(i,r){switch(xm(r),r.tag){case 3:ls(Ut),vn();break;case 26:case 27:case 5:Gi(r);break;case 4:vn();break;case 13:cs(r);break;case 19:oe(jt);break;case 10:ls(r.type);break;case 22:case 23:cs(r),qm(),i!==null&&oe(ma);break;case 24:ls(Ut)}}function du(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,S=o.inst;u=g(),S.destroy=u}o=o.next}while(o!==d)}}catch(w){it(r,r.return,w)}}function Ys(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var S=u.inst,w=S.destroy;if(w!==void 0){S.destroy=void 0,d=r;var k=o,K=w;try{K()}catch(ne){it(d,k,ne)}}}u=u.next}while(u!==g)}}catch(ne){it(r,r.return,ne)}}function ET(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{l0(r,o)}catch(u){it(i,i.return,u)}}}function ST(i,r,o){o.props=ga(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){it(i,r,u)}}function mu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){it(i,r,d)}}function Ii(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){it(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){it(i,r,d)}else o.current=null}function bT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){it(i,i.return,d)}}function gp(i,r,o){try{var u=i.stateNode;iI(u,i.type,o,r),u[Rt]=r}catch(d){it(i,i.return,d)}}function wT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&nr(i.type)||i.tag===4}function yp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ef));else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(vp(i,r,o),i=i.sibling;i!==null;)vp(i,r,o),i=i.sibling}function Fh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Fh(i,r,o),i=i.sibling;i!==null;)Fh(i,r,o),i=i.sibling}function AT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Zt(r,u,o),r[Vt]=i,r[Rt]=o}catch(g){it(i,i.return,g)}}var ds=!1,St=!1,_p=!1,RT=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function L2(i,r){if(i=i.containerInfo,Fp=lf,i=L_(i),ym(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,w=-1,k=-1,K=0,ne=0,re=i,Y=null;t:for(;;){for(var Q;re!==o||d!==0&&re.nodeType!==3||(w=S+d),re!==g||u!==0&&re.nodeType!==3||(k=S+u),re.nodeType===3&&(S+=re.nodeValue.length),(Q=re.firstChild)!==null;)Y=re,re=Q;for(;;){if(re===i)break t;if(Y===o&&++K===d&&(w=S),Y===g&&++ne===u&&(k=S),(Q=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=Q}o=w===-1||k===-1?null:{start:w,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:i,selectionRange:o},lf=!1,Gt=r;Gt!==null;)if(r=Gt,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Gt=i;else for(;Gt!==null;){switch(r=Gt,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Re=ga(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Re,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Se){it(o,o.return,Se)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)$p(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$p(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Gt=i;break}Gt=r.return}}function CT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Qs(i,o),u&4&&du(5,o);break;case 1:if(Qs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(S){it(o,o.return,S)}else{var d=ga(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(S){it(o,o.return,S)}}u&64&&ET(o),u&512&&mu(o,o.return);break;case 3:if(Qs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{l0(i,r)}catch(S){it(o,o.return,S)}}break;case 27:r===null&&u&4&&AT(o);case 26:case 5:Qs(i,o),r===null&&u&4&&bT(o),u&512&&mu(o,o.return);break;case 12:Qs(i,o);break;case 13:Qs(i,o),u&4&&DT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=K2.bind(null,o),cI(i,o))));break;case 22:if(u=o.memoizedState!==null||ds,!u){r=r!==null&&r.memoizedState!==null||St,d=ds;var g=St;ds=u,(St=r)&&!g?Xs(i,o,(o.subtreeFlags&8772)!==0):Qs(i,o),ds=d,St=g}break;case 30:break;default:Qs(i,o)}}function xT(i){var r=i.alternate;r!==null&&(i.alternate=null,xT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ls(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ut=null,Tn=!1;function ms(i,r,o){for(o=o.child;o!==null;)IT(i,r,o),o=o.sibling}function IT(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:St||Ii(o,r),ms(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:St||Ii(o,r);var u=ut,d=Tn;nr(o.type)&&(ut=o.stateNode,Tn=!1),ms(i,r,o),bu(o.stateNode),ut=u,Tn=d;break;case 5:St||Ii(o,r);case 6:if(u=ut,d=Tn,ut=null,ms(i,r,o),ut=u,Tn=d,ut!==null)if(Tn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(g){it(o,r,g)}else try{ut.removeChild(o.stateNode)}catch(g){it(o,r,g)}break;case 18:ut!==null&&(Tn?(i=ut,yE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Nu(i)):yE(ut,o.stateNode));break;case 4:u=ut,d=Tn,ut=o.stateNode.containerInfo,Tn=!0,ms(i,r,o),ut=u,Tn=d;break;case 0:case 11:case 14:case 15:St||Ys(2,o,r),St||Ys(4,o,r),ms(i,r,o);break;case 1:St||(Ii(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ST(o,r,u)),ms(i,r,o);break;case 21:ms(i,r,o);break;case 22:St=(u=St)||o.memoizedState!==null,ms(i,r,o),St=u;break;default:ms(i,r,o)}}function DT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nu(i)}catch(o){it(r,r.return,o)}}function U2(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new RT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new RT),r;default:throw Error(s(435,i.tag))}}function Tp(i,r){var o=U2(i);r.forEach(function(u){var d=$2.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Nn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,S=r,w=S;e:for(;w!==null;){switch(w.tag){case 27:if(nr(w.type)){ut=w.stateNode,Tn=!1;break e}break;case 5:ut=w.stateNode,Tn=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,Tn=!0;break e}w=w.return}if(ut===null)throw Error(s(160));IT(g,S,d),ut=null,Tn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)NT(r,i),r=r.sibling}var oi=null;function NT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Nn(r,i),On(i),u&4&&(Ys(3,i,i.return),du(3,i),Ys(5,i,i.return));break;case 1:Nn(r,i),On(i),u&512&&(St||o===null||Ii(o,o.return)),u&64&&ds&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=oi;if(Nn(r,i),On(i),u&512&&(St||o===null||Ii(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Gr]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Zt(g,u,o),g[Vt]=i,Tt(g),u=g;break e;case"link":var S=AE("link","href",d).get(u+(o.href||""));if(S){for(var w=0;w<S.length;w++)if(g=S[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(w,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;case"meta":if(S=AE("meta","content",d).get(u+(o.content||""))){for(w=0;w<S.length;w++)if(g=S[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(w,1);break t}}g=d.createElement(u),Zt(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Vt]=i,Tt(g),u=g}i.stateNode=u}else RE(d,i.type,i.stateNode);else i.stateNode=wE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?RE(d,i.type,i.stateNode):wE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&gp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Nn(r,i),On(i),u&512&&(St||o===null||Ii(o,o.return)),o!==null&&u&4&&gp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Nn(r,i),On(i),u&512&&(St||o===null||Ii(o,o.return)),i.flags&32){d=i.stateNode;try{Bn(d,"")}catch(Q){it(i,i.return,Q)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,gp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(_p=!0);break;case 6:if(Nn(r,i),On(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){it(i,i.return,Q)}}break;case 3:if(rf=null,d=oi,oi=nf(r.containerInfo),Nn(r,i),oi=d,On(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Nu(r.containerInfo)}catch(Q){it(i,i.return,Q)}_p&&(_p=!1,OT(i));break;case 4:u=oi,oi=nf(i.stateNode.containerInfo),Nn(r,i),On(i),oi=u;break;case 12:Nn(r,i),On(i);break;case 13:Nn(r,i),On(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rp=Un()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tp(i,u)));break;case 22:d=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,K=ds,ne=St;if(ds=K||d,St=ne||k,Nn(r,i),St=ne,ds=K,On(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||k||ds||St||ya(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,d)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{w=k.stateNode;var re=k.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){it(k,k.return,Q)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(Q){it(k,k.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tp(i,o))));break;case 19:Nn(r,i),On(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tp(i,u)));break;case 30:break;case 21:break;default:Nn(r,i),On(i)}}function On(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(wT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=yp(i);Fh(i,g,d);break;case 5:var S=o.stateNode;o.flags&32&&(Bn(S,""),o.flags&=-33);var w=yp(i);Fh(i,w,S);break;case 3:case 4:var k=o.stateNode.containerInfo,K=yp(i);vp(i,K,k);break;default:throw Error(s(161))}}catch(ne){it(i,i.return,ne)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function OT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;OT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Qs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)CT(i,r.alternate,r),r=r.sibling}function ya(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return),ya(r);break;case 1:Ii(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ST(r,r.return,o),ya(r);break;case 27:bu(r.stateNode);case 26:case 5:Ii(r,r.return),ya(r);break;case 22:r.memoizedState===null&&ya(r);break;case 30:ya(r);break;default:ya(r)}i=i.sibling}}function Xs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,S=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(d,g,o),du(4,g);break;case 1:if(Xs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){it(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)o0(k[d],w)}catch(K){it(u,u.return,K)}}o&&S&64&&ET(g),mu(g,g.return);break;case 27:AT(g);case 26:case 5:Xs(d,g,o),o&&u===null&&S&4&&bT(g),mu(g,g.return);break;case 12:Xs(d,g,o);break;case 13:Xs(d,g,o),o&&S&4&&DT(d,g);break;case 22:g.memoizedState===null&&Xs(d,g,o),mu(g,g.return);break;case 30:break;default:Xs(d,g,o)}r=r.sibling}}function Ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Jl(o))}function Sp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jl(i))}function Di(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)PT(i,r,o,u),r=r.sibling}function PT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Di(i,r,o,u),d&2048&&du(9,r);break;case 1:Di(i,r,o,u);break;case 3:Di(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Jl(i)));break;case 12:if(d&2048){Di(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,S=g.id,w=g.onPostCommit;typeof w=="function"&&w(S,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){it(r,r.return,k)}}else Di(i,r,o,u);break;case 13:Di(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,S=r.alternate,r.memoizedState!==null?g._visibility&2?Di(i,r,o,u):pu(i,r):g._visibility&2?Di(i,r,o,u):(g._visibility|=2,Ao(i,r,o,u,(r.subtreeFlags&10256)!==0)),d&2048&&Ep(S,r);break;case 24:Di(i,r,o,u),d&2048&&Sp(r.alternate,r);break;default:Di(i,r,o,u)}}function Ao(i,r,o,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,S=r,w=o,k=u,K=S.flags;switch(S.tag){case 0:case 11:case 15:Ao(g,S,w,k,d),du(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&2?Ao(g,S,w,k,d):pu(g,S):(ne._visibility|=2,Ao(g,S,w,k,d)),d&&K&2048&&Ep(S.alternate,S);break;case 24:Ao(g,S,w,k,d),d&&K&2048&&Sp(S.alternate,S);break;default:Ao(g,S,w,k,d)}r=r.sibling}}function pu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:pu(o,u),d&2048&&Ep(u.alternate,u);break;case 24:pu(o,u),d&2048&&Sp(u.alternate,u);break;default:pu(o,u)}r=r.sibling}}var gu=8192;function Ro(i){if(i.subtreeFlags&gu)for(i=i.child;i!==null;)MT(i),i=i.sibling}function MT(i){switch(i.tag){case 26:Ro(i),i.flags&gu&&i.memoizedState!==null&&bI(oi,i.memoizedState,i.memoizedProps);break;case 5:Ro(i);break;case 3:case 4:var r=oi;oi=nf(i.stateNode.containerInfo),Ro(i),oi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=gu,gu=16777216,Ro(i),gu=r):Ro(i));break;default:Ro(i)}}function VT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function yu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,LT(u,i)}VT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kT(i),i=i.sibling}function kT(i){switch(i.tag){case 0:case 11:case 15:yu(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:yu(i);break;case 12:yu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hh(i)):yu(i);break;default:yu(i)}}function Hh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Gt=u,LT(u,i)}VT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ys(8,r,r.return),Hh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(r));break;default:Hh(r)}i=i.sibling}}function LT(i,r){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:Ys(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=i;Gt!==null;){u=Gt;var d=u.sibling,g=u.return;if(xT(u),u===o){Gt=null;break e}if(d!==null){d.return=g,Gt=d;break e}Gt=g}}}var j2={getCacheForType:function(i){var r=rn(Ut),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},B2=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Ve=null,Fe=0,We=0,Pn=null,Ws=!1,Co=!1,bp=!1,ps=0,yt=0,Zs=0,va=0,wp=0,Qn=0,xo=0,vu=null,En=null,Ap=!1,Rp=0,Gh=1/0,Kh=null,Js=null,Wt=0,er=null,Io=null,Do=0,Cp=0,xp=null,UT=null,_u=0,Ip=null;function Mn(){if((Xe&2)!==0&&Fe!==0)return Fe&-Fe;if(X.T!==null){var i=yo;return i!==0?i:kp()}return Vs()}function jT(){Qn===0&&(Qn=(Fe&536870912)===0||Ke?xl():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),Qn}function Vn(i,r,o){(i===rt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(No(i,0),tr(i,Fe,Qn,!1)),$i(i,o),((Xe&2)===0||i!==rt)&&(i===rt&&((Xe&2)===0&&(va|=o),yt===4&&tr(i,Fe,Qn,!1)),Ni(i))}function BT(i,r,o){if((Xe&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Hr(i,r),d=u?F2(i,r):Op(i,r,!0),g=u;do{if(d===0){Co&&!u&&tr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!z2(o)){d=Op(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;e:{var w=i;d=vu;var k=w.current.memoizedState.isDehydrated;if(k&&(No(w,S).flags|=256),S=Op(w,S,!1),S!==2){if(bp&&!k){w.errorRecoveryDisabledLanes|=g,va|=g,d=4;break e}g=En,En=d,g!==null&&(En===null?En=g:En.push.apply(En,g))}d=S}if(g=!1,d!==2)continue}}if(d===1){No(i,0),tr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:tr(u,r,Qn,!Ws);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Rp+300-Un(),10<d)){if(tr(u,r,Qn,!Ws),$a(u,0,!0)!==0)break e;u.timeoutHandle=pE(zT.bind(null,u,o,En,Kh,Ap,r,Qn,va,xo,Ws,g,2,-0,0),d);break e}zT(u,o,En,Kh,Ap,r,Qn,va,xo,Ws,g,0,-0,0)}}break}while(!0);Ni(i)}function zT(i,r,o,u,d,g,S,w,k,K,ne,re,Y,Q){if(i.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:SI},MT(r),re=wI(),re!==null)){i.cancelPendingCommit=re(YT.bind(null,i,r,g,o,u,d,S,w,k,ne,1,Y,Q)),tr(i,g,S,!K);return}YT(i,r,g,o,u,d,S,w,k)}function z2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!In(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(i,r,o,u){r&=~wp,r&=~va,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-sn(d),S=1<<g;u[g]=-1,d&=~S}o!==0&&gi(i,o,r)}function $h(){return(Xe&6)===0?(Tu(0),!1):!0}function Dp(){if(Ve!==null){if(We===0)var i=Ve.return;else i=Ve,os=fa=null,$m(i),bo=null,cu=0,i=Ve;for(;i!==null;)TT(i.alternate,i),i=i.return;Ve=null}}function No(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,rI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Dp(),rt=i,Ve=o=ss(i.current,null),Fe=r,We=0,Pn=null,Ws=!1,Co=Hr(i,r),bp=!1,xo=Qn=wp=va=Zs=yt=0,En=vu=null,Ap=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-sn(u),g=1<<d;r|=i[d],u&=~g}return ps=r,ph(),o}function qT(i,r){Pe=null,X.H=Mh,r===tu||r===wh?(r=r0(),We=3):r===n0?(r=r0(),We=4):We=r===aT?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Ve===null&&(yt=1,jh(i,Hn(r,i.current)))}function FT(){var i=X.H;return X.H=Mh,i===null?Mh:i}function HT(){var i=X.A;return X.A=j2,i}function Np(){yt=4,Ws||(Fe&4194048)!==Fe&&Yn.current!==null||(Co=!0),(Zs&134217727)===0&&(va&134217727)===0||rt===null||tr(rt,Fe,Qn,!1)}function Op(i,r,o){var u=Xe;Xe|=2;var d=FT(),g=HT();(rt!==i||Fe!==r)&&(Kh=null,No(i,r)),r=!1;var S=yt;e:do try{if(We!==0&&Ve!==null){var w=Ve,k=Pn;switch(We){case 8:Dp(),S=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(r=!0);var K=We;if(We=0,Pn=null,Oo(i,w,k,K),o&&Co){S=0;break e}break;default:K=We,We=0,Pn=null,Oo(i,w,k,K)}}q2(),S=yt;break}catch(ne){qT(i,ne)}while(!0);return r&&i.shellSuspendCounter++,os=fa=null,Xe=u,X.H=d,X.A=g,Ve===null&&(rt=null,Fe=0,ph()),S}function q2(){for(;Ve!==null;)GT(Ve)}function F2(i,r){var o=Xe;Xe|=2;var u=FT(),d=HT();rt!==i||Fe!==r?(Kh=null,Gh=Un()+500,No(i,r)):Co=Hr(i,r);e:do try{if(We!==0&&Ve!==null){r=Ve;var g=Pn;t:switch(We){case 1:We=0,Pn=null,Oo(i,r,g,1);break;case 2:case 9:if(i0(g)){We=0,Pn=null,KT(r);break}r=function(){We!==2&&We!==9||rt!==i||(We=7),Ni(i)},g.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:i0(g)?(We=0,Pn=null,KT(r)):(We=0,Pn=null,Oo(i,r,g,7));break;case 5:var S=null;switch(Ve.tag){case 26:S=Ve.memoizedState;case 5:case 27:var w=Ve;if(!S||CE(S)){We=0,Pn=null;var k=w.sibling;if(k!==null)Ve=k;else{var K=w.return;K!==null?(Ve=K,Yh(K)):Ve=null}break t}}We=0,Pn=null,Oo(i,r,g,5);break;case 6:We=0,Pn=null,Oo(i,r,g,6);break;case 8:Dp(),yt=6;break e;default:throw Error(s(462))}}H2();break}catch(ne){qT(i,ne)}while(!0);return os=fa=null,X.H=u,X.A=d,Xe=o,Ve!==null?0:(rt=null,Fe=0,ph(),yt)}function H2(){for(;Ve!==null&&!wl();)GT(Ve)}function GT(i){var r=vT(i.alternate,i,ps);i.memoizedProps=i.pendingProps,r===null?Yh(i):Ve=r}function KT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=fT(o,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=fT(o,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:$m(r);default:TT(o,r),r=Ve=$_(r,ps),r=vT(o,r,ps)}i.memoizedProps=i.pendingProps,r===null?Yh(i):Ve=r}function Oo(i,r,o,u){os=fa=null,$m(r),bo=null,cu=0;var d=r.return;try{if(P2(i,d,r,o,Fe)){yt=1,jh(i,Hn(o,i.current)),Ve=null;return}}catch(g){if(d!==null)throw Ve=d,g;yt=1,jh(i,Hn(o,i.current)),Ve=null;return}r.flags&32768?(Ke||u===1?i=!0:Co||(Fe&536870912)!==0?i=!1:(Ws=i=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),$T(r,i)):Yh(r)}function Yh(i){var r=i;do{if((r.flags&32768)!==0){$T(r,Ws);return}i=r.return;var o=V2(r.alternate,r,ps);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);yt===0&&(yt=5)}function $T(i,r){do{var o=k2(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);yt=6,Ve=null}function YT(i,r,o,u,d,g,S,w,k){i.cancelPendingCommit=null;do Qh();while(Wt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Sm,Dl(i,o,g,S,w,k),i===rt&&(Ve=rt=null,Fe=0),Io=r,er=i,Do=o,Cp=g,xp=d,UT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Y2(Br,function(){return JT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,d=le.p,le.p=2,S=Xe,Xe|=4;try{L2(i,r,o)}finally{Xe=S,le.p=d,X.T=u}}Wt=1,QT(),XT(),WT()}}function QT(){if(Wt===1){Wt=0;var i=er,r=Io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=le.p;le.p=2;var d=Xe;Xe|=4;try{NT(r,i);var g=Hp,S=L_(i.containerInfo),w=g.focusedElem,k=g.selectionRange;if(S!==w&&w&&w.ownerDocument&&k_(w.ownerDocument.documentElement,w)){if(k!==null&&ym(w)){var K=k.start,ne=k.end;if(ne===void 0&&(ne=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(ne,w.value.length);else{var re=w.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Re=w.textContent.length,Se=Math.min(k.start,Re),tt=k.end===void 0?Se:Math.min(k.end,Re);!Q.extend&&Se>tt&&(S=tt,tt=Se,Se=S);var F=V_(w,Se),z=V_(w,tt);if(F&&z&&(Q.rangeCount!==1||Q.anchorNode!==F.node||Q.anchorOffset!==F.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var G=re.createRange();G.setStart(F.node,F.offset),Q.removeAllRanges(),Se>tt?(Q.addRange(G),Q.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Q.addRange(G))}}}}for(re=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ie=re[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}lf=!!Fp,Hp=Fp=null}finally{Xe=d,le.p=u,X.T=o}}i.current=r,Wt=2}}function XT(){if(Wt===2){Wt=0;var i=er,r=Io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=le.p;le.p=2;var d=Xe;Xe|=4;try{CT(i,r.alternate,r)}finally{Xe=d,le.p=u,X.T=o}}Wt=3}}function WT(){if(Wt===4||Wt===3){Wt=0,Hc();var i=er,r=Io,o=Do,u=UT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,Io=er=null,ZT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Js=null),Ya(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,d=le.p,le.p=2,X.T=null;try{for(var g=i.onRecoverableError,S=0;S<u.length;S++){var w=u[S];g(w.value,{componentStack:w.stack})}}finally{X.T=r,le.p=d}}(Do&3)!==0&&Qh(),Ni(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===Ip?_u++:(_u=0,Ip=i):_u=0,Tu(0)}}function ZT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Jl(r)))}function Qh(i){return QT(),XT(),WT(),JT()}function JT(){if(Wt!==5)return!1;var i=er,r=Cp;Cp=0;var o=Ya(Do),u=X.T,d=le.p;try{le.p=32>o?32:o,X.T=null,o=xp,xp=null;var g=er,S=Do;if(Wt=0,Io=er=null,Do=0,(Xe&6)!==0)throw Error(s(331));var w=Xe;if(Xe|=4,kT(g.current),PT(g,g.current,S,o),Xe=w,Tu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{le.p=d,X.T=u,ZT(i,r)}}function eE(i,r,o){r=Hn(o,r),r=op(i.stateNode,r,2),i=Hs(i,r,2),i!==null&&($i(i,2),Ni(i))}function it(i,r,o){if(i.tag===3)eE(i,i,o);else for(;r!==null;){if(r.tag===3){eE(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Js===null||!Js.has(u))){i=Hn(o,i),o=sT(2),u=Hs(r,o,2),u!==null&&(rT(o,u,r,i),$i(u,2),Ni(u));break}}r=r.return}}function Pp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new B2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(bp=!0,d.add(o),i=G2.bind(null,i,r,o),r.then(i,i))}function G2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(Fe&o)===o&&(yt===4||yt===3&&(Fe&62914560)===Fe&&300>Un()-Rp?(Xe&2)===0&&No(i,0):wp|=o,xo===Fe&&(xo=0)),Ni(i)}function tE(i,r){r===0&&(r=Il()),i=fo(i,r),i!==null&&($i(i,r),Ni(i))}function K2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),tE(i,o)}function $2(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),tE(i,o)}function Y2(i,r){return Ur(i,r)}var Xh=null,Po=null,Mp=!1,Wh=!1,Vp=!1,_a=0;function Ni(i){i!==Po&&i.next===null&&(Po===null?Xh=Po=i:Po=Po.next=i),Wh=!0,Mp||(Mp=!0,X2())}function Tu(i,r){if(!Vp&&Wh){Vp=!0;do for(var o=!1,u=Xh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var S=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-sn(42|i)+1)-1,g&=d&~(S&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,rE(u,g))}else g=Fe,g=$a(u,u===rt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Hr(u,g)||(o=!0,rE(u,g));u=u.next}while(o);Vp=!1}}function Q2(){nE()}function nE(){Wh=Mp=!1;var i=0;_a!==0&&(sI()&&(i=_a),_a=0);for(var r=Un(),o=null,u=Xh;u!==null;){var d=u.next,g=iE(u,r);g===0?(u.next=null,o===null?Xh=d:o.next=d,d===null&&(Po=o)):(o=u,(i!==0||(g&3)!==0)&&(Wh=!0)),u=d}Tu(i)}function iE(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-sn(g),w=1<<S,k=d[S];k===-1?((w&o)===0||(w&u)!==0)&&(d[S]=Cl(w,r)):k<=r&&(i.expiredLanes|=w),g&=~w}if(r=rt,o=Fe,o=$a(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&jr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Hr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&jr(u),Ya(o)){case 2:case 8:o=Ga;break;case 32:o=Br;break;case 268435456:o=Ka;break;default:o=Br}return u=sE.bind(null,i),o=Ur(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&jr(u),i.callbackPriority=2,i.callbackNode=null,2}function sE(i,r){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Qh()&&i.callbackNode!==o)return null;var u=Fe;return u=$a(i,i===rt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(BT(i,u,r),iE(i,Un()),i.callbackNode!=null&&i.callbackNode===o?sE.bind(null,i):null)}function rE(i,r){if(Qh())return null;BT(i,r,!0)}function X2(){aI(function(){(Xe&6)!==0?Ur(Al,Q2):nE()})}function kp(){return _a===0&&(_a=xl()),_a}function aE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eo(""+i)}function oE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function W2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=aE((d[Rt]||null).action),S=u.submitter;S&&(r=(r=S[Rt]||null)?aE(r.formAction):S.getAttribute("formAction"),r!==null&&(g=r,S=null));var w=new to("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_a!==0){var k=S?oE(d,S):new FormData(d);np(o,{pending:!0,data:k,method:d.method,action:g},null,k)}}else typeof g=="function"&&(w.preventDefault(),k=S?oE(d,S):new FormData(d),np(o,{pending:!0,data:k,method:d.method,action:g},g,k))},currentTarget:d}]})}}for(var Lp=0;Lp<Em.length;Lp++){var Up=Em[Lp],Z2=Up.toLowerCase(),J2=Up[0].toUpperCase()+Up.slice(1);ai(Z2,"on"+J2)}ai(B_,"onAnimationEnd"),ai(z_,"onAnimationIteration"),ai(q_,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(g2,"onTransitionRun"),ai(y2,"onTransitionStart"),ai(v2,"onTransitionCancel"),ai(F_,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function lE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var S=u.length-1;0<=S;S--){var w=u[S],k=w.instance,K=w.currentTarget;if(w=w.listener,k!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=K;try{g(d)}catch(ne){Uh(ne)}d.currentTarget=null,g=k}else for(S=0;S<u.length;S++){if(w=u[S],k=w.instance,K=w.currentTarget,w=w.listener,k!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=K;try{g(d)}catch(ne){Uh(ne)}d.currentTarget=null,g=k}}}}function ke(i,r){var o=r[Ol];o===void 0&&(o=r[Ol]=new Set);var u=i+"__bubble";o.has(u)||(uE(r,i,2,!1),o.add(u))}function jp(i,r,o){var u=0;r&&(u|=4),uE(o,i,u,r)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Bp(i){if(!i[Zh]){i[Zh]=!0,Pl.forEach(function(o){o!=="selectionchange"&&(eI.has(o)||jp(o,!1,i),jp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Zh]||(r[Zh]=!0,jp("selectionchange",!1,r))}}function uE(i,r,o,u){switch(PE(r)){case 2:var d=CI;break;case 8:d=xI;break;default:d=eg}o=d.bind(null,r,o,i),d=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function zp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var w=u.stateNode.containerInfo;if(w===d)break;if(S===4)for(S=u.return;S!==null;){var k=S.tag;if((k===3||k===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;w!==null;){if(S=Yi(w),S===null)return;if(k=S.tag,k===5||k===6||k===26||k===27){u=g=S;continue e}w=w.parentNode}}u=u.return}eh(function(){var K=g,ne=zn(o),re=[];e:{var Y=H_.get(i);if(Y!==void 0){var Q=to,Re=i;switch(i){case"keypress":if(Si(o)===0)break e;case"keydown":case"keyup":Q=oo;break;case"focusin":Re="focus",Q=so;break;case"focusout":Re="blur",Q=so;break;case"beforeblur":case"afterblur":Q=so;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=lh;break;case B_:case z_:case q_:Q=ro;break;case F_:Q=ch;break;case"scroll":case"scrollend":Q=th;break;case"wheel":Q=lo;break;case"copy":case"cut":case"paste":Q=ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Gl;break;case"toggle":case"beforetoggle":Q=fh}var Se=(r&4)!==0,tt=!Se&&(i==="scroll"||i==="scrollend"),F=Se?Y!==null?Y+"Capture":null:Y;Se=[];for(var z=K,G;z!==null;){var ie=z;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||F===null||(ie=Zr(z,F),ie!=null&&Se.push(Su(z,ie,G))),tt)break;z=z.return}0<Se.length&&(Y=new Q(Y,Re,null,o,ne),re.push({event:Y,listeners:Se}))}}if((r&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",Y&&o!==Zi&&(Re=o.relatedTarget||o.fromElement)&&(Yi(Re)||Re[jn]))break e;if((Q||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Re=o.relatedTarget||o.toElement,Q=K,Re=Re?Yi(Re):null,Re!==null&&(tt=l(Re),Se=Re.tag,Re!==tt||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):(Q=null,Re=K),Q!==Re)){if(Se=Fn,ie="onMouseLeave",F="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Gl,ie="onPointerLeave",F="onPointerEnter",z="pointer"),tt=Q==null?Y:vi(Q),G=Re==null?Y:vi(Re),Y=new Se(ie,z+"leave",Q,o,ne),Y.target=tt,Y.relatedTarget=G,ie=null,Yi(ne)===K&&(Se=new Se(F,z+"enter",Re,o,ne),Se.target=G,Se.relatedTarget=tt,ie=Se),tt=ie,Q&&Re)t:{for(Se=Q,F=Re,z=0,G=Se;G;G=Mo(G))z++;for(G=0,ie=F;ie;ie=Mo(ie))G++;for(;0<z-G;)Se=Mo(Se),z--;for(;0<G-z;)F=Mo(F),G--;for(;z--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=Mo(Se),F=Mo(F)}Se=null}else Se=null;Q!==null&&cE(re,Y,Q,Se,!1),Re!==null&&tt!==null&&cE(re,tt,Re,Se,!0)}}e:{if(Y=K?vi(K):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ve=I_;else if(Lt(Y))if(D_)ve=d2;else{ve=h2;var Me=c2}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ul(K.elementType)&&(ve=I_):ve=f2;if(ve&&(ve=ve(i,K))){is(re,ve,o,ne);break e}Me&&Me(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&js(Y,"number",Y.value)}switch(Me=K?vi(K):window,i){case"focusin":(Lt(Me)||Me.contentEditable==="true")&&(uo=Me,vm=K,Yl=null);break;case"focusout":Yl=vm=uo=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,U_(re,o,ne);break;case"selectionchange":if(p2)break;case"keydown":case"keyup":U_(re,o,ne)}var _e;if(Ai)e:{switch(i){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?Z(i,o)&&(be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(T&&o.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(_e=Bl()):(Ei=ne,Bs="value"in Ei?Ei.value:Ei.textContent,ze=!0)),Me=Jh(K,be),0<Me.length&&(be=new Fl(be,i,null,o,ne),re.push({event:be,listeners:Me}),_e?be.data=_e:(_e=de(o),_e!==null&&(be.data=_e)))),(_e=v?kt(i,o):qe(i,o))&&(be=Jh(K,"onBeforeInput"),0<be.length&&(Me=new Fl("onBeforeInput","beforeinput",null,o,ne),re.push({event:Me,listeners:be}),Me.data=_e)),W2(re,i,K,o,ne)}lE(re,r)})}function Su(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Jh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Zr(i,o),d!=null&&u.unshift(Su(i,d,g)),d=Zr(i,r),d!=null&&u.push(Su(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cE(i,r,o,u,d){for(var g=r._reactName,S=[];o!==null&&o!==u;){var w=o,k=w.alternate,K=w.stateNode;if(w=w.tag,k!==null&&k===u)break;w!==5&&w!==26&&w!==27||K===null||(k=K,d?(K=Zr(o,g),K!=null&&S.unshift(Su(o,K,k))):d||(K=Zr(o,g),K!=null&&S.push(Su(o,K,k)))),o=o.return}S.length!==0&&i.push({event:r,listeners:S})}var tI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function hE(i){return(typeof i=="string"?i:""+i).replace(tI,`
`).replace(nI,"")}function fE(i,r){return r=hE(r),hE(i)===r}function ef(){}function et(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Bn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Bn(i,""+u);break;case"className":_i(i,"class",u);break;case"tabIndex":_i(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(i,o,u);break;case"style":Ll(i,u,g);break;case"data":if(r!=="object"){_i(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=eo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&et(i,r,"name",d.name,d,null),et(i,r,"formEncType",d.formEncType,d,null),et(i,r,"formMethod",d.formMethod,d,null),et(i,r,"formTarget",d.formTarget,d,null)):(et(i,r,"encType",d.encType,d,null),et(i,r,"method",d.method,d,null),et(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=eo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ef);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=eo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ke("beforetoggle",i),ke("toggle",i),Us(i,"popover",u);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Us(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=hm.get(o)||o,Us(i,o,u))}}function qp(i,r,o,u,d,g){switch(o){case"style":Ll(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Bn(i,u):(typeof u=="number"||typeof u=="bigint")&&Bn(i,""+u);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Us(i,o,u)}}}function Zt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,g,S,o,null)}}d&&et(i,r,"srcSet",o.srcSet,o,null),u&&et(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var w=g=S=d=null,k=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":d=ne;break;case"type":S=ne;break;case"checked":k=ne;break;case"defaultChecked":K=ne;break;case"value":g=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:et(i,r,u,ne,o,null)}}Qr(i,g,w,k,K,S,d,!1),Ja(i);return;case"select":ke("invalid",i),u=S=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":S=w;break;case"multiple":u=w;default:et(i,r,d,w,o,null)}r=g,o=S,i.multiple=!!u,r!=null?Wi(i,!!u,r,!1):o!=null&&Wi(i,!!u,o,!0);return;case"textarea":ke("invalid",i),g=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(w=o[S],w!=null))switch(S){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(i,r,S,w,o,null)}Xr(i,u,d,g),Ja(i);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(i,r,k,u,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(u=0;u<Eu.length;u++)ke(Eu[u],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(i,r,K,u,o,null)}return;default:if(Ul(r)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&qp(i,r,ne,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&et(i,r,w,u,o,null))}function iI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,S=null,w=null,k=null,K=null,ne=null;for(Q in o){var re=o[Q];if(o.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=re;default:u.hasOwnProperty(Q)||et(i,r,Q,null,u,re)}}for(var Y in u){var Q=u[Y];if(re=o[Y],u.hasOwnProperty(Y)&&(Q!=null||re!=null))switch(Y){case"type":g=Q;break;case"name":d=Q;break;case"checked":K=Q;break;case"defaultChecked":ne=Q;break;case"value":S=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==re&&et(i,r,Y,Q,u,re)}}xn(i,S,w,k,K,ne,g,d);return;case"select":Q=S=w=Y=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Q=k;default:u.hasOwnProperty(g)||et(i,r,g,null,u,k)}for(d in u)if(g=u[d],k=o[d],u.hasOwnProperty(d)&&(g!=null||k!=null))switch(d){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":S=g;default:g!==k&&et(i,r,d,g,u,k)}r=w,o=S,u=Q,Y!=null?Wi(i,!!o,Y,!1):!!u!=!!o&&(r!=null?Wi(i,!!o,r,!0):Wi(i,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(i,r,w,null,u,d)}for(S in u)if(d=u[S],g=o[S],u.hasOwnProperty(S)&&(d!=null||g!=null))switch(S){case"value":Y=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&et(i,r,S,d,u,g)}Ze(i,Y,Q);return;case"option":for(var Re in o)if(Y=o[Re],o.hasOwnProperty(Re)&&Y!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:et(i,r,Re,null,u,Y)}for(k in u)if(Y=u[k],Q=o[k],u.hasOwnProperty(k)&&Y!==Q&&(Y!=null||Q!=null))switch(k){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:et(i,r,k,Y,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)Y=o[Se],o.hasOwnProperty(Se)&&Y!=null&&!u.hasOwnProperty(Se)&&et(i,r,Se,null,u,Y);for(K in u)if(Y=u[K],Q=o[K],u.hasOwnProperty(K)&&Y!==Q&&(Y!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:et(i,r,K,Y,u,Q)}return;default:if(Ul(r)){for(var tt in o)Y=o[tt],o.hasOwnProperty(tt)&&Y!==void 0&&!u.hasOwnProperty(tt)&&qp(i,r,tt,void 0,u,Y);for(ne in u)Y=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||Y===Q||Y===void 0&&Q===void 0||qp(i,r,ne,Y,u,Q);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&et(i,r,F,null,u,Y);for(re in u)Y=u[re],Q=o[re],!u.hasOwnProperty(re)||Y===Q||Y==null&&Q==null||et(i,r,re,Y,u,Q)}var Fp=null,Hp=null;function tf(i){return i.nodeType===9?i:i.ownerDocument}function dE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Gp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kp=null;function sI(){var i=window.event;return i&&i.type==="popstate"?i===Kp?!1:(Kp=i,!0):(Kp=null,!1)}var pE=typeof setTimeout=="function"?setTimeout:void 0,rI=typeof clearTimeout=="function"?clearTimeout:void 0,gE=typeof Promise=="function"?Promise:void 0,aI=typeof queueMicrotask=="function"?queueMicrotask:typeof gE<"u"?function(i){return gE.resolve(null).then(i).catch(oI)}:pE;function oI(i){setTimeout(function(){throw i})}function nr(i){return i==="head"}function yE(i,r){var o=r,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var S=i.ownerDocument;if(o&1&&bu(S.documentElement),o&2&&bu(S.body),o&4)for(o=S.head,bu(o),S=o.firstChild;S;){var w=S.nextSibling,k=S.nodeName;S[Gr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=w}}if(d===0){i.removeChild(g),Nu(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Nu(r)}function $p(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$p(o),Ls(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function lI(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Gr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function uI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=li(i.nextSibling),i===null))return null;return i}function Yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function cI(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function li(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Qp=null;function vE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function _E(i,r,o){switch(r=tf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function bu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ls(i)}var Xn=new Map,TE=new Set;function nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=le.d;le.d={f:hI,r:fI,D:dI,C:mI,L:pI,m:gI,X:vI,S:yI,M:_I};function hI(){var i=gs.f(),r=$h();return i||r}function fI(i){var r=yi(i);r!==null&&r.tag===5&&r.type==="form"?B0(r):gs.r(i)}var Vo=typeof document>"u"?null:document;function EE(i,r,o){var u=Vo;if(u&&typeof r=="string"&&r){var d=Ct(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),TE.has(d)||(TE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Zt(r,"link",i),Tt(r),u.head.appendChild(r)))}}function dI(i){gs.D(i),EE("dns-prefetch",i,null)}function mI(i,r){gs.C(i,r),EE("preconnect",i,r)}function pI(i,r,o){gs.L(i,r,o);var u=Vo;if(u&&i&&r){var d='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ct(o.imageSizes)+'"]')):d+='[href="'+Ct(i)+'"]';var g=d;switch(r){case"style":g=ko(i);break;case"script":g=Lo(i)}Xn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Xn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(wu(g))||r==="script"&&u.querySelector(Au(g))||(r=u.createElement("link"),Zt(r,"link",i),Tt(r),u.head.appendChild(r)))}}function gI(i,r){gs.m(i,r);var o=Vo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Lo(i)}if(!Xn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Xn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Au(g)))return}u=o.createElement("link"),Zt(u,"link",i),Tt(u),o.head.appendChild(u)}}}function yI(i,r,o){gs.S(i,r,o);var u=Vo;if(u&&i){var d=dn(u).hoistableStyles,g=ko(i);r=r||"default";var S=d.get(g);if(!S){var w={loading:0,preload:null};if(S=u.querySelector(wu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Xn.get(g))&&Xp(i,o);var k=S=u.createElement("link");Tt(k),Zt(k,"link",i),k._p=new Promise(function(K,ne){k.onload=K,k.onerror=ne}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sf(S,r,u)}S={type:"stylesheet",instance:S,count:1,state:w},d.set(g,S)}}}function vI(i,r){gs.X(i,r);var o=Vo;if(o&&i){var u=dn(o).hoistableScripts,d=Lo(i),g=u.get(d);g||(g=o.querySelector(Au(d)),g||(i=y({src:i,async:!0},r),(r=Xn.get(d))&&Wp(i,r),g=o.createElement("script"),Tt(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function _I(i,r){gs.M(i,r);var o=Vo;if(o&&i){var u=dn(o).hoistableScripts,d=Lo(i),g=u.get(d);g||(g=o.querySelector(Au(d)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Xn.get(d))&&Wp(i,r),g=o.createElement("script"),Tt(g),Zt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function SE(i,r,o,u){var d=(d=fe.current)?nf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ko(o.href),o=dn(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ko(o.href);var g=dn(d).hoistableStyles,S=g.get(i);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=d.querySelector(wu(i)))&&!g._p&&(S.instance=g,S.state.loading=5),Xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(i,o),g||TI(d,i,o,S.state))),r&&u===null)throw Error(s(528,""));return S}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Lo(o),o=dn(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ko(i){return'href="'+Ct(i)+'"'}function wu(i){return'link[rel="stylesheet"]['+i+"]"}function bE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function TI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Zt(r,"link",o),Tt(r),i.head.appendChild(r))}function Lo(i){return'[src="'+Ct(i)+'"]'}function Au(i){return"script[async]"+i}function wE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return r.instance=u,Tt(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Tt(u),Zt(u,"style",d),sf(u,o.precedence,i),r.instance=u;case"stylesheet":d=ko(o.href);var g=i.querySelector(wu(d));if(g)return r.state.loading|=4,r.instance=g,Tt(g),g;u=bE(o),(d=Xn.get(d))&&Xp(u,d),g=(i.ownerDocument||i).createElement("link"),Tt(g);var S=g;return S._p=new Promise(function(w,k){S.onload=w,S.onerror=k}),Zt(g,"link",u),r.state.loading|=4,sf(g,o.precedence,i),r.instance=g;case"script":return g=Lo(o.src),(d=i.querySelector(Au(g)))?(r.instance=d,Tt(d),d):(u=o,(d=Xn.get(g))&&(u=y({},o),Wp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Tt(d),Zt(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,sf(u,o.precedence,i));return r.instance}function sf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,S=0;S<u.length;S++){var w=u[S];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Wp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rf=null;function AE(i,r,o){if(rf===null){var u=new Map,d=rf=new Map;d.set(o,u)}else d=rf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Gr]||g[Vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(r)||"";S=i+S;var w=u.get(S);w?w.push(g):u.set(S,[g])}}return u}function RE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function EI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function CE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ru=null;function SI(){}function bI(i,r,o){if(Ru===null)throw Error(s(475));var u=Ru;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ko(o.href),g=i.querySelector(wu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=af.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,Tt(g);return}g=i.ownerDocument||i,o=bE(o),(d=Xn.get(d))&&Xp(o,d),g=g.createElement("link"),Tt(g);var S=g;S._p=new Promise(function(w,k){S.onload=w,S.onerror=k}),Zt(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=af.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function wI(){if(Ru===null)throw Error(s(475));var i=Ru;return i.stylesheets&&i.count===0&&Zp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Zp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var of=null;function Zp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,of=new Map,r.forEach(AI,i),of=null,af.call(i))}function AI(i,r){if(!(r.state.loading&4)){var o=of.get(i);if(o)var u=o.get(null);else{o=new Map,of.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var S=d[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=r.instance,S=d.getAttribute("data-precedence"),g=o.get(S)||u,g===u&&o.set(null,d),o.set(S,d),this.count++,u=af.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Cu={$$typeof:q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function RI(i,r,o,u,d,g,S,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function xE(i,r,o,u,d,g,S,w,k,K,ne,re){return i=new RI(i,r,o,S,w,k,K,re),r=1,g===!0&&(r|=24),g=Dn(3,null,null,r),i.current=g,g.stateNode=i,r=Pm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Lm(g),i}function IE(i){return i?(i=mo,i):mo}function DE(i,r,o,u,d,g){d=IE(d),u.context===null?u.context=d:u.pendingContext=d,u=Fs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Hs(i,u,r),o!==null&&(Vn(o,i,r),iu(o,i,r))}function NE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Jp(i,r){NE(i,r),(i=i.alternate)&&NE(i,r)}function OE(i){if(i.tag===13){var r=fo(i,67108864);r!==null&&Vn(r,i,67108864),Jp(i,67108864)}}var lf=!0;function CI(i,r,o,u){var d=X.T;X.T=null;var g=le.p;try{le.p=2,eg(i,r,o,u)}finally{le.p=g,X.T=d}}function xI(i,r,o,u){var d=X.T;X.T=null;var g=le.p;try{le.p=8,eg(i,r,o,u)}finally{le.p=g,X.T=d}}function eg(i,r,o,u){if(lf){var d=tg(u);if(d===null)zp(i,r,u,uf,o),ME(i,u);else if(DI(d,i,r,o,u))u.stopPropagation();else if(ME(i,u),r&4&&-1<II.indexOf(i)){for(;d!==null;){var g=yi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=ii(g.pendingLanes);if(S!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;S;){var k=1<<31-sn(S);w.entanglements[1]|=k,S&=~k}Ni(g),(Xe&6)===0&&(Gh=Un()+500,Tu(0))}}break;case 13:w=fo(g,2),w!==null&&Vn(w,g,2),$h(),Jp(g,2)}if(g=tg(u),g===null&&zp(i,r,u,uf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else zp(i,r,u,null,o)}}function tg(i){return i=zn(i),ng(i)}var uf=null;function ng(i){if(uf=null,i=Yi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return uf=i,null}function PE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rm()){case Al:return 2;case Ga:return 8;case Br:case am:return 32;case Ka:return 268435456;default:return 32}default:return 32}}var ig=!1,ir=null,sr=null,rr=null,xu=new Map,Iu=new Map,ar=[],II="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(i,r){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":xu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(r.pointerId)}}function Du(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=yi(r),r!==null&&OE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function DI(i,r,o,u,d){switch(r){case"focusin":return ir=Du(ir,i,r,o,u,d),!0;case"dragenter":return sr=Du(sr,i,r,o,u,d),!0;case"mouseover":return rr=Du(rr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return xu.set(g,Du(xu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Iu.set(g,Du(Iu.get(g)||null,i,r,o,u,d)),!0}return!1}function VE(i){var r=Yi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,$c(i.priority,function(){if(o.tag===13){var u=Mn();u=Ms(u);var d=fo(o,u);d!==null&&Vn(d,o,u),Jp(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Zi=u,o.target.dispatchEvent(u),Zi=null}else return r=yi(o),r!==null&&OE(r),i.blockedOn=o,!1;r.shift()}return!0}function kE(i,r,o){cf(i)&&o.delete(r)}function NI(){ig=!1,ir!==null&&cf(ir)&&(ir=null),sr!==null&&cf(sr)&&(sr=null),rr!==null&&cf(rr)&&(rr=null),xu.forEach(kE),Iu.forEach(kE)}function hf(i,r){i.blockedOn===r&&(i.blockedOn=null,ig||(ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NI)))}var ff=null;function LE(i){ff!==i&&(ff=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ff===i&&(ff=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(ng(u||o)===null)continue;break}var g=yi(o);g!==null&&(i.splice(r,3),r-=3,np(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Nu(i){function r(k){return hf(k,i)}ir!==null&&hf(ir,i),sr!==null&&hf(sr,i),rr!==null&&hf(rr,i),xu.forEach(r),Iu.forEach(r);for(var o=0;o<ar.length;o++){var u=ar[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ar.length&&(o=ar[0],o.blockedOn===null);)VE(o),o.blockedOn===null&&ar.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],S=d[Rt]||null;if(typeof g=="function")S||LE(o);else if(S){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,S=g[Rt]||null)w=S.formAction;else if(ng(d)!==null)continue}else w=S.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),LE(o)}}}function sg(i){this._internalRoot=i}df.prototype.render=sg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Mn();DE(o,u,i,r,null,null)},df.prototype.unmount=sg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;DE(i.current,2,null,i,null,null),$h(),r[jn]=null}};function df(i){this._internalRoot=i}df.prototype.unstable_scheduleHydration=function(i){if(i){var r=Vs();i={blockedOn:null,target:i,priority:r};for(var o=0;o<ar.length&&r!==0&&r<ar[o].priority;o++);ar.splice(o,0,i),o===0&&VE(i)}};var UE=e.version;if(UE!=="19.1.0")throw Error(s(527,UE,"19.1.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var OI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{pt=mf.inject(OI),Qe=mf}catch{}}return Pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=eT,g=tT,S=nT,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=xE(i,1,!1,null,null,o,u,d,g,S,w,null),i[jn]=r.current,Bp(i),new sg(r)},Pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=eT,S=tT,w=nT,k=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),r=xE(i,1,!0,r,o??null,u,d,g,S,w,k,K),r.context=IE(null),o=r.current,u=Mn(),u=Ms(u),d=Fs(u),d.callback=null,Hs(o,d,u),o=u,r.current.lanes=o,$i(r,o),Ni(r),i[jn]=r.current,Bp(i),new df(r)},Pu.version="19.1.0",Pu}var YE;function qI(){if(YE)return og.exports;YE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=zI(),og.exports}var FI=qI();const HI=hw(FI);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var QE="popstate";function GI(t={}){function e(a,l){let{pathname:c="/",search:f="",hash:m=""}=Ba(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Hg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:tc(l))}function s(a,l){fi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return $I(e,n,s,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KI(){return Math.random().toString(36).substring(2,10)}function XE(t,e){return{usr:t.state,key:t.key,idx:e}}function Hg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ba(e):e,state:n,key:e&&e.key||s||KI()}}function tc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function $I(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let D=y(),j=D==null?null:D-p;p=D,m&&m({action:f,location:M.location,delta:j})}function E(D,j){f="PUSH";let $=Hg(M.location,D,j);n&&n($,D),p=y()+1;let q=XE($,p),ue=M.createHref($);try{c.pushState(q,"",ue)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(ue)}l&&m&&m({action:f,location:M.location,delta:1})}function C(D,j){f="REPLACE";let $=Hg(M.location,D,j);n&&n($,D),p=y();let q=XE($,p),ue=M.createHref($);c.replaceState(q,"",ue),l&&m&&m({action:f,location:M.location,delta:0})}function x(D){return YI(D)}let M={get action(){return f},get location(){return t(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(QE,_),m=D,()=>{a.removeEventListener(QE,_),m=null}},createHref(D){return e(a,D)},createURL:x,encodeLocation(D){let j=x(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:C,go(D){return c.go(D)}};return M}function YI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:tc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function fw(t,e,n="/"){return QI(t,e,n,!1)}function QI(t,e,n,s){let a=typeof e=="string"?Ba(e):e,l=bs(a.pathname||"/",n);if(l==null)return null;let c=dw(t);XI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=oD(l);f=rD(c[m],p,s)}return f}function dw(t,e=[],n=[],s=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Ts([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),dw(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:iD(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of mw(l.path))a(l,c,f)}),e}function mw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=mw(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function XI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var WI=/^:[\w-]+$/,ZI=3,JI=2,eD=1,tD=10,nD=-2,WE=t=>t==="*";function iD(t,e){let n=t.split("/"),s=n.length;return n.some(WE)&&(s+=nD),e&&(s+=JI),n.filter(a=>!WE(a)).reduce((a,l)=>a+(WI.test(l)?ZI:l===""?eD:tD),s)}function sD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function rD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Kf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ts([l,_.pathname]),pathnameBase:hD(Ts([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ts([l,_.pathnameBase]))}return c}function Kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=aD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let x=f[E]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const C=f[E];return _&&!C?p[y]=void 0:p[y]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function aD(t,e=!1,n=!0){fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function oD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function lD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ba(t):t;return{pathname:n?n.startsWith("/")?n:uD(n,e):e,search:fD(s),hash:dD(a)}}function uD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pw(t){let e=cD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function gw(t,e,n,s=!1){let a;typeof t=="string"?a=Ba(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let m=lD(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ts=t=>t.join("/").replace(/\/\/+/g,"/"),hD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var yw=["POST","PUT","PATCH","DELETE"];new Set(yw);var pD=["GET",...yw];new Set(pD);var ul=O.createContext(null);ul.displayName="DataRouter";var Ed=O.createContext(null);Ed.displayName="DataRouterState";O.createContext(!1);var vw=O.createContext({isTransitioning:!1});vw.displayName="ViewTransition";var gD=O.createContext(new Map);gD.displayName="Fetchers";var yD=O.createContext(null);yD.displayName="Await";var Hi=O.createContext(null);Hi.displayName="Navigation";var Tc=O.createContext(null);Tc.displayName="Location";var Ns=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var Yy=O.createContext(null);Yy.displayName="RouteError";function vD(t,{relative:e}={}){dt(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Hi),{hash:a,pathname:l,search:c}=bc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ts([n,l])),s.createHref({pathname:f,search:c,hash:a})}function Ec(){return O.useContext(Tc)!=null}function za(){return dt(Ec(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Tc).location}var _w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tw(t){O.useContext(Hi).static||O.useLayoutEffect(t)}function Sc(){let{isDataRoute:t}=O.useContext(Ns);return t?ND():_D()}function _D(){dt(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(ul),{basename:e,navigator:n}=O.useContext(Hi),{matches:s}=O.useContext(Ns),{pathname:a}=za(),l=JSON.stringify(pw(s)),c=O.useRef(!1);return Tw(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(fi(c.current,_w),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=gw(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ts([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function bc(t,{relative:e}={}){let{matches:n}=O.useContext(Ns),{pathname:s}=za(),a=JSON.stringify(pw(n));return O.useMemo(()=>gw(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function TD(t,e){return Ew(t,e)}function Ew(t,e,n,s){dt(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Hi),{matches:l}=O.useContext(Ns),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";Sw(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=za(),E;if(e){let j=typeof e=="string"?Ba(e):e;dt(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),E=j}else E=_;let C=E.pathname||"/",x=C;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=fw(t,{pathname:x});fi(y||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),fi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=AD(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Ts([p,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Ts([p,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,s);return e&&D?O.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function ED(){let t=DD(),e=mD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var SD=O.createElement(ED,null),bD=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?O.createElement(Ns.Provider,{value:this.props.routeContext},O.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wD({routeContext:t,match:e,children:n}){let s=O.useContext(ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ns.Provider,{value:t},n)}function AD(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,C=null,x=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||SD,c&&(f<0&&y===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):f===y&&(E=!0,x=p.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,y+1)),D=()=>{let j;return _?j=C:E?j=x:p.route.Component?j=O.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,O.createElement(wD,{match:p,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(bD,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function Qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RD(t){let e=O.useContext(ul);return dt(e,Qy(t)),e}function CD(t){let e=O.useContext(Ed);return dt(e,Qy(t)),e}function xD(t){let e=O.useContext(Ns);return dt(e,Qy(t)),e}function Xy(t){let e=xD(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ID(){return Xy("useRouteId")}function DD(){let t=O.useContext(Yy),e=CD("useRouteError"),n=Xy("useRouteError");return t!==void 0?t:e.errors?.[n]}function ND(){let{router:t}=RD("useNavigate"),e=Xy("useNavigate"),n=O.useRef(!1);return Tw(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{fi(n.current,_w),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var ZE={};function Sw(t,e,n){!e&&!ZE[t]&&(ZE[t]=!0,fi(!1,n))}O.memo(OD);function OD({routes:t,future:e,state:n}){return Ew(t,void 0,n,e)}function hr(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){dt(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Ba(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,C=O.useMemo(()=>{let x=bs(m,c);return x==null?null:{location:{pathname:x,search:p,hash:y,state:_,key:E},navigationType:s}},[c,m,p,y,_,E,s]);return fi(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:O.createElement(Hi.Provider,{value:f},O.createElement(Tc.Provider,{children:e,value:C}))}function MD({children:t,location:e}){return TD(Gg(t),e)}function Gg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,Gg(s.props.children,l));return}dt(s.type===hr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Gg(s.props.children,l)),n.push(c)}),n}var Cf="get",xf="application/x-www-form-urlencoded";function Sd(t){return t!=null&&typeof t.tagName=="string"}function VD(t){return Sd(t)&&t.tagName.toLowerCase()==="button"}function kD(t){return Sd(t)&&t.tagName.toLowerCase()==="form"}function LD(t){return Sd(t)&&t.tagName.toLowerCase()==="input"}function UD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jD(t,e){return t.button===0&&(!e||e==="_self")&&!UD(t)}var pf=null;function BD(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var zD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(t){return t!=null&&!zD.has(t)?(fi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):t}function qD(t,e){let n,s,a,l,c;if(kD(t)){let f=t.getAttribute("action");s=f?bs(f,e):null,n=t.getAttribute("method")||Cf,a=fg(t.getAttribute("enctype"))||xf,l=new FormData(t)}else if(VD(t)||LD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?bs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Cf,a=fg(t.getAttribute("formenctype"))||fg(f.getAttribute("enctype"))||xf,l=new FormData(f,t),!BD()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Sd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cf,s=null,a=xf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&bs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function HD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await HD(l,n);return c.links?c.links():[]}return[]}));return XD(s.flat(1).filter(GD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function JE(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function $D(t,e,{includeHydrateFallback:n}={}){return YD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function YD(t){return[...new Set(t)]}function QD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function XD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(QD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function bw(){let t=O.useContext(ul);return Wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WD(){let t=O.useContext(Ed);return Wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zy=O.createContext(void 0);Zy.displayName="FrameworkContext";function ww(){let t=O.useContext(Zy);return Wy(t,"You must render this element inside a <HydratedRouter> element"),t}function ZD(t,e){let n=O.useContext(Zy),[s,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=j=>{j.forEach($=>{c($.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),O.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let C=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Mu(f,C),onBlur:Mu(m,x),onMouseEnter:Mu(p,C),onMouseLeave:Mu(y,x),onTouchStart:Mu(_,C)}]:[!1,E,{}]}function Mu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JD({page:t,...e}){let{router:n}=bw(),s=O.useMemo(()=>fw(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(tN,{page:t,matches:s,...e}):null}function eN(t){let{manifest:e,routeModules:n}=ww(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return KD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function tN({page:t,matches:e,...n}){let s=za(),{manifest:a,routeModules:l}=ww(),{basename:c}=bw(),{loaderData:f,matches:m}=WD(),p=O.useMemo(()=>JE(t,e,m,a,s,"data"),[t,e,m,a,s]),y=O.useMemo(()=>JE(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let x=new Set,M=!1;if(e.forEach(j=>{let $=a.routes[j.route.id];!$||!$.hasLoader||(!p.some(q=>q.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||$.hasClientLoader?M=!0:x.add(j.route.id))}),x.size===0)return[];let D=FD(t,c,"data");return M&&x.size>0&&D.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[c,f,s,a,p,e,t,l]),E=O.useMemo(()=>$D(y,a),[y,a]),C=eN(y);return O.createElement(O.Fragment,null,_.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),E.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),C.map(({key:x,link:M})=>O.createElement("link",{key:x,...M})))}function nN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aw&&(window.__reactRouterVersion="7.7.0")}catch{}function iN({basename:t,children:e,window:n}){let s=O.useRef();s.current==null&&(s.current=GI({window:n,v5Compat:!0}));let a=s.current,[l,c]=O.useState({action:a.action,location:a.location}),f=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(PD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var Rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},C){let{basename:x}=O.useContext(Hi),M=typeof p=="string"&&Rw.test(p),D,j=!1;if(typeof p=="string"&&M&&(D=p,Aw))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),U=bs(L.pathname,x);L.origin===I.origin&&U!=null?p=U+L.search+L.hash:j=!0}catch{fi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=vD(p,{relative:a}),[q,ue,te]=ZD(s,E),W=oN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function N(I){e&&e(I),I.defaultPrevented||W(I)}let A=O.createElement("a",{...E,...te,href:D||$,onClick:j||l?e:N,ref:nN(C,ue),target:m,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?O.createElement(O.Fragment,null,A,O.createElement(JD,{page:$})):A});Jn.displayName="Link";var sN=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=bc(c,{relative:p.relative}),E=za(),C=O.useContext(Ed),{navigator:x,basename:M}=O.useContext(Hi),D=C!=null&&fN(_)&&f===!0,j=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,$=E.pathname,q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||($=$.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&M&&(q=bs(q,M)||q);const ue=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let te=$===j||!a&&$.startsWith(j)&&$.charAt(ue)==="/",W=q!=null&&(q===j||!a&&q.startsWith(j)&&q.charAt(j.length)==="/"),N={isActive:te,isPending:W,isTransitioning:D},A=te?e:void 0,I;typeof s=="function"?I=s(N):I=[s,te?"active":null,W?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return O.createElement(Jn,{...p,"aria-current":A,className:I,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(N):m)});sN.displayName="NavLink";var rN=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Cf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},C)=>{let x=cN(),M=hN(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&Rw.test(f),$=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let ue=q.nativeEvent.submitter,te=ue?.getAttribute("formmethod")||c;x(ue||q.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:C,method:D,action:M,onSubmit:s?m:$,...E,"data-discover":!j&&t==="render"?"true":void 0})});rN.displayName="Form";function aN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(t){let e=O.useContext(ul);return dt(e,aN(t)),e}function oN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Sc(),m=za(),p=bc(t,{relative:l});return O.useCallback(y=>{if(jD(y,e)){y.preventDefault();let _=n!==void 0?n:tc(m)===tc(p);f(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,s,e,t,a,l,c])}var lN=0,uN=()=>`__${String(++lN)}__`;function cN(){let{router:t}=Cw("useSubmit"),{basename:e}=O.useContext(Hi),n=ID();return O.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=qD(s,e);if(a.navigate===!1){let y=a.fetcherKey||uN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function hN(t,{relative:e}={}){let{basename:n}=O.useContext(Hi),s=O.useContext(Ns);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...bc(t||".",{relative:e})},c=za();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ts([n,l.pathname])),tc(l)}function fN(t,e={}){let n=O.useContext(vw);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Cw("useViewTransitionState"),a=bc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kf(a.pathname,c)!=null||Kf(a.pathname,l)!=null}const dN=()=>{};var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},mN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,C=p&63;m||(C=64,c||(E=64)),s.push(n[y],n[_],n[E],n[C])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new pN;const E=l<<2|f>>4;if(s.push(E),p!==64){const C=f<<4&240|p>>2;if(s.push(C),_!==64){const x=p<<6&192|_;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gN=function(t){const e=xw(t);return Iw.encodeByteArray(e,!0)},$f=function(t){return gN(t).replace(/\./g,"")},Dw=function(t){try{return Iw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=()=>yN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof e1>"u")return;const t=e1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dw(t[1]);return e&&JSON.parse(e)},bd=()=>{try{return dN()||vN()||_N()||TN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nw=t=>bd()?.emulatorHosts?.[t],EN=t=>{const e=Nw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ow=()=>bd()?.config,Pw=t=>bd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$f(JSON.stringify(n)),$f(JSON.stringify(c)),""].join(".")}const Hu={};function wN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?t.emulator.push(e):t.prod.push(e);return t}function AN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let t1=!1;function Vw(t,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Hu[t]===e||Hu[t]||t1)return;Hu[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=wN().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{t1=!0,c()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=AN(s),C=n("text"),x=document.getElementById(C)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),j=n("preprendIcon"),$=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;f(q),y(D,M);const ue=p();m($,j),q.append($,x,D,ue),document.body.appendChild(q)}l?(x.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function CN(){const t=bd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NN(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ON(){return!CN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PN(){try{return typeof indexedDB=="object"}catch{return!1}}function MN(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="FirebaseError";class Os extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VN,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?kN(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Os(a,f,s)}}function kN(t,e){return t.replace(LN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const LN=/\{\$([^}]+)}/g;function UN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(n1(l)&&n1(c)){if(!Pa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function n1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Lu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jN(t,e){const n=new BN(t,e);return n.subscribe.bind(n)}class BN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=dg),a.error===void 0&&(a.error=dg),a.complete===void 0&&(a.complete=dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new SN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HN(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FN(t){return t===Sa?void 0:t}function HN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const KN={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},$N=Le.INFO,YN={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},QN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=YN[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=$N,this._logHandler=QN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const XN=(t,e)=>e.some(n=>t instanceof n);let i1,s1;function WN(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZN(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,Kg=new WeakMap,Lw=new WeakMap,mg=new WeakMap,ev=new WeakMap;function JN(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(_r(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&kw.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function eO(t){if(Kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Kg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tO(t){$g=t($g)}function nO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(pg(this),e,...n);return Lw.set(s,e.sort?e.sort():[e]),_r(s)}:ZN().includes(t)?function(...e){return t.apply(pg(this),e),_r(kw.get(this))}:function(...e){return _r(t.apply(pg(this),e))}}function iO(t){return typeof t=="function"?nO(t):(t instanceof IDBTransaction&&eO(t),XN(t,WN())?new Proxy(t,$g):t)}function _r(t){if(t instanceof IDBRequest)return JN(t);if(mg.has(t))return mg.get(t);const e=iO(t);return e!==t&&(mg.set(t,e),ev.set(e,t)),e}const pg=t=>ev.get(t);function sO(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=_r(c);return s&&c.addEventListener("upgradeneeded",m=>{s(_r(c.result),m.oldVersion,m.newVersion,_r(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const rO=["get","getKey","getAll","getAllKeys","count"],aO=["put","add","delete","clear"],gg=new Map;function r1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=aO.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||rO.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return gg.set(e,l),l}tO(t=>({...t,get:(e,n,s)=>r1(e,n)||t.get(e,n,s),has:(e,n)=>!!r1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lO(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lO(t){return t.getComponent()?.type==="VERSION"}const Yg="@firebase/app",a1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Jy("@firebase/app"),uO="@firebase/app-compat",cO="@firebase/analytics-compat",hO="@firebase/analytics",fO="@firebase/app-check-compat",dO="@firebase/app-check",mO="@firebase/auth",pO="@firebase/auth-compat",gO="@firebase/database",yO="@firebase/data-connect",vO="@firebase/database-compat",_O="@firebase/functions",TO="@firebase/functions-compat",EO="@firebase/installations",SO="@firebase/installations-compat",bO="@firebase/messaging",wO="@firebase/messaging-compat",AO="@firebase/performance",RO="@firebase/performance-compat",CO="@firebase/remote-config",xO="@firebase/remote-config-compat",IO="@firebase/storage",DO="@firebase/storage-compat",NO="@firebase/firestore",OO="@firebase/ai",PO="@firebase/firestore-compat",MO="firebase",VO="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="[DEFAULT]",kO={[Yg]:"fire-core",[uO]:"fire-core-compat",[hO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[fO]:"fire-app-check-compat",[mO]:"fire-auth",[pO]:"fire-auth-compat",[gO]:"fire-rtdb",[yO]:"fire-data-connect",[vO]:"fire-rtdb-compat",[_O]:"fire-fn",[TO]:"fire-fn-compat",[EO]:"fire-iid",[SO]:"fire-iid-compat",[bO]:"fire-fcm",[wO]:"fire-fcm-compat",[AO]:"fire-perf",[RO]:"fire-perf-compat",[CO]:"fire-rc",[xO]:"fire-rc-compat",[IO]:"fire-gcs",[DO]:"fire-gcs-compat",[NO]:"fire-fst",[PO]:"fire-fst-compat",[OO]:"fire-vertex","fire-js":"fire-js",[MO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,LO=new Map,Xg=new Map;function o1(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(Xg.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,t);for(const n of Yf.values())o1(n,t);for(const n of LO.values())o1(n,t);return!0}function tv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new wc("app","Firebase",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=VO;function Uw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Qg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Tr.create("bad-app-name",{appName:String(a)});if(n||(n=Ow()),!n)throw Tr.create("no-options");const l=Yf.get(a);if(l){if(Pa(n,l.options)&&Pa(s,l.config))return l;throw Tr.create("duplicate-app",{appName:a})}const c=new GN(a);for(const m of Xg.values())c.addComponent(m);const f=new jO(n,s,c);return Yf.set(a,f),f}function jw(t=Qg){const e=Yf.get(t);if(!e&&t===Qg&&Ow())return Uw();if(!e)throw Tr.create("no-app",{appName:t});return e}function Er(t,e,n){let s=kO[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(c.join(" "));return}Jo(new Ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebase-heartbeat-database",zO=1,nc="firebase-heartbeat-store";let yg=null;function Bw(){return yg||(yg=sO(BO,zO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),yg}async function qO(t){try{const n=(await Bw()).transaction(nc),s=await n.objectStore(nc).get(zw(t));return await n.done,s}catch(e){if(e instanceof Os)ws.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e?.message});ws.warn(n.message)}}}async function l1(t,e){try{const s=(await Bw()).transaction(nc,"readwrite");await s.objectStore(nc).put(e,zw(t)),await s.done}catch(n){if(n instanceof Os)ws.warn(n.message);else{const s=Tr.create("idb-set",{originalErrorMessage:n?.message});ws.warn(s.message)}}}function zw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=1024,HO=30;class GO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $O(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>HO){const a=YO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=u1(),{heartbeatsToSend:n,unsentEntries:s}=KO(this._heartbeatsCache.heartbeats),a=$f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ws.warn(e),""}}}function u1(){return new Date().toISOString().substring(0,10)}function KO(t,e=FO){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),c1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),c1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $O{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PN()?MN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function c1(t){return $f(JSON.stringify({version:2,heartbeats:t})).length}function YO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){Jo(new Ma("platform-logger",e=>new oO(e),"PRIVATE")),Jo(new Ma("heartbeat",e=>new GO(e),"PRIVATE")),Er(Yg,a1,t),Er(Yg,a1,"esm2020"),Er("fire-js","")}QO("");function qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XO=qw,Fw=new wc("auth","Firebase",qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Jy("@firebase/auth");function WO(t,...e){Qf.logLevel<=Le.WARN&&Qf.warn(`Auth (${hl}): ${t}`,...e)}function If(t,...e){Qf.logLevel<=Le.ERROR&&Qf.error(`Auth (${hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,...e){throw nv(t,...e)}function Mi(t,...e){return nv(t,...e)}function Hw(t,e,n){const s={...XO(),[e]:n};return new wc("auth","Firebase",s).create(e,{appName:t.name})}function Es(t){return Hw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Fw.create(t,...e)}function we(t,e,...n){if(!t)throw nv(e,...n)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function As(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){return typeof self<"u"&&self.location?.href||""}function ZO(){return h1()==="http:"||h1()==="https:"}function h1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZO()||IN()||"connection"in navigator)?navigator.onLine:!0}function eP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,As(n>e,"Short delay should be less than long delay!"),this.isMobile=RN()||DN()}get(){return JO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){As(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iP=new Rc(3e4,6e4);function Or(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pr(t,e,n,s,a={}){return Kw(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Ac({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return xN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&cl(t.emulatorConfig.host)&&(p.credentials="include"),Gw.fetch()(await $w(t,t.config.apiHost,n,f),p)})}async function Kw(t,e,n){t._canInitEmulator=!1;const s={...tP,...e};try{const a=new rP(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw gf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw gf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw gf(t,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Hw(t,y,p);di(t,y)}}catch(a){if(a instanceof Os)throw a;di(t,"network-request-failed",{message:String(a)})}}async function Cc(t,e,n,s,a={}){const l=await Pr(t,e,n,s,a);return"mfaPendingCredential"in l&&di(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function $w(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?iv(t.config,a):`${t.config.apiScheme}://${a}`;return nP.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function sP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),iP.get())})}}function gf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Mi(t,e,s);return a.customData._tokenResponse=n,a}function f1(t){return t!==void 0&&t.enterprise!==void 0}class aP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oP(t,e){return Pr(t,"GET","/v2/recaptchaConfig",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e){return Pr(t,"POST","/v1/accounts:delete",e)}async function Xf(t,e){return Pr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uP(t,e=!1){const n=zt(t),s=await n.getIdToken(e),a=sv(s);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Gu(vg(a.auth_time)),issuedAtTime:Gu(vg(a.iat)),expirationTime:Gu(vg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vg(t){return Number(t)*1e3}function sv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=Dw(n);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a?.toString()),null}}function d1(t){const e=sv(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Os&&cP(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function cP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){const e=t.auth,n=await t.getIdToken(),s=await ic(t,Xf(e,{idToken:n}));we(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Yw(a.providerUserInfo):[],c=dP(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function fP(t){const e=zt(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dP(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function Yw(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e){const n=await Kw(t,{},async()=>{const s=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await $w(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&cl(t.emulatorConfig.host)&&(m.credentials="include"),Gw.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pP(t,e){return Pr(t,"POST","/v2/accounts:revokeToken",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=d1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await mP(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Yo;return s&&(we(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new hP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uP(this,e)}reload(){return fP(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await ic(this,lP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:C,providerData:x,stsTokenManager:M}=n;we(_&&M,e,"internal-error");const D=Yo.fromJSON(this.name,M);we(typeof _=="string",e,"internal-error"),lr(s,e.name),lr(a,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof C=="boolean",e,"internal-error"),lr(l,e.name),lr(c,e.name),lr(f,e.name),lr(m,e.name),lr(p,e.name),lr(y,e.name);const j=new hi({uid:_,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:D,createdAt:p,lastLoginAt:y});return x&&Array.isArray(x)&&(j.providerData=x.map($=>({...$}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,n,s=!1){const a=new Yo;a.updateFromServerResponse(n);const l=new hi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Wf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Yw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Yo;f.updateFromIdToken(s);const m=new hi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function vs(t){As(t instanceof Function,"Expected a class definition");let e=m1.get(t);return e?(As(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Qw.type="NONE";const p1=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Df(this.userKey,a.apiKey,l),this.fullPersistenceKey=Df("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xf(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Qo(vs(p1),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||vs(p1);const c=Df(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Xf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await hi._fromGetAccountInfoResponse(e,E,y)}else _=hi._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Qo(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Qo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tA(e))return"Blackberry";if(nA(e))return"Webos";if(Ww(e))return"Safari";if((e.includes("chrome/")||Zw(e))&&!e.includes("edge/"))return"Chrome";if(eA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function Xw(t=fn()){return/firefox\//i.test(t)}function Ww(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zw(t=fn()){return/crios\//i.test(t)}function Jw(t=fn()){return/iemobile/i.test(t)}function eA(t=fn()){return/android/i.test(t)}function tA(t=fn()){return/blackberry/i.test(t)}function nA(t=fn()){return/webos/i.test(t)}function rv(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gP(t=fn()){return rv(t)&&!!window.navigator?.standalone}function yP(){return NN()&&document.documentMode===10}function iA(t=fn()){return rv(t)||eA(t)||nA(t)||tA(t)||/windows phone/i.test(t)||Jw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e=[]){let n;switch(t){case"Browser":n=g1(fn());break;case"Worker":n=`${g1(fn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e={}){return Pr(t,"GET","/v2/passwordPolicy",Or(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=6;class EP{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TP,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new vP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xf(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Es(this));const n=e?zt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _P(this),n=new EP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pP(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qa(t){return zt(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=jN(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bP(t){wd=t}function rA(t){return wd.loadJS(t)}function wP(){return wd.recaptchaEnterpriseScript}function AP(){return wd.gapiScript}function RP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CP{constructor(){this.enterprise=new xP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IP="recaptcha-enterprise",aA="NO_RECAPTCHA";class DP{constructor(e){this.type=IP,this.auth=qa(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{oP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new aP(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;f1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(aA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CP().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&f1(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=wP();m.length!==0&&(m+=f),rA(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function v1(t,e,n,s=!1,a=!1){const l=new DP(t);let c;if(a)c=aA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Jg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await v1(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await v1(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){const n=tv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Pa(l,e??{}))return a;di(a,"already-initialized")}return n.initialize({options:e})}function OP(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function PP(t,e,n){const s=qa(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=oA(e),{host:c,port:f}=MP(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Pa(p,s.config.emulator)&&Pa(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,cl(c)?(Mw(`${l}//${c}${m}`),Vw("Auth",!0)):VP()}function oA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MP(t){const e=oA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:_1(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:_1(c)}}}function _1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function kP(t,e){return Pr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e){return Cc(t,"POST","/v1/accounts:signInWithPassword",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Or(t,e))}async function jP(t,e){return Cc(t,"POST","/v1/accounts:signInWithEmailLink",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends av{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new sc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jg(e,n,"signInWithPassword",LP);case"emailLink":return UP(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jg(e,s,"signUpPassword",kP);case"emailLink":return jP(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return Cc(t,"POST","/v1/accounts:signInWithIdp",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="http://localhost";class Va extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Va(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:BP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qP(t){const e=Lu(Uu(t)).link,n=e?Lu(Uu(e)).deep_link_id:null,s=Lu(Uu(t)).deep_link_id;return(s?Lu(Uu(s)).link:null)||s||n||e||t}class ov{constructor(e){const n=Lu(Uu(e)),s=n.apiKey??null,a=n.oobCode??null,l=zP(n.mode??null);we(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qP(e);try{return new ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ov.parseLink(n);return we(s,"argument-error"),sc._fromEmailAndCode(e,s.code,s.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends lA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends xc{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Va._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return mr.credential(n,s)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends xc{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends xc{constructor(){super("twitter.com")}static credential(e,n){return Va._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return gr.credential(n,s)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e){return Cc(t,"POST","/v1/accounts:signUp",Or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await hi._fromIdTokenResponse(e,s,a),c=T1(s);return new ka({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=T1(s);return new ka({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function T1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Os{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Zf(e,n,s,a)}}function uA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zf._fromErrorAndOperation(t,l,e,s):l})}async function HP(t,e,n=!1){const s=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ka._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t,e,n=!1){const{auth:s}=t;if(ei(s.app))return Promise.reject(Es(s));const a="reauthenticate";try{const l=await ic(t,uA(s,a,e,t),n);we(l.idToken,s,"internal-error");const c=sv(l.idToken);we(c,s,"internal-error");const{sub:f}=c;return we(t.uid===f,s,"user-mismatch"),ka._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&di(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(t,e,n=!1){if(ei(t.app))return Promise.reject(Es(t));const s="signIn",a=await uA(t,s,e),l=await ka._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function KP(t,e){return cA(qa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t){const e=qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $P(t,e,n){if(ei(t.app))return Promise.reject(Es(t));const s=qa(t),c=await Jg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&hA(t),m}),f=await ka._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function YP(t,e,n){return ei(t.app)?Promise.reject(Es(t)):KP(zt(t),fl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hA(t),s})}function QP(t,e,n,s){return zt(t).onIdTokenChanged(e,n,s)}function XP(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function lv(t,e,n,s){return zt(t).onAuthStateChanged(e,n,s)}function WP(t){return zt(t).signOut()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,JP=10;class dA extends fA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);yP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,JP):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dA.type="LOCAL";const eM=dA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA extends fA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mA.type="SESSION";const pA=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Ad(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await tM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=uv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function iM(t){Vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function sM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){return navigator?.serviceWorker?.controller||null}function aM(){return gA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebaseLocalStorageDb",oM=1,ed="firebaseLocalStorage",vA="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function lM(){const t=indexedDB.deleteDatabase(yA);return new Ic(t).toPromise()}function ey(){const t=indexedDB.open(yA,oM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ed,{keyPath:vA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ed)?e(s):(s.close(),await lM(),e(await ey()))})})}async function E1(t,e,n){const s=Rd(t,!0).put({[vA]:e,value:n});return new Ic(s).toPromise()}async function uM(t,e){const n=Rd(t,!1).get(e),s=await new Ic(n).toPromise();return s===void 0?null:s.value}function S1(t,e){const n=Rd(t,!0).delete(e);return new Ic(n).toPromise()}const cM=800,hM=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(aM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sM(),!this.activeServiceWorker)return;this.sender=new nM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await E1(e,Jf,"1"),await S1(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const fM=_A;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){return e?vs(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mM(t){return cA(t.auth,new cv(t),t.bypassAuthState)}function pM(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),GP(n,new cv(t),t.bypassAuthState)}async function gM(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),HP(n,new cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mM;case"linkViaPopup":case"linkViaRedirect":return gM;case"reauthViaPopup":case"reauthViaRedirect":return pM;default:di(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Rc(2e3,1e4);class qo extends TA{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yM.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="pendingRedirect",Nf=new Map;class _M extends TA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const s=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(t,e){const n=bM(e),s=SM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function EM(t,e){Nf.set(t._key(),e)}function SM(t){return vs(t._redirectPersistence)}function bM(t){return Df(vM,t.config.apiKey,t.name)}async function wM(t,e,n=!1){if(ei(t.app))return Promise.reject(Es(t));const s=qa(t),a=dM(s,e),c=await new _M(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=10*60*1e3;class RM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!EA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AM&&this.cachedEventUids.clear(),this.cachedEventUids.has(b1(e))}saveEventToCache(e){this.cachedEventUids.add(b1(e)),this.lastProcessedEventTime=Date.now()}}function b1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function CM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return Pr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DM=/^https?/;async function NM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(OM(n))return}catch{}di(t,"unauthorized-domain")}function OM(t){const e=Wg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!DM.test(n))return!1;if(IM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Rc(3e4,6e4);function w1(){const t=Vi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MM(t){return new Promise((e,n)=>{function s(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),n(Mi(t,"network-request-failed"))},timeout:PM.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const a=RP("iframefcb");return Vi()[a]=()=>{gapi.load?s():n(Mi(t,"network-request-failed"))},rA(`${AP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Of=null,e})}let Of=null;function VM(t){return Of=Of||MM(t),Of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new Rc(5e3,15e3),LM="__/auth/iframe",UM="emulator/auth/iframe",jM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zM(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iv(e,UM):`https://${t.config.authDomain}/${LM}`,s={apiKey:e.apiKey,appName:t.name,v:hl},a=BM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Ac(s).slice(1)}`}async function qM(t){const e=await VM(t),n=Vi().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:zM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Mi(t,"network-request-failed"),f=Vi().setTimeout(()=>{l(c)},kM.get());function m(){Vi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HM=500,GM=600,KM="_blank",$M="http://localhost";class A1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YM(t,e,n,s=HM,a=GM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...FM,width:s.toString(),height:a.toString(),top:l,left:c},p=fn().toLowerCase();n&&(f=Zw(p)?KM:n),Xw(p)&&(e=e||$M,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[C,x])=>`${E}${C}=${x},`,"");if(gP(p)&&f!=="_self")return QM(e||"",f),new A1(null);const _=window.open(e||"",f,y);we(_,t,"popup-blocked");try{_.focus()}catch{}return new A1(_)}function QM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="__/auth/handler",WM="emulator/auth/handler",ZM=encodeURIComponent("fac");async function R1(t,e,n,s,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:hl,eventId:a};if(e instanceof lA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",UN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof xc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${ZM}=${encodeURIComponent(m)}`:"";return`${JM(t)}?${Ac(f).slice(1)}${p}`}function JM({config:t}){return t.emulator?iv(t,WM):`https://${t.authDomain}/${XM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class eV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=wM,this._overrideRedirectResult=EM}async _openPopup(e,n,s,a){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await R1(e,n,s,Wg(),a);return YM(e,l,uv())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await R1(e,n,s,Wg(),a);return iM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(As(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await qM(e),s=new RM(e);return n.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_g,{type:_g},a=>{const l=a?.[0]?.[_g];l!==void 0&&n(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iA()||Ww()||rv()}}const tV=eV;var C1="@firebase/auth",x1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sV(t){Jo(new Ma("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(t)},p=new SP(s,a,l,m);return OP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ma("auth-internal",e=>{const n=qa(e.getProvider("auth").getImmediate());return(s=>new nV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(C1,x1,iV(t)),Er(C1,x1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=5*60,aV=Pw("authIdTokenMaxAge")||rV;let I1=null;const oV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aV)return;const a=n?.token;I1!==a&&(I1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SA(t=jw()){const e=tv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NP(t,{popupRedirectResolver:tV,persistence:[fM,eM,pA]}),s=Pw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=oV(l.toString());XP(n,c,()=>c(n.currentUser)),QP(n,f=>c(f))}}const a=Nw("auth");return a&&PP(n,`http://${a}`),n}function lV(){return document.getElementsByTagName("head")?.[0]??document}bP({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Mi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",lV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sV("Browser");var uV="firebase",cV="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(uV,cV,"app");var D1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,bA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function I(){}I.prototype=A.prototype,N.D=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(L,U,B){for(var P=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)P[Be-2]=arguments[Be];return A.prototype[U].apply(L,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,I){I||(I=0);var L=Array(16);if(typeof A=="string")for(var U=0;16>U;++U)L[U]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(U=0;16>U;++U)L[U]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],U=N.g[2];var B=N.g[3],P=A+(B^I&(U^B))+L[0]+3614090360&4294967295;A=I+(P<<7&4294967295|P>>>25),P=B+(U^A&(I^U))+L[1]+3905402710&4294967295,B=A+(P<<12&4294967295|P>>>20),P=U+(I^B&(A^I))+L[2]+606105819&4294967295,U=B+(P<<17&4294967295|P>>>15),P=I+(A^U&(B^A))+L[3]+3250441966&4294967295,I=U+(P<<22&4294967295|P>>>10),P=A+(B^I&(U^B))+L[4]+4118548399&4294967295,A=I+(P<<7&4294967295|P>>>25),P=B+(U^A&(I^U))+L[5]+1200080426&4294967295,B=A+(P<<12&4294967295|P>>>20),P=U+(I^B&(A^I))+L[6]+2821735955&4294967295,U=B+(P<<17&4294967295|P>>>15),P=I+(A^U&(B^A))+L[7]+4249261313&4294967295,I=U+(P<<22&4294967295|P>>>10),P=A+(B^I&(U^B))+L[8]+1770035416&4294967295,A=I+(P<<7&4294967295|P>>>25),P=B+(U^A&(I^U))+L[9]+2336552879&4294967295,B=A+(P<<12&4294967295|P>>>20),P=U+(I^B&(A^I))+L[10]+4294925233&4294967295,U=B+(P<<17&4294967295|P>>>15),P=I+(A^U&(B^A))+L[11]+2304563134&4294967295,I=U+(P<<22&4294967295|P>>>10),P=A+(B^I&(U^B))+L[12]+1804603682&4294967295,A=I+(P<<7&4294967295|P>>>25),P=B+(U^A&(I^U))+L[13]+4254626195&4294967295,B=A+(P<<12&4294967295|P>>>20),P=U+(I^B&(A^I))+L[14]+2792965006&4294967295,U=B+(P<<17&4294967295|P>>>15),P=I+(A^U&(B^A))+L[15]+1236535329&4294967295,I=U+(P<<22&4294967295|P>>>10),P=A+(U^B&(I^U))+L[1]+4129170786&4294967295,A=I+(P<<5&4294967295|P>>>27),P=B+(I^U&(A^I))+L[6]+3225465664&4294967295,B=A+(P<<9&4294967295|P>>>23),P=U+(A^I&(B^A))+L[11]+643717713&4294967295,U=B+(P<<14&4294967295|P>>>18),P=I+(B^A&(U^B))+L[0]+3921069994&4294967295,I=U+(P<<20&4294967295|P>>>12),P=A+(U^B&(I^U))+L[5]+3593408605&4294967295,A=I+(P<<5&4294967295|P>>>27),P=B+(I^U&(A^I))+L[10]+38016083&4294967295,B=A+(P<<9&4294967295|P>>>23),P=U+(A^I&(B^A))+L[15]+3634488961&4294967295,U=B+(P<<14&4294967295|P>>>18),P=I+(B^A&(U^B))+L[4]+3889429448&4294967295,I=U+(P<<20&4294967295|P>>>12),P=A+(U^B&(I^U))+L[9]+568446438&4294967295,A=I+(P<<5&4294967295|P>>>27),P=B+(I^U&(A^I))+L[14]+3275163606&4294967295,B=A+(P<<9&4294967295|P>>>23),P=U+(A^I&(B^A))+L[3]+4107603335&4294967295,U=B+(P<<14&4294967295|P>>>18),P=I+(B^A&(U^B))+L[8]+1163531501&4294967295,I=U+(P<<20&4294967295|P>>>12),P=A+(U^B&(I^U))+L[13]+2850285829&4294967295,A=I+(P<<5&4294967295|P>>>27),P=B+(I^U&(A^I))+L[2]+4243563512&4294967295,B=A+(P<<9&4294967295|P>>>23),P=U+(A^I&(B^A))+L[7]+1735328473&4294967295,U=B+(P<<14&4294967295|P>>>18),P=I+(B^A&(U^B))+L[12]+2368359562&4294967295,I=U+(P<<20&4294967295|P>>>12),P=A+(I^U^B)+L[5]+4294588738&4294967295,A=I+(P<<4&4294967295|P>>>28),P=B+(A^I^U)+L[8]+2272392833&4294967295,B=A+(P<<11&4294967295|P>>>21),P=U+(B^A^I)+L[11]+1839030562&4294967295,U=B+(P<<16&4294967295|P>>>16),P=I+(U^B^A)+L[14]+4259657740&4294967295,I=U+(P<<23&4294967295|P>>>9),P=A+(I^U^B)+L[1]+2763975236&4294967295,A=I+(P<<4&4294967295|P>>>28),P=B+(A^I^U)+L[4]+1272893353&4294967295,B=A+(P<<11&4294967295|P>>>21),P=U+(B^A^I)+L[7]+4139469664&4294967295,U=B+(P<<16&4294967295|P>>>16),P=I+(U^B^A)+L[10]+3200236656&4294967295,I=U+(P<<23&4294967295|P>>>9),P=A+(I^U^B)+L[13]+681279174&4294967295,A=I+(P<<4&4294967295|P>>>28),P=B+(A^I^U)+L[0]+3936430074&4294967295,B=A+(P<<11&4294967295|P>>>21),P=U+(B^A^I)+L[3]+3572445317&4294967295,U=B+(P<<16&4294967295|P>>>16),P=I+(U^B^A)+L[6]+76029189&4294967295,I=U+(P<<23&4294967295|P>>>9),P=A+(I^U^B)+L[9]+3654602809&4294967295,A=I+(P<<4&4294967295|P>>>28),P=B+(A^I^U)+L[12]+3873151461&4294967295,B=A+(P<<11&4294967295|P>>>21),P=U+(B^A^I)+L[15]+530742520&4294967295,U=B+(P<<16&4294967295|P>>>16),P=I+(U^B^A)+L[2]+3299628645&4294967295,I=U+(P<<23&4294967295|P>>>9),P=A+(U^(I|~B))+L[0]+4096336452&4294967295,A=I+(P<<6&4294967295|P>>>26),P=B+(I^(A|~U))+L[7]+1126891415&4294967295,B=A+(P<<10&4294967295|P>>>22),P=U+(A^(B|~I))+L[14]+2878612391&4294967295,U=B+(P<<15&4294967295|P>>>17),P=I+(B^(U|~A))+L[5]+4237533241&4294967295,I=U+(P<<21&4294967295|P>>>11),P=A+(U^(I|~B))+L[12]+1700485571&4294967295,A=I+(P<<6&4294967295|P>>>26),P=B+(I^(A|~U))+L[3]+2399980690&4294967295,B=A+(P<<10&4294967295|P>>>22),P=U+(A^(B|~I))+L[10]+4293915773&4294967295,U=B+(P<<15&4294967295|P>>>17),P=I+(B^(U|~A))+L[1]+2240044497&4294967295,I=U+(P<<21&4294967295|P>>>11),P=A+(U^(I|~B))+L[8]+1873313359&4294967295,A=I+(P<<6&4294967295|P>>>26),P=B+(I^(A|~U))+L[15]+4264355552&4294967295,B=A+(P<<10&4294967295|P>>>22),P=U+(A^(B|~I))+L[6]+2734768916&4294967295,U=B+(P<<15&4294967295|P>>>17),P=I+(B^(U|~A))+L[13]+1309151649&4294967295,I=U+(P<<21&4294967295|P>>>11),P=A+(U^(I|~B))+L[4]+4149444226&4294967295,A=I+(P<<6&4294967295|P>>>26),P=B+(I^(A|~U))+L[11]+3174756917&4294967295,B=A+(P<<10&4294967295|P>>>22),P=U+(A^(B|~I))+L[2]+718787259&4294967295,U=B+(P<<15&4294967295|P>>>17),P=I+(B^(U|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var I=A-this.blockSize,L=this.B,U=this.h,B=0;B<A;){if(U==0)for(;B<=I;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<A;)if(L[U++]=N.charCodeAt(B++),U==this.blockSize){a(this,L),U=0;break}}else for(;B<A;)if(L[U++]=N[B++],U==this.blockSize){a(this,L),U=0;break}}this.h=U,this.o+=A},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var I=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=I&255,I/=256;for(this.u(N),N=Array(16),A=I=0;4>A;++A)for(var L=0;32>L;L+=8)N[I++]=this.g[A]>>>L&255;return N};function l(N,A){var I=f;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function c(N,A){this.h=A;for(var I=[],L=!0,U=N.length-1;0<=U;U--){var B=N[U]|0;L&&B==A||(I[U]=B,L=!1)}this.g=I}var f={};function m(N){return-128<=N&&128>N?l(N,function(A){return new c([A|0],0>A?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return D(p(-N));for(var A=[],I=1,L=0;N>=I;L++)A[L]=N/I|0,I*=4294967296;return new c(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return D(y(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(A,8)),L=_,U=0;U<N.length;U+=8){var B=Math.min(8,N.length-U),P=parseInt(N.substring(U,U+B),A);8>B?(B=p(Math.pow(A,B)),L=L.j(B).add(p(P))):(L=L.j(I),L=L.add(p(P)))}return L}var _=m(0),E=m(1),C=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-D(this).m();for(var N=0,A=1,I=0;I<this.g.length;I++){var L=this.i(I);N+=(0<=L?L:4294967296+L)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(M(this))return"-"+D(this).toString(N);for(var A=p(Math.pow(N,6)),I=this,L="";;){var U=ue(I,A).g;I=j(I,U.j(A));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=U,x(I))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=j(this,N),M(N)?-1:x(N)?0:1};function D(N){for(var A=N.g.length,I=[],L=0;L<A;L++)I[L]=~N.g[L];return new c(I,~N.h).add(E)}t.abs=function(){return M(this)?D(this):this},t.add=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],L=0,U=0;U<=A;U++){var B=L+(this.i(U)&65535)+(N.i(U)&65535),P=(B>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);L=P>>>16,B&=65535,P&=65535,I[U]=P<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(N,A){return N.add(D(A))}t.j=function(N){if(x(this)||x(N))return _;if(M(this))return M(N)?D(this).j(D(N)):D(D(this).j(N));if(M(N))return D(this.j(D(N)));if(0>this.l(C)&&0>N.l(C))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,I=[],L=0;L<2*A;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<N.g.length;U++){var B=this.i(L)>>>16,P=this.i(L)&65535,Be=N.i(U)>>>16,Ee=N.i(U)&65535;I[2*L+2*U]+=P*Ee,$(I,2*L+2*U),I[2*L+2*U+1]+=B*Ee,$(I,2*L+2*U+1),I[2*L+2*U+1]+=P*Be,$(I,2*L+2*U+1),I[2*L+2*U+2]+=B*Be,$(I,2*L+2*U+2)}for(L=0;L<A;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=A;L<2*A;L++)I[L]=0;return new c(I,0)};function $(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function q(N,A){this.g=N,this.h=A}function ue(N,A){if(x(A))throw Error("division by zero");if(x(N))return new q(_,_);if(M(N))return A=ue(D(N),A),new q(D(A.g),D(A.h));if(M(A))return A=ue(N,D(A)),new q(D(A.g),A.h);if(30<N.g.length){if(M(N)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var I=E,L=A;0>=L.l(N);)I=te(I),L=te(L);var U=W(I,1),B=W(L,1);for(L=W(L,2),I=W(I,2);!x(L);){var P=B.add(L);0>=P.l(N)&&(U=U.add(I),B=P),L=W(L,1),I=W(I,1)}return A=j(N,U.j(A)),new q(U,A)}for(U=_;0<=N.l(A);){for(I=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=p(I),P=B.j(A);M(P)||0<P.l(N);)I-=L,B=p(I),P=B.j(A);x(B)&&(B=E),U=U.add(B),N=j(N,P)}return new q(U,N)}t.A=function(N){return ue(this,N).h},t.and=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)&N.i(L);return new c(I,this.h&N.h)},t.or=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)|N.i(L);return new c(I,this.h|N.h)},t.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)^N.i(L);return new c(I,this.h^N.h)};function te(N){for(var A=N.g.length+1,I=[],L=0;L<A;L++)I[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(I,N.h)}function W(N,A){var I=A>>5;A%=32;for(var L=N.g.length-I,U=[],B=0;B<L;B++)U[B]=0<A?N.i(B+I)>>>A|N.i(B+I+1)<<32-A:N.i(B+I);return new c(U,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,bA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Sr=c}).apply(typeof D1<"u"?D1:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wA,ju,AA,Pf,ty,RA,CA,xA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var H=h[R];if(!(H in T))break e;T=T[H]}h=h[h.length-1],R=T[h],v=v(R),v!=R&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,R=!1,H={next:function(){if(!R&&T<h.length){var Z=T++;return{value:v(Z,h[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,R),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function C(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function x(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(R,H,Z){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return v.prototype[H].apply(R,de)}}function M(h){const v=h.length;if(0<v){const T=Array(v);for(let R=0;R<v;R++)T[R]=h[R];return T}return[]}function D(h,v){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(m(R)){const H=h.length||0,Z=R.length||0;h.length=H+Z;for(let de=0;de<Z;de++)h[H+de]=R[de]}else h.push(R)}}class j{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ue(h){return ue[" "](h),h}ue[" "]=function(){};var te=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function W(h,v,T){for(const R in h)v.call(T,h[R],R,h)}function N(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function A(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)h[T]=R[T];for(let Z=0;Z<I.length;Z++)T=I[Z],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function B(h){f.setTimeout(()=>{throw h},0)}function P(){var h=he;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,T){const R=Ee.get();R.set(v,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Ee=new j(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,he=new Be,V=()=>{const h=f.Promise.resolve(void 0);le=()=>{h.then(ee)}};var ee=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(T){B(T)}var v=Ee;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function De(h,v){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(te){e:{try{ue(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:fe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}x(De,ce);var fe={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),nt=0;function vn(h,v,T,R,H){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!R,this.ha=H,this.key=++nt,this.da=this.fa=!1}function Ps(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Gi(h){this.src=h,this.g={},this.h=0}Gi.prototype.add=function(h,v,T,R,H){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var de=Ur(h,v,R,H);return-1<de?(v=h[de],T||(v.fa=!1)):(v=new vn(v,this.src,Z,!!R,H),v.fa=T,h.push(v)),v};function Lr(h,v){var T=v.type;if(T in h.g){var R=h.g[T],H=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(R,H,1),Z&&(Ps(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ur(h,v,T,R){for(var H=0;H<h.length;++H){var Z=h[H];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==R)return H}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),wl={};function Hc(h,v,T,R,H){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Hc(h,v[Z],T,R,H);return null}return T=Gc(T),h&&h[st]?h.K(v,T,p(R)?!!R.capture:!1,H):Un(h,v,T,!1,R,H)}function Un(h,v,T,R,H,Z){if(!v)throw Error("Invalid event type");var de=p(H)?!!H.capture:!!H,ze=Ka(h);if(ze||(h[jr]=ze=new Gi(h)),T=ze.add(v,T,R,de,Z),T.proxy)return T;if(R=rm(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)ge||(H=de),H===void 0&&(H=!1),h.addEventListener(v.toString(),R,H);else if(h.attachEvent)h.attachEvent(Br(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function rm(){function h(T){return v.call(h.src,h.listener,T)}const v=am;return h}function Al(h,v,T,R,H){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Al(h,v[Z],T,R,H);else R=p(R)?!!R.capture:!!R,T=Gc(T),h&&h[st]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],T=Ur(Z,T,R,H),-1<T&&(Ps(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ka(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ur(v,T,R,H)),(T=-1<h?v[h]:null)&&Ga(T))}function Ga(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[st])Lr(v.i,h);else{var T=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(T,R,h.capture):v.detachEvent?v.detachEvent(Br(T),R):v.addListener&&v.removeListener&&v.removeListener(R),(T=Ka(v))?(Lr(T,h),T.h==0&&(T.src=null,v[jr]=null)):Ps(h)}}}function Br(h){return h in wl?wl[h]:wl[h]="on"+h}function am(h,v){if(h.da)h=!0;else{v=new De(v,this);var T=h.listener,R=h.ha||h.src;h.fa&&Ga(h),h=T.call(R,v)}return h}function Ka(h){return h=h[jr],h instanceof Gi?h:null}var Rl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gc(h){return typeof h=="function"?h:(h[Rl]||(h[Rl]=function(v){return h.handleEvent(v)}),h[Rl])}function pt(){oe.call(this),this.i=new Gi(this),this.M=this,this.F=null}x(pt,oe),pt.prototype[st]=!0,pt.prototype.removeEventListener=function(h,v,T,R){Al(this,h,v,T,R)};function Qe(h,v){var T,R=h.F;if(R)for(T=[];R;R=R.F)T.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new ce(v,h);else if(v instanceof ce)v.target=v.target||h;else{var H=v;v=new ce(R,h),L(v,H)}if(H=!0,T)for(var Z=T.length-1;0<=Z;Z--){var de=v.g=T[Z];H=Cn(de,R,!0,v)&&H}if(de=v.g=h,H=Cn(de,R,!0,v)&&H,H=Cn(de,R,!1,v)&&H,T)for(Z=0;Z<T.length;Z++)de=v.g=T[Z],H=Cn(de,R,!1,v)&&H}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],R=0;R<T.length;R++)Ps(T[R]);delete h.g[v],h.h--}}this.F=null},pt.prototype.K=function(h,v,T,R){return this.i.add(String(h),v,!1,T,R)},pt.prototype.L=function(h,v,T,R){return this.i.add(String(h),v,!0,T,R)};function Cn(h,v,T,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==T){var ze=de.listener,kt=de.ha||de.src;de.fa&&Lr(h.i,de),H=ze.call(kt,R)!==!1&&H}}return H&&!R.defaultPrevented}function sn(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Kc(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,Kc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class om extends oe{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Kc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(h){oe.call(this),this.h=h,this.g={}}x(zr,oe);var qr=[];function Fr(h){W(h.g,function(v,T){this.g.hasOwnProperty(T)&&Ga(v)},h),h.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Fr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=f.JSON.stringify,$a=f.JSON.parse,Hr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Cl(){}Cl.prototype.h=null;function xl(h){return h.h||(h.h=h.i())}function Il(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){ce.call(this,"d")}x($i,ce);function Dl(){ce.call(this,"c")}x(Dl,ce);var gi={},Nl=null;function Ms(){return Nl=Nl||new pt}gi.La="serverreachability";function Ya(h){ce.call(this,gi.La,h)}x(Ya,ce);function Vs(h){const v=Ms();Qe(v,new Ya(v))}gi.STAT_EVENT="statevent";function $c(h,v){ce.call(this,gi.STAT_EVENT,h),this.stat=v}x($c,ce);function lt(h){const v=Ms();Qe(v,new $c(v,h))}gi.Ma="timingevent";function Vt(h,v){ce.call(this,gi.Ma,h),this.size=v}x(Vt,ce);function Rt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Ol(h,v,T,R,H,Z){h.info(function(){if(h.g)if(Z)for(var de="",ze=Z.split("&"),kt=0;kt<ze.length;kt++){var qe=ze[kt].split("=");if(1<qe.length){var Ft=qe[0];qe=qe[1];var Lt=Ft.split("_");de=2<=Lt.length&&Lt[1]=="type"?de+(Ft+"="+qe+"&"):de+(Ft+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+v+`
`+T+`
`+de})}function lm(h,v,T,R,H,Z,de){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+v+`
`+T+`
`+Z+" "+de})}function ks(h,v,T,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Gr(h,T)+(R?" "+R:"")})}function Yc(h,v){h.info(function(){return"TIMEOUT: "+v})}jn.prototype.info=function(){};function Gr(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var R=T[h];if(!(2>R.length)){var H=R[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<H.length;de++)H[de]=""}}}}return ii(T)}catch{return v}}var Ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function vi(){}x(vi,Cl),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},yi=new vi;function dn(h,v,T,R){this.j=h,this.i=v,this.l=T,this.R=R||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Pl={},Qa={};function si(h,v,T){h.L=1,h.v=Xr(xn(v)),h.m=T,h.P=!0,Qi(h,null)}function Qi(h,v){h.F=Date.now(),Kr(h),h.A=xn(h.v);var T=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),jl(T.i,"t",R),h.C=0,T=h.j.J,h.h=new Tt,h.g=ch(h.j,T?v:null,!h.m),0<h.O&&(h.M=new om(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,R=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(qr[0]=H.toString()),H=qr);for(var Z=0;Z<H.length;Z++){var de=Hc(T,H[Z],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Vs(),Ol(h.i,h.u,h.A,h.l,h.R,h.m)}dn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Fn(h)==3?v.j():this.Y(h)},dn.prototype.Y=function(h){try{if(h==this.g)e:{const Lt=Fn(this.g);var v=this.g.Ba();const is=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||nh(this.g)))){this.J||Lt!=4||v==7||(v==8||0>=is?Vs(3):Vs(2)),Us(this);var T=this.g.Z();this.X=T;t:if(Qc(this)){var R=nh(this.g);h="";var H=R.length,Z=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),_i(this);var de="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(Z&&v==H-1)});R.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,lm(this.i,this.u,this.A,this.l,this.R,Lt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,kt=this.g;if((ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ze)){var qe=ze;break t}}qe=null}if(T=qe)ks(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,T);else{this.o=!1,this.s=3,lt(12),Yt(this),_i(this);break e}}if(this.P){T=!0;let Qt;for(;!this.J&&this.C<de.length;)if(Qt=Xc(this,de),Qt==Qa){Lt==4&&(this.s=4,lt(14),T=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Pl){this.s=4,lt(15),ks(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else ks(this.i,this.l,Qt,null),$r(this,Qt);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||de.length!=0||this.h.h||(this.s=1,lt(16),T=!1),this.o=this.o&&T,!T)ks(this.i,this.l,de,"[Invalid Chunked Response]"),Yt(this),_i(this);else if(0<de.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),sa(Ft),Ft.M=!0,lt(11))}}else ks(this.i,this.l,de,null),$r(this,de);Lt==4&&Yt(this),this.o&&!this.J&&(Lt==4?oh(this.j,this):(this.o=!1,Kr(this)))}else dm(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Yt(this),_i(this)}}}catch{}finally{}};function Qc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Xc(h,v){var T=h.C,R=v.indexOf(`
`,T);return R==-1?Qa:(T=Number(v.substring(T,R)),isNaN(T)?Pl:(R+=1,R+T>v.length?Qa:(v=v.slice(R,R+T),h.C=R+T,v)))}dn.prototype.cancel=function(){this.J=!0,Yt(this)};function Kr(h){h.S=Date.now()+h.I,Wc(h,h.I)}function Wc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(E(h.ba,h),v)}function Us(h){h.B&&(f.clearTimeout(h.B),h.B=null)}dn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Yc(this.i,this.A),this.L!=2&&(Vs(),lt(17)),Yt(this),this.s=2,_i(this)):Wc(this,this.S-h)};function _i(h){h.j.G==0||h.J||oh(h.j,h)}function Yt(h){Us(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Fr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function $r(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Ml(T.h,h))){if(!h.K&&Ml(T.h,h)&&T.G==3){try{var R=T.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)oo(T),ro(T);else break e;Hl(T),lt(18)}}else T.za=H[1],0<T.za-T.T&&37500>H[2]&&T.F&&T.v==0&&!T.C&&(T.C=Rt(E(T.Za,T),6e3));if(1>=Wa(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ns(T,11)}else if((h.K||T.g==h)&&oo(T),!$(v))for(H=T.Da.g.parse(v),v=0;v<H.length;v++){let qe=H[v];if(T.T=qe[0],qe=qe[1],T.G==2)if(qe[0]=="c"){T.K=qe[1],T.ia=qe[2];const Ft=qe[3];Ft!=null&&(T.la=Ft,T.j.info("VER="+T.la));const Lt=qe[4];Lt!=null&&(T.Aa=Lt,T.j.info("SVER="+T.Aa));const is=qe[5];is!=null&&typeof is=="number"&&0<is&&(R=1.5*is,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Qt=h.g;if(Qt){const Ri=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var Z=R.h;Z.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Za(Z,Z.h),Z.h=null))}if(R.D){const Kl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(R.ya=Kl,Ze(R.I,R.D,Kl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var de=h;if(R.qa=uh(R,R.J?R.ia:null,R.W),de.K){mn(R.h,de);var ze=de,kt=R.L;kt&&(ze.I=kt),ze.B&&(Us(ze),Kr(ze)),R.g=de}else rh(R);0<T.i.length&&ao(T)}else qe[0]!="stop"&&qe[0]!="close"||ns(T,7);else T.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ns(T,7):ql(T):qe[0]!="noop"&&T.l&&T.l.ta(qe),T.v=0)}}Vs(4)}catch{}}var Zc=class{constructor(h,v){this.g=h,this.map=v}};function Xi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Wa(h){return h.h?1:h.g?h.g.size:0}function Ml(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Za(h,v){h.g?h.g.add(v):h.h=v}function mn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Xi.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Vl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return M(h.i)}function um(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,R=0;R<T;R++)v.push(h[R]);return v}v=[],T=0;for(R in h)v[T++]=h[R];return v}function Ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const R in h)v[T++]=R;return v}}}function kl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=Ja(h),R=um(h),H=R.length,Z=0;Z<H;Z++)v.call(void 0,R[Z],T&&T[Z],h)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cm(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var R=h[T].indexOf("="),H=null;if(0<=R){var Z=h[T].substring(0,R);H=h[T].substring(R+1)}else Z=h[T];v(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ct(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ct){this.h=h.h,Qr(this,h.j),this.o=h.o,this.g=h.g,js(this,h.s),this.l=h.l;var v=h.i,T=new Zi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Wi(this,T),this.m=h.m}else h&&(v=String(h).match(Yr))?(this.h=!1,Qr(this,v[1]||"",!0),this.o=Bn(v[2]||""),this.g=Bn(v[3]||"",!0),js(this,v[4]),this.l=Bn(v[5]||"",!0),Wi(this,v[6]||"",!0),this.m=Bn(v[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Ct.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Wr(v,Ll,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Wr(v,Ll,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Wr(T,T.charAt(0)=="/"?hm:Ul,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Wr(T,eo)),h.join("")};function xn(h){return new Ct(h)}function Qr(h,v,T){h.j=T?Bn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function js(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Wi(h,v,T){v instanceof Zi?(h.i=v,eh(h.i,h.h)):(T||(v=Wr(v,fm)),h.i=new Zi(v,h.h))}function Ze(h,v,T){h.i.set(v,T)}function Xr(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Bn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Jc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Jc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ll=/[#\/\?@]/g,Ul=/[#\?:]/g,hm=/[#\?]/g,fm=/[#\?@]/g,eo=/#/g;function Zi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&cm(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Zi.prototype,t.add=function(h,v){zn(this),this.i=null,h=Ti(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Ji(h,v){zn(h),v=Ti(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function es(h,v){return zn(h),v=Ti(h,v),h.g.has(v)}t.forEach=function(h,v){zn(this),this.g.forEach(function(T,R){T.forEach(function(H){h.call(v,H,R,this)},this)},this)},t.na=function(){zn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let R=0;R<v.length;R++){const H=h[R];for(let Z=0;Z<H.length;Z++)T.push(v[R])}return T},t.V=function(h){zn(this);let v=[];if(typeof h=="string")es(this,h)&&(v=v.concat(this.g.get(Ti(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return zn(this),this.i=null,h=Ti(this,h),es(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function jl(h,v,T){Ji(h,v),0<T.length&&(h.i=null,h.g.set(Ti(h,v),M(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var R=v[T];const Z=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var H=Z;de[R]!==""&&(H+="="+encodeURIComponent(String(de[R]))),h.push(H)}}return this.i=h.join("&")};function Ti(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function eh(h,v){v&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(T,R){var H=R.toLowerCase();R!=H&&(Ji(this,R),jl(this,H,T))},h)),h.j=v}function Zr(h,v){const T=new jn;if(f.Image){const R=new Image;R.onload=C(qn,T,"TestLoadImage: loaded",!0,v,R),R.onerror=C(qn,T,"TestLoadImage: error",!1,v,R),R.onabort=C(qn,T,"TestLoadImage: abort",!1,v,R),R.ontimeout=C(qn,T,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function ri(h,v){const T=new jn,R=new AbortController,H=setTimeout(()=>{R.abort(),qn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(Z=>{clearTimeout(H),Z.ok?qn(T,"TestPingServer: ok",!0,v):qn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),qn(T,"TestPingServer: error",!1,v)})}function qn(h,v,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function Jr(){this.g=new Hr}function Ei(h,v,T){const R=T||"";try{kl(h,function(H,Z){let de=H;p(H)&&(de=ii(H)),v.push(R+Z+"="+encodeURIComponent(de))})}catch(H){throw v.push(R+"type="+encodeURIComponent("_badmap")),H}}function Bs(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Bs,Cl),Bs.prototype.g=function(){return new ts(this.l,this.j)},Bs.prototype.i=function(h){return function(){return h}}({});function ts(h,v){pt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ts,pt),t=ts.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,bi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Si(this):bi(this),this.readyState==3&&Bl(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Si(this))},t.Qa=function(h){this.g&&(this.response=h,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(h){h.readyState=4,h.l=null,h.j=null,h.v=null,bi(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function zl(h){let v="";return W(h,function(T,R){v+=R,v+=":",v+=T,v+=`\r
`}),v}function qt(h,v,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=zl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Ze(h,v,T))}function $e(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($e,pt);var to=/^https?$/i,ea=["POST","PUT"];t=$e.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?xl(this.o):xl(yi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){th(this,Z);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())T.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ea,v,void 0))||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of T)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){th(this,Z)}};function th(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,no(h),wi(h)}function no(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),wi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?io(this):this.bb())},t.bb=function(){io(this)};function io(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)sn(h.Ea,0,h);else if(Qe(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var R;if(R=de===0){var H=String(h.D).match(Yr)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),R=!to.test(H?H.toLowerCase():"")}T=R}if(T)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var Z=2<Fn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",no(h)}}finally{wi(h)}}}}function wi(h,v){if(h.g){ta(h);const T=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Qe(h,"ready");try{T.onreadystatechange=R}catch{}}}function ta(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),$a(v)}};function nh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function dm(h){const v={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if($(h[R]))continue;var T=U(h[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[H]||[];v[H]=Z,Z.push(T)}N(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function so(h){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,h),this.cb=na("retryDelaySeedMs",1e4,h),this.Wa=na("forwardChannelMaxRetries",2,h),this.wa=na("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(h&&h.concurrentRequestLimit),this.Da=new Jr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=so.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,R){lt(0),this.W=h,this.H=v||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=uh(this,null,this.W),ao(this)};function ql(h){if(ih(h),h.G==3){var v=h.U++,T=xn(h.I);if(Ze(T,"SID",h.K),Ze(T,"RID",v),Ze(T,"TYPE","terminate"),ia(h,T),v=new dn(h,h.j,v),v.L=2,v.v=Xr(xn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=ch(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Kr(v)}lh(h)}function ro(h){h.g&&(sa(h),h.g.cancel(),h.g=null)}function ih(h){ro(h),h.u&&(f.clearTimeout(h.u),h.u=null),oo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function ao(h){if(!Xa(h.h)&&!h.s){h.s=!0;var v=h.Ga;le||V(),pe||(le(),pe=!0),he.add(v,h),h.B=0}}function mm(h,v){return Wa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(E(h.Ga,h,v),Gl(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new dn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=A(Z),L(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=sh(this,H,v),T=xn(this.I),Ze(T,"RID",h),Ze(T,"CVER",22),this.D&&Ze(T,"X-HTTP-Session-Id",this.D),ia(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(zl(Z)))+"&"+v:this.m&&qt(T,this.m,Z)),Za(this.h,H),this.Ua&&Ze(T,"TYPE","init"),this.P?(Ze(T,"$req",v),Ze(T,"SID","null"),H.T=!0,si(H,T,null)):si(H,T,v),this.G=2}}else this.G==3&&(h?Fl(this,h):this.i.length==0||Xa(this.h)||Fl(this))};function Fl(h,v){var T;v?T=v.l:T=h.U++;const R=xn(h.I);Ze(R,"SID",h.K),Ze(R,"RID",T),Ze(R,"AID",h.T),ia(h,R),h.m&&h.o&&qt(R,h.m,h.o),T=new dn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=sh(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Za(h.h,T),si(T,R,v)}function ia(h,v){h.H&&W(h.H,function(T,R){Ze(v,R,T)}),h.l&&kl({},function(T,R){Ze(v,R,T)})}function sh(h,v,T){T=Math.min(h.i.length,T);var R=h.l?E(h.l.Na,h.l,h):null;e:{var H=h.i;let Z=-1;for(;;){const de=["count="+T];Z==-1?0<T?(Z=H[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let ze=!0;for(let kt=0;kt<T;kt++){let qe=H[kt].g;const Ft=H[kt].map;if(qe-=Z,0>qe)Z=Math.max(0,H[kt].g-100),ze=!1;else try{Ei(Ft,de,"req"+qe+"_")}catch{R&&R(Ft)}}if(ze){R=de.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,R}function rh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;le||V(),pe||(le(),pe=!0),he.add(v,h),h.v=0}}function Hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(E(h.Fa,h),Gl(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),ro(this),ah(this))};function sa(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ah(h){h.g=new dn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xn(h.qa);Ze(v,"RID","rpc"),Ze(v,"SID",h.K),Ze(v,"AID",h.T),Ze(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(v,"TO",h.ja),Ze(v,"TYPE","xmlhttp"),ia(h,v),h.m&&h.o&&qt(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Xr(xn(v)),T.m=null,T.P=!0,Qi(T,h)}t.Za=function(){this.C!=null&&(this.C=null,ro(this),Hl(this),lt(19))};function oo(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function oh(h,v){var T=null;if(h.g==v){oo(h),sa(h),h.g=null;var R=2}else if(Ml(h.h,v))T=v.D,mn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;R=Ms(),Qe(R,new Vt(R,T)),ao(h)}else rh(h);else if(H=v.s,H==3||H==0&&0<v.X||!(R==1&&mm(h,v)||R==2&&Hl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),H){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function Gl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function ns(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),R=h.Xa;const H=!R;R=new Ct(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qr(R,"https"),Xr(R),H?Zr(R.toString(),T):ri(R.toString(),T)}else lt(2);h.G=0,h.l&&h.l.sa(v),lh(h),ih(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function lh(h){if(h.G=0,h.ka=[],h.l){const v=Vl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ka,v),D(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function uh(h,v,T){var R=T instanceof Ct?xn(T):new Ct(T);if(R.g!="")v&&(R.g=v+"."+R.g),js(R,R.s);else{var H=f.location;R=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Z=new Ct(null);R&&Qr(Z,R),v&&(Z.g=v),H&&js(Z,H),T&&(Z.l=T),R=Z}return T=h.D,v=h.ya,T&&v&&Ze(R,T,v),Ze(R,"VER",h.la),ia(h,R),R}function ch(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new $e(new Bs({eb:T})):new $e(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lo(){}lo.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){pt.call(this),this.g=new so(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!$(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ai(this)}x(pn,pt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ql(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ii(h),h=T);v.i.push(new Zc(v.Ya++,h)),v.G==3&&ao(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,pn.aa.N.call(this)};function fh(h){$i.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(fh,$i);function dh(){Dl.call(this),this.status=1}x(dh,Dl);function Ai(h){this.g=h}x(Ai,hh),Ai.prototype.ua=function(){Qe(this.g,"a")},Ai.prototype.ta=function(h){Qe(this.g,new fh(h))},Ai.prototype.sa=function(h){Qe(this.g,new dh)},Ai.prototype.ra=function(){Qe(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,xA=function(){return new lo},CA=function(){return Ms()},RA=gi,ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ls.NO_ERROR=0,Ls.TIMEOUT=8,Ls.HTTP_ERROR=6,Pf=Ls,Yi.COMPLETE="complete",AA=Yi,Il.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ju=Il,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,wA=$e}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const N1="@firebase/firestore",O1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Jy("@firebase/firestore");function Uo(){return La.logLevel}function ye(t,...e){if(La.logLevel<=Le.DEBUG){const n=e.map(hv);La.debug(`Firestore (${dl}): ${t}`,...n)}}function Rs(t,...e){if(La.logLevel<=Le.ERROR){const n=e.map(hv);La.error(`Firestore (${dl}): ${t}`,...n)}}function el(t,...e){if(La.logLevel<=Le.WARN){const n=e.map(hv);La.warn(`Firestore (${dl}): ${t}`,...n)}}function hv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,IA(t,s,n)}function IA(t,e,n){let s=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Rs(s),new Error(s)}function Ye(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||IA(e,a,s)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class fV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dV{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ss,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ss)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new DA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class mV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new P1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=yV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ue(t,e){return t<e?-1:t>e?1:0}function ny(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Tg(a)===Tg(l)?Ue(a,l):Tg(a)?1:-1}return Ue(t.length,e.length)}const vV=55296,_V=57343;function Tg(t){const e=t.charCodeAt(0);return e>=vV&&e<=_V}function tl(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Pi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),a=Pi.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class at extends Pi{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new at(n)}static emptyPath(){return new at([])}}const TV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return TV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M1}static keyField(){return new tn([M1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(at.fromString(e))}static fromName(e){return new Te(at.fromString(e).popFirst(5))}static empty(){return new Te(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EV(t,e,n,s){if(e===!0&&s===!0)throw new me(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function V1(t){if(!Te.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k1(t){if(Te.isDocumentKey(t))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Cd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(t);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dc(t,e){if(!OA(t))throw new me(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new me(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=-62135596800,U1=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*U1);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L1)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U1}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Pt("string",ot._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ot(0,0))}static max(){return new xe(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function SV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new wr(a,Te.empty(),e)}function bV(t){return new wr(t.readTime,t.key,rc)}class wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wr(xe.min(),Te.empty(),rc)}static max(){return new wr(xe.max(),Te.empty(),rc)}}function wV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==AV)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(a=>a?ae.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++f,f===l&&s(c)},y=>a(y))}})}static doWhile(e,n){return new ae((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function CV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-1;function Id(t){return t==null}function td(t){return t===0&&1/t==-1/0}function xV(t){return typeof t=="number"&&Number.isInteger(t)&&!td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="";function IV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j1(e)),e=DV(t.get(n),e);return j1(e)}function DV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case PA:n+="";break;default:n+=l}}return n}function j1(t){return t+PA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new en(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Bt(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new VA("Invalid base64 string: "+l):l}}(e);return new nn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const NV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=NV.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="server_timestamp",LA="__type__",UA="__previous_value__",jA="__local_write_time__";function mv(t){return(t?.mapValue?.fields||{})[LA]?.stringValue===kA}function Dd(t){const e=t.mapValue.fields[UA];return mv(e)?Dd(e):e}function ac(t){const e=Ar(t.mapValue.fields[jA].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,s,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const nd="(default)";class oc{constructor(e,n){this.projectId=e,this.database=n||nd}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===nd}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="__type__",PV="__max__",_f={mapValue:{}},zA="__vector__",id="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mv(t)?4:VV(t)?9007199254740991:MV(t)?10:11:Ae(28295,{value:t})}function Fi(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ac(t).isEqual(ac(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ar(a.timestampValue),f=Ar(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Rr(a.bytesValue).isEqual(Rr(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),f=At(l.doubleValue);return c===f?td(c)===td(f):isNaN(c)&&isNaN(f)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(B1(c)!==B1(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Fi(c[m],f[m])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function lc(t,e){return(t.values||[]).find(n=>Fi(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=Cr(t),s=Cr(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(l,c){const f=At(l.integerValue||l.doubleValue),m=At(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return q1(t.timestampValue,e.timestampValue);case 4:return q1(ac(t),ac(e));case 5:return ny(t.stringValue,e.stringValue);case 6:return function(l,c){const f=Rr(l),m=Rr(c);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Ue(f[p],m[p]);if(y!==0)return y}return Ue(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ue(At(l.latitude),At(c.latitude));return f!==0?f:Ue(At(l.longitude),At(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return function(l,c){const f=l.fields||{},m=c.fields||{},p=f[id]?.arrayValue,y=m[id]?.arrayValue,_=Ue(p?.values?.length||0,y?.values?.length||0);return _!==0?_:F1(p,y)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===_f.mapValue&&c===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(c===_f.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=ny(m[_],y[_]);if(E!==0)return E;const C=nl(f[m[_]],p[y[_]]);if(C!==0)return C}return Ue(m.length,y.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Ar(t),s=Ar(e),a=Ue(n.seconds,s.seconds);return a!==0?a:Ue(n.nanos,s.nanos)}function F1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=nl(n[a],s[a]);if(l)return l}return Ue(n.length,s.length)}function il(t){return iy(t)}function iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ar(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=iy(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${iy(n.fields[c])}`;return a+"}"}(t.mapValue):Ae(61005,{value:t})}function Mf(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dd(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return Rr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Mf(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return Mr(s.fields,(l,c)=>{a+=l.length+Mf(c)}),a}(t.mapValue);default:throw Ae(13486,{value:t})}}function H1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sy(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function G1(t){return!!t&&"nullValue"in t}function K1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function MV(t){return(t?.mapValue?.fields||{})[BA]?.stringValue===zA}function Ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ku(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ku(t.arrayValue.values[n]);return e}return{...t}}function VV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Ku(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Mr(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new bn(Ku(this.value))}}function qA(t){const e=[];return Mr(t.fields,(n,s)=>{const a=new tn([n]);if(Vf(s)){const l=qA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new un(e,0,xe.min(),xe.min(),xe.min(),bn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,xe.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,xe.min(),xe.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,xe.min(),xe.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.position=e,this.inclusive=n}}function $1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),n.key):s=nl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Y1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function kV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class Ot extends FA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UV(e,n,s):n==="array-contains"?new zV(e,s):n==="in"?new qV(e,s):n==="not-in"?new FV(e,s):n==="array-contains-any"?new HV(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jV(e,s):new BV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mi(e,n)}matches(e){return HA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HA(t){return t.op==="and"}function GA(t){return LV(t)&&HA(t)}function LV(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function ry(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+il(t.value);if(GA(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function KA(t,e){return t instanceof Ot?function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&Fi(s.value,a.value)}(t,e):t instanceof mi?function(s,a){return a instanceof mi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,f)=>l&&KA(c,a.filters[f]),!0):!1}(t,e):void Ae(19439)}function $A(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map($A).join(" ,")+"}"}(t):"Filter"}class UV extends Ot{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class jV extends Ot{constructor(e,n){super(e,"in",n),this.keys=YA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BV extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=YA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YA(t,e){return(e.arrayValue?.values||[]).map(n=>Te.fromName(n.referenceValue))}class zV extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&lc(n.arrayValue,this.value)}}class qV extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class FV extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class HV extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>lc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function Q1(t,e=null,n=[],s=[],a=null,l=null,c=null){return new GV(t,e,n,s,a,l,c)}function gv(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ry(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>il(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>il(s)).join(",")),e.Te=n}return e.Te}function yv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y1(t.startAt,e.startAt)&&Y1(t.endAt,e.endAt)}function ay(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KV(t,e,n,s,a,l,c,f){return new Nc(t,e,n,s,a,l,c,f)}function vv(t){return new Nc(t)}function X1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QA(t){return t.collectionGroup!==null}function $u(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Bt(tn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new rd(l,s))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new rd(tn.keyField(),s))}return e.Ie}function ki(t){const e=Ie(t);return e.Ee||(e.Ee=$V(e,$u(t))),e.Ee}function $V(t,e){if(t.limitType==="F")return Q1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new rd(a.field,l)});const n=t.endAt?new sd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new sd(t.startAt.position,t.startAt.inclusive):null;return Q1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function oy(t,e){const n=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ly(t,e,n){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return yv(ki(t),ki(e))&&t.limitType===e.limitType}function XA(t){return`${gv(ki(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>$A(a)).join(", ")}]`),Id(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>il(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>il(a)).join(",")),`Target(${s})`}(ki(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of $u(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(c,f,m){const p=$1(c,f,m);return c.inclusive?p<=0:p<0}(s.startAt,$u(s),a)||s.endAt&&!function(c,f,m){const p=$1(c,f,m);return c.inclusive?p>=0:p>0}(s.endAt,$u(s),a))}(t,e)}function YV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WA(t){return(e,n)=>{let s=!1;for(const a of $u(t)){const l=QV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function QV(t,e,n){const s=t.field.isKeyField()?Te.comparator(e.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?nl(m,p):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return MA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new mt(Te.comparator);function xs(){return XV}const ZA=new mt(Te.comparator);function Bu(...t){let e=ZA;for(const n of t)e=e.insert(n.key,n);return e}function JA(t){let e=ZA;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function wa(){return Yu()}function eR(){return Yu()}function Yu(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const WV=new mt(Te.comparator),ZV=new Bt(Te.comparator);function je(...t){let e=ZV;for(const n of t)e=e.add(n);return e}const JV=new Bt(Ue);function e4(){return JV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:td(e)?"-0":e}}function tR(t){return{integerValue:""+t}}function t4(t,e){return xV(e)?tR(e):_v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this._=void 0}}function n4(t,e,n){return t instanceof uc?function(a,l){const c={fields:{[LA]:{stringValue:kA},[jA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&mv(l)&&(l=Dd(l)),l&&(c.fields[UA]=l),{mapValue:c}}(n,e):t instanceof cc?iR(t,e):t instanceof hc?sR(t,e):function(a,l){const c=nR(a,l),f=W1(c)+W1(a.Ae);return sy(c)&&sy(a.Ae)?tR(f):_v(a.serializer,f)}(t,e)}function i4(t,e,n){return t instanceof cc?iR(t,e):t instanceof hc?sR(t,e):n}function nR(t,e){return t instanceof ad?function(s){return sy(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class uc extends Pd{}class cc extends Pd{constructor(e){super(),this.elements=e}}function iR(t,e){const n=rR(e);for(const s of t.elements)n.some(a=>Fi(a,s))||n.push(s);return{arrayValue:{values:n}}}class hc extends Pd{constructor(e){super(),this.elements=e}}function sR(t,e){let n=rR(e);for(const s of t.elements)n=n.filter(a=>!Fi(a,s));return{arrayValue:{values:n}}}class ad extends Pd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function W1(t){return At(t.integerValue||t.doubleValue)}function rR(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.field=e,this.transform=n}}function r4(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof cc&&a instanceof cc||s instanceof hc&&a instanceof hc?tl(s.elements,a.elements,Fi):s instanceof ad&&a instanceof ad?Fi(s.Ae,a.Ae):s instanceof uc&&a instanceof uc}(t.transform,e.transform)}class a4{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Md{}function aR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,Ln.none()):new Oc(t.key,t.data,Ln.none());{const n=t.data,s=bn.empty();let a=new Bt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Vr(t.key,s,new kn(a.toArray()),Ln.none())}}function o4(t,e,n){t instanceof Oc?function(a,l,c){const f=a.value.clone(),m=J1(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Vr?function(a,l,c){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=J1(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(oR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,s){return t instanceof Oc?function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=l.value.clone(),y=eS(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof Vr?function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=eS(l.fieldTransforms,m,c),y=c.data;return y.setAll(oR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,s):function(l,c,f){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(t,e,n)}function l4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=nR(s.transform,a||null);l!=null&&(n===null&&(n=bn.empty()),n.set(s.field,l))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&tl(s,a,(l,c)=>r4(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends Md{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vr extends Md{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function J1(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,i4(c,f,n[a]))}return s}function eS(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,n4(l,c,e))}return s}class Tv extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u4 extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&o4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Qu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Qu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=eR();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=aR(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,s)=>Z1(n,s))&&tl(this.baseMutations,e.baseMutations,(n,s)=>Z1(n,s))}}class Ev{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return WV}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Ev(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,He;function d4(t){switch(t){case se.OK:return Ae(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function lR(t){if(t===void 0)return Rs("GRPC error has no .code"),se.UNKNOWN;switch(t){case Dt.OK:return se.OK;case Dt.CANCELLED:return se.CANCELLED;case Dt.UNKNOWN:return se.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return se.INTERNAL;case Dt.UNAVAILABLE:return se.UNAVAILABLE;case Dt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Dt.NOT_FOUND:return se.NOT_FOUND;case Dt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Dt.ABORTED:return se.ABORTED;case Dt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Dt.DATA_LOSS:return se.DATA_LOSS;default:return Ae(39323,{code:t})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Sr([4294967295,4294967295],0);function tS(t){const e=m4().encode(t),n=new bA;return n.update(e),new Uint8Array(n.digest())}function nS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Sr([n,s],0),new Sr([a,l],0)]}class Sv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zu(`Invalid padding: ${n}`);if(s<0)throw new zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Sr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Sr.fromNumber(s)));return a.compare(p4)===1&&(a=new Sr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tS(e),[s,a]=nS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Sv(l,a,n);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const n=tS(e),[s,a]=nS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vd(xe.min(),a,new mt(Ue),xs(),je())}}class Pc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pc(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class uR{constructor(e,n){this.targetId=e,this.Ce=n}}class cR{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class iS{constructor(){this.ve=0,this.Fe=sS(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}}),new Pc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=sS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g4{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=Tf(),this.He=Tf(),this.Ye=new mt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ay(l))if(s===0){const c=new Te(l.path);this.et(n,c,un.newNoDocument(c,xe.min()))}else Ye(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Rr(s).toUint8Array()}catch(m){if(m instanceof VA)return el("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Sv(c,a,l)}catch(m){return el(m instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&ay(f.target)){const m=new Te(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,un.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=je();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new Vd(e,n,this.Ye,this.je,s);return this.je=xs(),this.Je=Tf(),this.He=Tf(),this.Ye=new mt(Ue),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new mt(Te.comparator)}function sS(){return new mt(Te.comparator)}const y4={asc:"ASCENDING",desc:"DESCENDING"},v4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_4={and:"AND",or:"OR"};class T4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uy(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E4(t,e){return od(t,e.toTimestamp())}function Li(t){return Ye(!!t,49232),xe.fromTimestamp(function(n){const s=Ar(n);return new ot(s.seconds,s.nanos)}(t))}function bv(t,e){return cy(t,e).canonicalString()}function cy(t,e){const n=function(a){return new at(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fR(t){const e=at.fromString(t);return Ye(yR(e),10190,{key:e.toString()}),e}function hy(t,e){return bv(t.databaseId,e.path)}function Eg(t,e){const n=fR(e);if(n.get(1)!==t.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(mR(n))}function dR(t,e){return bv(t.databaseId,e)}function S4(t){const e=fR(t);return e.length===4?at.emptyPath():mR(e)}function fy(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rS(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function b4(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ye(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Ye(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const y=p.code===void 0?se.UNKNOWN:lR(p.code);return new me(y,p.message||"")}(c);n=new cR(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eg(t,s.document.name),l=Li(s.document.updateTime),c=s.document.createTime?Li(s.document.createTime):xe.min(),f=new bn({mapValue:{fields:s.document.fields}}),m=un.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Lf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eg(t,s.document),l=s.readTime?Li(s.readTime):xe.min(),c=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Lf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eg(t,s.document),l=s.removedTargetIds||[];n=new Lf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new f4(a,l),f=s.targetId;n=new uR(f,c)}}return n}function w4(t,e){let n;if(e instanceof Oc)n={update:rS(t,e.key,e.value)};else if(e instanceof Tv)n={delete:hy(t,e.key)};else if(e instanceof Vr)n={update:rS(t,e.key,e.data),updateMask:P4(e.fieldMask)};else{if(!(e instanceof u4))return Ae(16599,{Vt:e.type});n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof uc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ad)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ae(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:E4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(t,e.precondition)),n}function A4(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?Li(a.updateTime):Li(l);return c.isEqual(xe.min())&&(c=Li(l)),new a4(c,a.transformResults||[])}(n,e))):[]}function R4(t,e){return{documents:[dR(t,e.path)]}}function C4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dR(t,a);const l=function(p){if(p.length!==0)return gR(mi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Bo(E.field),direction:D4(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=uy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:a}}function x4(t){let e=S4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=pR(_);return E instanceof mi&&GA(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(x){return new rd(zo(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,Id(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(_){const E=!!_.before,C=_.values||[];return new sd(C,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,C=_.values||[];return new sd(C,E)}(n.endAt)),KV(e,a,c,l,f,"F",m,p)}function I4(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(zo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>pR(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function D4(t){return y4[t]}function N4(t){return v4[t]}function O4(t){return _4[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function zo(t){return tn.fromServerFormat(t.fieldPath)}function gR(t){return t instanceof Ot?function(n){if(n.op==="=="){if(K1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(G1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(G1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:N4(n.op),value:n.value}}}(t):t instanceof mi?function(n){const s=n.getFilters().map(a=>gR(a));return s.length===1?s[0]:{compositeFilter:{op:O4(n.op),filters:s}}}(t):Ae(54877,{filter:t})}function P4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,s,a,l=xe.min(),c=xe.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.yt=e}}function V4(t){const e=x4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.Cn=new L4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(wr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class L4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Bt(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Bt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vR=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(vR,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="LruGarbageCollector",U4=1048576;function lS([t,e],[n,s]){const a=Ue(t,n);return a===0?Ue(e,s):a}class j4{constructor(e){this.Ir=e,this.buffer=new Bt(lS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(oS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pl(n)?ye(oS,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.Vr(3e5)})}}class z4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(xd.ce);const s=new j4(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(aS)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(s=_,f=Date.now(),this.removeTargets(e,s,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(_=>(p=Date.now(),Uo()<=Le.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function q4(t,e){return new z4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Qu(s.mutation,a,kn.empty(),ot.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const a=wa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=Bu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=wa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,s,a){let l=xs();const c=Yu(),f=function(){return Yu()}();return n.forEach((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Vr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Qu(y.mutation,p,y.mutation.getFieldMask(),ot.now())):c.set(p.key,kn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>f.set(p,new H4(y,c.get(p)??null))),f))}recalculateAndSaveOverlays(e,n){const s=Yu();let a=new mt((c,f)=>c-f),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||kn.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||je()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=eR();y.forEach(E=>{if(!l.has(E)){const C=aR(n.get(E),s.get(E));C!==null&&_.set(E,C),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(wa());let f=rc,m=l;return c.next(p=>ae.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,je())).next(y=>({batchId:f,changes:JA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let a=Bu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Bu();return this.indexManager.getCollectionParents(e,l).next(f=>ae.forEach(f,m=>{const p=function(_,E){return new Nc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))});let f=Bu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Qu(y.mutation,p,kn.empty(),ot.now()),Od(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Li(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:V4(a.bundledQuery),readTime:Li(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.overlays=new mt(Te.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=wa();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.St(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=wa(),l=n.length+1,c=new Te(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=wa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ae.resolve(f)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new h4(n,s));let l=this.qr.get(n);l===void 0&&(l=je(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Qr=new Bt($t.$r),this.Ur=new Bt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Te(new at([])),s=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([s,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new at([])),s=new $t(n,e),a=new $t(n,e+1);let l=je();return this.Ur.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt($t.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new c4(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?dv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],c=>{const f=this.Xr(c.Yr);l.push(f)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Ue);return n.forEach(a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{s=s.add(f.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Te(l),0);let f=new Bt(Ue);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Yr)),!0)},c),ae.resolve(this.ti(f))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,a=>{const l=new $t(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new $t(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.ri=e,this.docs=function(){return new mt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=xs();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=xs();const c=n.path,f=new Te(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||wV(bV(y),s)<=0||(a.has(y.key)||Od(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ii(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new W4(this)}getSize(e){return ae.resolve(this.size)}}class W4 extends F4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.persistence=e,this.si=new Fa(n=>gv(n),yv),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new wv,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.ui={},this.overlays={},this.ci=new xd(0),this.li=!1,this.li=!0,this.hi=new Y4,this.referenceDelegate=e(this),this.Pi=new Z4(this),this.indexManager=new k4,this.remoteDocumentCache=function(a){return new X4(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new M4(n),this.Ii=new K4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Q4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const a=new J4(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,n){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class J4 extends RV{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.Ri=new wv,this.Vi=null}static mi(e){return new Av(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const a=Te.fromPath(s);return this.gi(e,a).next(l=>{l||n.removeEntry(a,xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ld{constructor(e,n){this.persistence=e,this.pi=new Fa(s=>IV(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=q4(this,n)}static mi(e,n){return new ld(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,n).next(f=>{f||(s++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=je(),a=je();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Rv(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ON()?8:CV(fn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ek;return this.Ss(e,n,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)})}).next(()=>l.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(Uo()<=Le.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Uo()<=Le.DEBUG&&ye("QueryEngine","Query:",jo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=Le.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):ae.resolve())}ys(e,n){if(X1(n))return ae.resolve(null);let s=ki(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ly(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=je(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.Ds(n,f);return this.Cs(n,p,c,m.readTime)?this.ys(e,ly(n,null,"F")):this.vs(e,p,n,m)}))})))}ws(e,n,s,a){return X1(n)||a.isEqual(xe.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ae.resolve(null):(Uo()<=Le.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(n)),this.vs(e,c,n,SV(a,rc)).next(f=>f))})}Ds(e,n){let s=new Bt(WA(e));return n.forEach((a,l)=>{Od(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Uo()<=Le.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",jo(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LocalStore",nk=3e8;class ik{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new mt(Ue),this.xs=new Fa(l=>gv(l),yv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function sk(t,e,n,s){return new ik(t,e,n,s)}async function TR(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=je();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:f}))})})}function rk(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,E=_.keys();let C=ae.resolve();return E.forEach(x=>{C=C.next(()=>y.getEntry(m,x)).next(M=>{const D=p.docVersions.get(x);Ye(D!==null,48541),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=je();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function ER(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ak(t,e){const n=Ie(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_)));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,s)),a=a.insert(_,C),function(M,D,j){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=nk?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,C,y)&&f.push(n.Pi.updateTargetData(l,C))});let m=xs(),p=je();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(ok(l,c,e.documentUpdates).next(y=>{m=y.ks,p=y.qs})),!s.isEqual(xe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next(_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(y)}return ae.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ms=a,l))}function ok(t,e,n){let s=je(),a=je();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=xs();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ye(Cv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function lk(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=dv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uk(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next(c=>(a=new yr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function dy(t,e,n){const s=Ie(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!pl(c))throw c;ye(Cv,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function uS(t,e,n){const s=Ie(t);let a=xe.min(),l=je();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Ie(m),E=_.xs.get(y);return E!==void 0?ae.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)}(s,c,ki(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:xe.min(),n?l:je())).next(f=>(ck(s,YV(e),f),{documents:f,Qs:l})))}function ck(t,e,n){let s=t.Os.get(e)||xe.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Os.set(e,s)}class cS{constructor(){this.activeTargetIds=e4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hk{constructor(){this.Mo=new cS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="ConnectivityMonitor";class fS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(hS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(hS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=null;function my(){return Ef===null?Ef=function(){return 268435456+Math.round(2147483648*Math.random())}():Ef++,"0x"+Ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===nd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=my(),f=this.zo(e,n.toUriEncodedString());ye(Sg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(f),y=cl(p);return this.Jo(e,f,m,s,y).then(_=>(ye(Sg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw el(Sg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_})}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,n){const s=dk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class gk extends mk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=my();return new Promise((f,m)=>{const p=new wA;p.setWithCredentials(!0),p.listenOnce(AA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Pf.NO_ERROR:const _=p.getResponseJson();ye(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Pf.TIMEOUT:ye(on,`RPC '${e}' ${c} timed out`),m(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const E=p.getStatus();if(ye(on,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C?.error;if(x&&x.status&&x.message){const M=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf($)>=0?$:se.UNKNOWN}(x.status);m(new me(M,x.message))}else m(new me(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(se.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(on,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);ye(on,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)})}T_(e,n,s){const a=my(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=xA(),f=CA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ye(on,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.I_(_);let E=!1,C=!1;const x=new pk({Yo:D=>{C?ye(on,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(ye(on,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(on,`RPC '${e}' stream ${a} sending:`,D),_.send(D))},Zo:()=>_.close()}),M=(D,j,$)=>{D.listen(j,q=>{try{$(q)}catch(ue){setTimeout(()=>{throw ue},0)}})};return M(_,ju.EventType.OPEN,()=>{C||(ye(on,`RPC '${e}' stream ${a} transport opened.`),x.o_())}),M(_,ju.EventType.CLOSE,()=>{C||(C=!0,ye(on,`RPC '${e}' stream ${a} transport closed`),x.a_(),this.E_(_))}),M(_,ju.EventType.ERROR,D=>{C||(C=!0,el(on,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),x.a_(new me(se.UNAVAILABLE,"The operation could not be completed")))}),M(_,ju.EventType.MESSAGE,D=>{if(!C){const j=D.data[0];Ye(!!j,16349);const $=j,q=$?.error||$[0]?.error;if(q){ye(on,`RPC '${e}' stream ${a} received error:`,q);const ue=q.status;let te=function(A){const I=Dt[A];if(I!==void 0)return lR(I)}(ue),W=q.message;te===void 0&&(te=se.INTERNAL,W="Unknown error status: "+ue+" with message "+q.message),C=!0,x.a_(new me(te,W)),_.close()}else ye(on,`RPC '${e}' stream ${a} received:`,j),x.u_(j)}}),M(f,RA.STAT_EVENT,D=>{D.stat===ty.PROXY?ye(on,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===ty.NOPROXY&&ye(on,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return new T4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="PersistentStream";class bR{constructor(e,n,s,a,l,c,f,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Rs(n.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new me(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(dS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(dS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yk extends bR{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=b4(this.serializer,e),s=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Li(c.readTime):xe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fy(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=ay(m)?{documents:R4(l,m)}:{query:C4(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=hR(l,c.resumeToken);const p=uy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(xe.min())>0){f.readTime=od(l,c.snapshotVersion.toTimestamp());const p=uy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const s=I4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fy(this.serializer),n.removeTarget=e,this.q_(n)}}class vk extends bR{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=A4(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>w4(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{}class Tk extends _k{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,cy(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(se.UNKNOWN,l.toString())})}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,cy(n,s),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(se.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ek{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class Sk{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Ha(this)&&(ye(Ua,"Restarting streams for network reachability change."),await async function(m){const p=Ie(m);p.Ea.add(4),await Mc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Ld(p)}(this))})}),this.Ra=new Ek(s,a)}}async function Ld(t){if(Ha(t))for(const e of t.da)await e(!0)}async function Mc(t){for(const e of t.da)await e(!1)}function wR(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nv(n)?Dv(n):gl(n).O_()&&Iv(n,e))}function xv(t,e){const n=Ie(t),s=gl(n);n.Ia.delete(e),s.O_()&&AR(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function Iv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).Y_(e)}function AR(t,e){t.Va.Ue(e),gl(t).Z_(e)}function Dv(t){t.Va=new g4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.Ra.ua()}function Nv(t){return Ha(t)&&!gl(t).x_()&&t.Ia.size>0}function Ha(t){return Ie(t).Ea.size===0}function RR(t){t.Va=void 0}async function bk(t){t.Ra.set("Online")}async function wk(t){t.Ia.forEach((e,n)=>{Iv(t,e)})}async function Ak(t,e){RR(t),Nv(t)?(t.Ra.ha(e),Dv(t)):t.Ra.set("Unknown")}async function Rk(t,e,n){if(t.Ra.set("Online"),e instanceof cR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))}(t,e)}catch(s){ye(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ud(t,s)}else if(e instanceof Lf?t.Va.Ze(e):e instanceof uR?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const s=await ER(t.localStore);n.compareTo(s)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),AR(l,m);const _=new yr(y.target,m,p,y.sequenceNumber);Iv(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(s){ye(Ua,"Failed to raise snapshot:",s),await ud(t,s)}}async function ud(t,e,n){if(!pl(e))throw e;t.Ea.add(1),await Mc(t),t.Ra.set("Offline"),n||(n=()=>ER(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(Ua,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ld(t)})}function CR(t,e){return e().catch(n=>ud(t,n,e))}async function Ud(t){const e=Ie(t),n=xr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dv;for(;Ck(e);)try{const a=await lk(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,xk(e,a)}catch(a){await ud(e,a)}xR(e)&&IR(e)}function Ck(t){return Ha(t)&&t.Ta.length<10}function xk(t,e){t.Ta.push(e);const n=xr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xR(t){return Ha(t)&&!xr(t).x_()&&t.Ta.length>0}function IR(t){xr(t).start()}async function Ik(t){xr(t).ra()}async function Dk(t){const e=xr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Nk(t,e,n){const s=t.Ta.shift(),a=Ev.from(s,e,n);await CR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Ud(t)}async function Ok(t,e){e&&xr(t).X_&&await async function(s,a){if(function(c){return d4(c)&&c!==se.ABORTED}(a.code)){const l=s.Ta.shift();xr(s).B_(),await CR(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ud(s)}}(t,e),xR(t)&&IR(t)}async function mS(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ye(Ua,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await Mc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ld(n)}async function Pk(t,e){const n=Ie(t);e?(n.Ea.delete(2),await Ld(n)):e||(n.Ea.add(2),await Mc(n),n.Ra.set("Unknown"))}function gl(t){return t.ma||(t.ma=function(n,s,a){const l=Ie(n);return l.sa(),new yk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:bk.bind(null,t),t_:wk.bind(null,t),r_:Ak.bind(null,t),H_:Rk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Nv(t)?Dv(t):t.Ra.set("Unknown")):(await t.ma.stop(),RR(t))})),t.ma}function xr(t){return t.fa||(t.fa=function(n,s,a){const l=Ie(n);return l.sa(),new vk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ik.bind(null,t),r_:Ok.bind(null,t),ta:Dk.bind(null,t),na:Nk.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ud(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Ua,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new Ov(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pv(t,e){if(Rs("AsyncQueue",`${e}: ${t}`),pl(t))return new me(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Bu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.ga=new mt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class rl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new rl(e,n,Wo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Vk{constructor(){this.queries=gS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ie(n),l=a.queries;a.queries=gS(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new me(se.ABORTED,"Firestore shutting down"))}}function gS(){return new Fa(t=>XA(t),Nd)}async function DR(t,e){const n=Ie(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new Mk,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Pv(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Mv(n)}async function NR(t,e){const n=Ie(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kk(t,e){const n=Ie(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(s=!0);c.wa=a}}s&&Mv(n)}function Lk(t,e,n){const s=Ie(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function Mv(t){t.Ca.forEach(e=>{e.next()})}var py,yS;(yS=py||(py={})).Ma="default",yS.Cache="cache";class OR{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.key=e}}class MR{constructor(e){this.key=e}}class Uk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=WA(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new pS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),C=Od(this.query,_)?_:null,x=!!E&&this.mutatedKeys.has(E.key),M=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;E&&C?E.data.isEqual(C.data)?x!==M&&(s.track({type:3,doc:C}),D=!0):this.su(E,C)||(s.track({type:2,doc:C}),D=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(f=!0)):!E&&C?(s.track({type:0,doc:C}),D=!0):E&&!C&&(s.track({type:1,doc:E}),D=!0,(m||p)&&(f=!0)),D&&(C?(c=c.add(C),l=M?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((y,_)=>function(C,x){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:D})}};return M(C)-M(x)}(y.type,_.type)||this.eu(y.doc,_.doc)),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new rl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new MR(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new PR(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vv="SyncEngine";class jk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Bk{constructor(e){this.key=e,this.hu=!1}}class zk{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa(f=>XA(f),Nd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Te.comparator),this.Au=new Map,this.Ru=new wv,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qk(t,e,n=!0){const s=BR(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await VR(s,e,n,!0),a}async function Fk(t,e){const n=BR(t);await VR(n,e,!0,!1)}async function VR(t,e,n,s){const a=await uk(t.localStore,ki(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await Hk(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&wR(t.remoteStore,a),f}async function Hk(t,e,n,s,a){t.pu=(_,E,C)=>async function(M,D,j,$){let q=D.view.ru(j);q.Cs&&(q=await uS(M.localStore,D.query,!1).then(({documents:N})=>D.view.ru(N,q)));const ue=$&&$.targetChanges.get(D.targetId),te=$&&$.targetMismatches.get(D.targetId)!=null,W=D.view.applyChanges(q,M.isPrimaryClient,ue,te);return _S(M,D.targetId,W.au),W.snapshot}(t,_,E,C);const l=await uS(t.localStore,e,!0),c=new Uk(e,l.Qs),f=c.ru(l.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);_S(t,n,p.au);const y=new jk(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function Gk(t,e,n){const s=Ie(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(c=>!Nd(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dy(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&xv(s.remoteStore,a.targetId),gy(s,a.targetId)}).catch(ml)):(gy(s,a.targetId),await dy(s.localStore,a.targetId,!0))}async function Kk(t,e){const n=Ie(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xv(n.remoteStore,s.targetId))}async function $k(t,e,n){const s=eL(t);try{const a=await function(c,f){const m=Ie(c),p=ot.now(),y=f.reduce((C,x)=>C.add(x.key),je());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=xs(),M=je();return m.Ns.getEntries(C,y).next(D=>{x=D,x.forEach((j,$)=>{$.isValidDocument()||(M=M.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,x)).next(D=>{_=D;const j=[];for(const $ of f){const q=l4($,_.get($.key).overlayedDocument);q!=null&&j.push(new Vr($.key,q,qA(q.value.mapValue),Ln.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,j,f)}).next(D=>{E=D;const j=D.applyToLocalDocumentSet(_,M);return m.documentOverlayCache.saveOverlays(C,D.batchId,j)})}).then(()=>({batchId:E.batchId,changes:JA(_)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new mt(Ue)),p=p.insert(f,m),c.Vu[c.currentUser.toKey()]=p}(s,a.batchId,n),await Vc(s,a.changes),await Ud(s.remoteStore)}catch(a){const l=Pv(a,"Failed to persist write");n.reject(l)}}async function kR(t,e){const n=Ie(t);try{const s=await ak(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))}),await Vc(n,s,e)}catch(s){await ml(s)}}function vS(t,e,n){const s=Ie(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Ie(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Sa)E.va(f)&&(p=!0)}),p&&Mv(m)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Yk(t,e,n){const s=Ie(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new mt(Te.comparator);c=c.insert(l,un.newNoDocument(l,xe.min()));const f=je().add(l),m=new Vd(xe.min(),new Map,new mt(Ue),c,f);await kR(s,m),s.du=s.du.remove(l),s.Au.delete(e),kv(s)}else await dy(s.localStore,e,!1).then(()=>gy(s,e,n)).catch(ml)}async function Qk(t,e){const n=Ie(t),s=e.batch.batchId;try{const a=await rk(n.localStore,e);UR(n,s,null),LR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vc(n,a)}catch(a){await ml(a)}}async function Xk(t,e,n){const s=Ie(t);try{const a=await function(c,f){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(Ye(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(s.localStore,e);UR(s,e,n),LR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vc(s,a)}catch(a){await ml(a)}}function LR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function UR(t,e,n){const s=Ie(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||jR(t,s)})}function jR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),kv(t))}function _S(t,e,n){for(const s of n)s instanceof PR?(t.Ru.addReference(s.key,e),Wk(t,s)):s instanceof MR?(ye(Vv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||jR(t,s.key)):Ae(19791,{wu:s})}function Wk(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(Vv,"New document in limbo: "+n),t.Eu.add(s),kv(t))}function kv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Te(at.fromString(e)),s=t.fu.next();t.Au.set(s,new Bk(n)),t.du=t.du.insert(n,s),wR(t.remoteStore,new yr(ki(vv(n.path)),s,"TargetPurposeLimboResolution",xd.ce))}}async function Vc(t,e,n){const s=Ie(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((f,m)=>{c.push(s.pu(m,e,n).then(p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Rv.As(m.targetId,p);l.push(y)}}))}),await Promise.all(c),s.Pu.H_(a),await async function(m,p){const y=Ie(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ae.forEach(p,E=>ae.forEach(E.Es,C=>y.persistence.referenceDelegate.addReference(_,E.targetId,C)).next(()=>ae.forEach(E.ds,C=>y.persistence.referenceDelegate.removeReference(_,E.targetId,C)))))}catch(_){if(!pl(_))throw _;ye(Cv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const C=y.Ms.get(E),x=C.snapshotVersion,M=C.withLastLimboFreeSnapshotVersion(x);y.Ms=y.Ms.insert(E,M)}}}(s.localStore,l))}async function Zk(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){ye(Vv,"User change. New user:",e.toKey());const s=await TR(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(m=>{m.reject(new me(se.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vc(n,s.Ls)}}function Jk(t,e){const n=Ie(t),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let a=je();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function BR(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yk.bind(null,e),e.Pu.H_=kk.bind(null,e.eventManager),e.Pu.yu=Lk.bind(null,e.eventManager),e}function eL(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xk.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sk(this.persistence,new tk,e.initialUser,this.serializer)}Cu(e){return new _R(Av.mi,this.serializer)}Du(e){return new hk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class tL extends cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof ld,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new B4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new _R(s=>ld.mi(s,n),this.serializer)}}class yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zk.bind(null,this.syncEngine),await Pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vk}()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),s=function(l){return new gk(l)}(e.databaseInfo);return function(l,c,f,m){return new Tk(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,c,f){return new Sk(s,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,n=>vS(this.syncEngine,n,0),function(){return fS.v()?new fS:new fk}())}createSyncEngine(e,n){return function(a,l,c,f,m,p,y){const _=new zk(a,l,c,f,m,p);return y&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ie(n);ye(Ua,"RemoteStore shutting down."),s.Ea.add(5),await Mc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class nL{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ye(Ir,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ye(Ir,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pv(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),ye(Ir,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await TR(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iL(t);ye(Ir,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>mS(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>mS(e.remoteStore,a)),t._onlineComponents=e}async function iL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(Ir,"Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new cd)}}else ye(Ir,"Using default OfflineComponentProvider"),await wg(t,new tL(void 0));return t._offlineComponents}async function qR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(Ir,"Using user provided OnlineComponentProvider"),await TS(t,t._uninitializedComponentsProvider._online)):(ye(Ir,"Using default OnlineComponentProvider"),await TS(t,new yy))),t._onlineComponents}function sL(t){return qR(t).then(e=>e.syncEngine)}async function FR(t){const e=await qR(t),n=e.eventManager;return n.onListen=qk.bind(null,e.syncEngine),n.onUnlisten=Gk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kk.bind(null,e.syncEngine),n}function rL(t,e,n={}){const s=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new zR({next:E=>{y.Nu(),c.enqueueAndForget(()=>NR(l,_));const C=E.docs.has(f);!C&&E.fromCache?p.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?p.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new OR(vv(f.path),y,{includeMetadataChanges:!0,qa:!0});return DR(l,_)}(await FR(t),t.asyncQueue,e,n,s)),s.promise}function aL(t,e,n={}){const s=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new zR({next:E=>{y.Nu(),c.enqueueAndForget(()=>NR(l,_)),E.fromCache&&m.source==="server"?p.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new OR(f,y,{includeMetadataChanges:!0,qa:!0});return DR(l,_)}(await FR(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firestore.googleapis.com",SS=!0;class bS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GR,this.ssl=SS}else this.host=e.host,this.ssl=e.ssl??SS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U4)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HR(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new hV;switch(s.type){case"firstParty":return new pV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=ES.get(n);s&&(ye("ComponentProvider","Removing Datastore"),ES.delete(n),s.terminate())}(this),Promise.resolve()}}function oL(t,e,n,s={}){t=Cs(t,jd);const a=cl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Mw(`https://${f}`),Vw("Firestore",!0)),l.host!==GR&&l.host!==f&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Pa(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=ln.MOCK_USER;else{p=bN(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(_)}t._authCredentials=new fV(new DA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Dc(n,Mt._jsonSchema))return new Mt(e,s||null,new Te(at.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Pt("string",Mt._jsonSchemaVersion),referencePath:Pt("string")};class br extends yl{constructor(e,n,s){super(e,n,vv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new Te(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function ui(t,e,...n){if(t=zt(t),NA("collection","path",e),t instanceof jd){const s=at.fromString(e,...n);return k1(s),new br(t,null,s)}{if(!(t instanceof Mt||t instanceof br))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return k1(s),new br(t.firestore,null,s)}}function _s(t,e,...n){if(t=zt(t),arguments.length===1&&(e=fv.newId()),NA("doc","path",e),t instanceof jd){const s=at.fromString(e,...n);return V1(s),new Mt(t,null,new Te(s))}{if(!(t instanceof Mt||t instanceof br))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return V1(s),new Mt(t.firestore,t instanceof br?t.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="AsyncQueue";class AS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SR(this,"async_queue_retry"),this._c=()=>{const s=bg();s&&ye(wS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ss;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ye(wS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",RS(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Ov.createAndSchedule(this,e,n,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:RS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vl extends jd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new AS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AS(e),this._firestoreClient=void 0,await e}}}function lL(t,e){const n=typeof t=="object"?t:jw(),s=typeof t=="string"?t:nd,a=tv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=EN("firestore");l&&oL(a,...l)}return a}function Bd(t){if(t._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uL(t),t._firestoreClient}function uL(t){const e=t._freezeSettings(),n=function(a,l,c,f){return new OV(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,HR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(nn.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Pt("string",ti._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Pt("string",Ui._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ji(e.vectorValues);throw new me(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Pt("string",ji._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=/^__.*__$/;class hL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class KR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class Lv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($R(this.Ac)&&cL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kd(e)}Cc(e,n,s,a=!1){return new Lv({Ac:e,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new fL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Uv(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Bv("Data must be an object, but it was:",c,s);const f=YR(s,c);let m,p;if(l.merge)m=new kn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=vy(e,_,n);if(!c.contains(E))throw new me(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);XR(y,E)||y.push(E)}m=new kn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new hL(new bn(f),m,p)}class Hd extends qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}class jv extends qd{_toFieldTransform(e){return new s4(e.path,new uc)}isEqual(e){return e instanceof jv}}function dL(t,e,n,s){const a=t.Cc(1,e,n);Bv("Data must be an object, but it was:",a,s);const l=[],c=bn.empty();Mr(s,(m,p)=>{const y=zv(e,m,n);p=zt(p);const _=a.yc(y);if(p instanceof Hd)l.push(y);else{const E=kc(p,_);E!=null&&(l.push(y),c.set(y,E))}});const f=new kn(l);return new KR(c,f,a.fieldTransforms)}function mL(t,e,n,s,a,l){const c=t.Cc(1,e,n),f=[vy(e,s,n)],m=[a];if(l.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(vy(e,l[E])),m.push(l[E+1]);const p=[],y=bn.empty();for(let E=f.length-1;E>=0;--E)if(!XR(p,f[E])){const C=f[E];let x=m[E];x=zt(x);const M=c.yc(C);if(x instanceof Hd)p.push(C);else{const D=kc(x,M);D!=null&&(p.push(C),y.set(C,D))}}const _=new kn(p);return new KR(y,_,c.fieldTransforms)}function pL(t,e,n,s=!1){return kc(n,t.Cc(s?4:3,e))}function kc(t,e){if(QR(t=zt(t)))return Bv("Unsupported field value:",e,t),YR(t,e);if(t instanceof qd)return function(s,a){if(!$R(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const f of s){let m=kc(f,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return t4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ot.fromDate(s);return{timestampValue:od(a.serializer,l)}}if(s instanceof ot){const l=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:od(a.serializer,l)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:hR(a.serializer,s._byteString)};if(s instanceof Mt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ji)return function(c,f){return{mapValue:{fields:{[BA]:{stringValue:zA},[id]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return _v(f.serializer,p)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${Cd(s)}`)}(t,e)}function YR(t,e){const n={};return MA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,(s,a)=>{const l=kc(a,e.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function QR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Ui||t instanceof ti||t instanceof Mt||t instanceof qd||t instanceof ji)}function Bv(t,e,n){if(!QR(n)||!OA(n)){const s=Cd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function vy(t,e,n){if((e=zt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return zv(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const gL=new RegExp("[~\\*/\\[\\]]");function zv(t,e,n){if(e.search(gL)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zd(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new me(se.INVALID_ARGUMENT,f+t+m)}function XR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yL extends WR{data(){return super.data()}}function qv(t,e){return typeof e=="string"?zv(t,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class _L extends Fv{}function Sf(t,e,...n){let s=[];e instanceof Fv&&s.push(e),s=s.concat(n),function(l){const c=l.filter(m=>m instanceof Hv).length,f=l.filter(m=>m instanceof Gd).length;if(c>1||c>0&&f>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class Gd extends _L{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Gd(e,n,s)}_apply(e){const n=this._parse(e);return ZR(e._query,n),new yl(e.firestore,e.converter,oy(e._query,n))}_parse(e){const n=Fd(e.firestore);return function(l,c,f,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){xS(_,y);const x=[];for(const M of _)x.push(CS(m,l,M));E={arrayValue:{values:x}}}else E=CS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||xS(_,y),E=pL(f,c,_,y==="in"||y==="not-in");return Ot.create(p,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bf(t,e,n){const s=e,a=qv("where",t);return Gd._create(a,s,n)}class Hv extends Fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hv(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)ZR(c,m),c=oy(c,m)}(e._query,n),new yl(e.firestore,e.converter,oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function CS(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!Te.isDocumentKey(s))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return H1(t,new Te(s))}if(n instanceof Mt)return H1(t,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function xS(t,e){if(!Array.isArray(t)||t.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZR(t,e){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TL{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Mr(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){const n=e.fields?.[id].arrayValue?.values?.map(s=>At(s.doubleValue));return new ji(n)}convertGeoPoint(e){return new Ui(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Dd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);Ye(yR(s),9688,{name:e});const a=new oc(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return a.isEqual(n)||Rs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends WR{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(qv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Pt("string",xa._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Uf extends xa{data(e={}){return super.data(e)}}class Zo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new qu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Uf(this._firestore,this._userDataWriter,s.key,s,new qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:EL(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){t=Cs(t,Mt);const e=Cs(t.firestore,vl);return rL(Bd(e),t._key).then(n=>SL(e,t,n))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:Pt("string",Zo._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class JR extends TL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Ta(t){t=Cs(t,yl);const e=Cs(t.firestore,vl),n=Bd(e),s=new JR(e);return vL(t._query),aL(n,t._query).then(a=>new Zo(e,s,t,a))}function IS(t,e,n){t=Cs(t,Mt);const s=Cs(t.firestore,vl),a=Gv(t.converter,e,n);return $v(s,[Uv(Fd(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ln.none())])}function eC(t,e){const n=Cs(t.firestore,vl),s=_s(t),a=Gv(t.converter,e);return $v(n,[Uv(Fd(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function $v(t,e){return function(s,a){const l=new Ss;return s.asyncQueue.enqueueAndForget(async()=>$k(await sL(s),a,l)),l.promise}(Bd(t),e)}function SL(t,e,n){const s=n.docs.get(e._key),a=new JR(t);return new xa(t,a,e._key,s,new qu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fd(e)}set(e,n,s){this._verifyNotCommitted();const a=Ag(e,this._firestore),l=Gv(a.converter,n,s),c=Uv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Ln.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=Ag(e,this._firestore);let c;return c=typeof(n=zt(n))=="string"||n instanceof zd?mL(this._dataReader,"WriteBatch.update",l._key,n,s,a):dL(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ag(e,this._firestore);return this._mutations=this._mutations.concat(new Tv(n._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ag(t,e){if((t=zt(t)).firestore!==e)throw new me(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function wL(){return new jv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){return Bd(t=Cs(t,vl)),new bL(t,e=>$v(t,e))}(function(e,n=!0){(function(a){dl=a})(hl),Jo(new Ma("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new vl(new dV(s.getProvider("auth-internal")),new gV(c,s.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(p.options.projectId,y)}(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Er(N1,O1,e),Er(N1,O1,"esm2020")})();const AL={apiKey:"AIzaSyAAs79oNxuXSfcNTsd1I0IN-PH_0AtVgqQ",authDomain:"mki-vocabulary.firebaseapp.com",projectId:"mki-vocabulary",storageBucket:"mki-vocabulary.appspot.com",messagingSenderId:"173090621366",appId:"1:173090621366:web:ec6fee6875cb1467f5a317"},tC=Uw(AL),al=SA(tC),wt=lL(tC),NS=()=>{const[t,e]=O.useState(!1);return O.useEffect(()=>{const n=document.documentElement.classList;n.toggle("dark-theme",t),n.toggle("light-theme",!t)},[t]),b.jsx("button",{style:{backgroundColor:"var(--bg-color)",border:"none",padding:"6px 12px",color:"var(--text-color)",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",transition:"background-color 0.2s ease"},onClick:()=>e(n=>!n),children:t?"Light Mode":"Dark Mode"})};function RL(){const t=Sc(),[e,n]=O.useState(""),[s,a]=O.useState(!1);O.useEffect(()=>{const m=lv(al,p=>{if(p){const y=p.displayName;if(y)n(y);else{const[_]=p.email.split("@"),E=_.replace("."," ").replace(/\b\w/g,C=>C.toUpperCase());n(E)}}});return()=>m()},[]);const l=async()=>{try{await WP(al),t("/")}catch(m){console.error("Logout error:",m)}},c=()=>a(m=>!m),f=()=>a(!1);return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar",children:[b.jsxs("div",{className:"logo",onClick:()=>t("/"),children:[b.jsx("img",{src:"/images/logoblack-removebg-preview.png",alt:"Logo",className:"nav-logo-img"})," ","MKI school"]}),b.jsxs("div",{className:"nav-actions",children:[b.jsxs("span",{className:"user-name",children:["Hello: ",b.jsx("strong",{className:"user-name-bold",children:e})]}),b.jsx(NS,{}),b.jsx("button",{className:"nav-button",onClick:()=>t("/stats"),children:"📊 Stats"}),b.jsx("button",{className:"nav-button nav_logout",onClick:l,children:"🔓 Log Out"})]}),b.jsxs("div",{className:"hamburger",onClick:c,"aria-label":"Toggle menu",children:[b.jsx("div",{}),b.jsx("div",{}),b.jsx("div",{})]})]}),b.jsxs("div",{className:`sidebar ${s?"open":""}`,children:[window.innerWidth<=400&&b.jsx("div",{className:"sidebar-close-btn",onClick:f,children:"⟵"}),b.jsxs("span",{className:"user-name",style:{marginBottom:"1rem"},children:["Hello: ",b.jsx("strong",{className:"user-name-bold",children:e})]}),b.jsx("button",{className:"nav-button",onClick:()=>{t("/stats"),f()},children:"📊 Stats"}),b.jsx("button",{className:"nav-button logout",onClick:()=>{l(),f()},children:"🔓 Log Out"}),b.jsx(NS,{})]}),s&&b.jsx("div",{className:"overlay",onClick:f})]})}const CL={"bexzod.mahmudov@gmail.com":{fullName:"Bexzod Mahmudov",role:"teacher",password:"beka123"},"miss.ziyoda@gmail.com":{fullName:"Miss Ziyoda",role:"teacher",password:"miss_ziyoda"},"miss.ozoda@gmail.com":{fullName:"Miss Ozoda",role:"teacher",password:"miss_ozoda"},"olga.rudolfovna@gmail.com":{fullName:"Olga Rudolfovna",role:"teacher",password:"olga_rudolfovna"},"mki.school@gmail.com":{fullName:"Mki School",role:"admin",password:"mki_school"}};function xL({onAuthSuccess:t}){const[e,n]=O.useState(""),[s,a]=O.useState(""),[l,c]=O.useState(""),[f,m]=O.useState(""),[p,y]=O.useState(!1),[_,E]=O.useState("");O.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]);const C=async()=>{if(!e||!s||!f||!l){E("Please fill in all fields.");return}const M=`${e.toLowerCase()}.${s.toLowerCase()}@gmail.com`;try{const{user:D}=await $P(al,M,f);await IS(_s(wt,"users",D.uid),{fullName:`${e} ${s}`,role:"student",teacher:l,createdAt:new Date}),t()}catch(D){E(D.message)}},x=async()=>{const M=`${e.toLowerCase()}.${s.toLowerCase()}@gmail.com`;try{const{user:D}=await YP(al,M,f),j=_s(wt,"users",D.uid);if(!(await Kv(j)).exists()){const q=CL[M];if(q)await IS(j,{fullName:q.fullName,role:q.role});else throw new Error("Account not found.")}t()}catch(D){E(D.message)}};return b.jsx("div",{className:"modal",children:b.jsxs("div",{className:"modal-content auth-content",children:[b.jsx("img",{src:"/images/favicon.ico",alt:"Site Icon",className:"site-icon"}),b.jsx("h2",{children:"Register / Login"}),b.jsx("input",{type:"text",placeholder:"First name",value:e,onChange:M=>n(M.target.value)}),b.jsx("input",{type:"text",placeholder:"Last name",value:s,onChange:M=>a(M.target.value)}),b.jsxs("select",{value:l,onChange:M=>c(M.target.value),children:[b.jsx("option",{value:"",disabled:!0,hidden:!0,children:"-- Select your teacher --"}),b.jsx("option",{value:"Bexzod Mahmudov",children:"Bexzod Mahmudov"}),b.jsx("option",{value:"Miss Ozoda",children:"Miss Ozoda"}),b.jsx("option",{value:"Miss Ziyoda",children:"Miss Ziyoda"}),b.jsx("option",{value:"Olga Rudolfovna",children:"Ольга Рудольфовна"})]}),b.jsx("input",{type:p?"text":"password",placeholder:"Password",value:f,onChange:M=>m(M.target.value)}),b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",onChange:()=>y(!p)}),"Show password"]}),b.jsx("button",{onClick:C,children:"Register"}),b.jsx("button",{onClick:x,children:"Log In"}),b.jsx("p",{style:{color:"red",fontSize:"0.9em"},children:_})]})})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),OS=t=>{const e=DL(t);return e.charAt(0).toUpperCase()+e.slice(1)},nC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),NL=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>O.createElement("svg",{ref:m,...OL,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:nC("lucide",a),...!l&&!NL(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=(t,e)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(PL,{ref:l,iconNode:e,className:nC(`lucide-${IL(OS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=OS(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],VL=Kd("book-open-check",ML);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],LL=Kd("file-text",kL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],jL=Kd("gamepad",UL);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],zL=Kd("heart",BL);function qL(){const[t,e]=O.useState(!0);return O.useEffect(()=>{const n=lv(al,s=>{e(!s)});return()=>n()},[]),b.jsxs("div",{className:"landing-page",children:[t&&b.jsx(xL,{onAuthSuccess:()=>e(!1)}),b.jsx("h1",{className:"landing-title",children:"Welcome to Vocabulary Games!"}),b.jsxs("div",{className:"game-card-container",children:[b.jsxs(Jn,{to:"/quiz",className:"game-card active ",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M480-120 200-272v-240L40-600l440-240 440 240v320h-80v-276l-80 44v240L480-120Zm0-332 274-148-274-148-274 148 274 148Zm0 241 200-108v-151L480-360 280-470v151l200 108Zm0-241Zm0 90Zm0 0Z"})}),b.jsx("h2",{children:"Quiz"})]}),b.jsxs(Jn,{to:"/cuecard",className:"game-card active ",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M560-564v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-600q-38 0-73 9.5T560-564Zm0 220v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-380q-38 0-73 9t-67 27Zm0-110v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-490q-38 0-73 9.5T560-454ZM260-320q47 0 91.5 10.5T440-278v-394q-41-24-87-36t-93-12q-36 0-71.5 7T120-692v396q35-12 69.5-18t70.5-6Zm260 42q44-21 88.5-31.5T700-320q36 0 70.5 6t69.5 18v-396q-33-14-68.5-21t-71.5-7q-47 0-93 12t-87 36v394Zm-40 118q-48-38-104-59t-116-21q-42 0-82.5 11T100-198q-21 11-40.5-1T40-234v-482q0-11 5.5-21T62-752q46-24 96-36t102-12q58 0 113.5 15T480-740q51-30 106.5-45T700-800q52 0 102 12t96 36q11 5 16.5 15t5.5 21v482q0 23-19.5 35t-40.5 1q-37-20-77.5-31T700-240q-60 0-116 21t-104 59ZM280-494Z"})}),b.jsx("h2",{children:"Cue Card"})]}),b.jsxs(Jn,{to:"/matching",className:"game-card active ",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M120-272q0-16 10.5-27t25.5-11q8 0 15.5 2.5T186-300q13 8 26 14t28 6q33 0 56.5-23.5T320-360q0-33-23.5-56.5T240-440q-15 0-29 5t-25 15q-6 5-14 7.5t-16 2.5q-15 0-25.5-11T120-448v-152q0-17 11.5-28.5T160-640h150q-5-15-7.5-30t-2.5-30q0-75 52.5-127.5T480-880q75 0 127.5 52.5T660-700q0 15-2.5 30t-7.5 30h150q17 0 28.5 11.5T840-600v152q0 17-11.5 28.5T800-408q-8 0-14-3.5t-12-8.5q-11-10-25-15t-29-5q-33 0-56.5 23.5T640-360q0 33 23.5 56.5T720-280q15 0 29-5t25-15q5-5 11.5-8.5T800-312q17 0 28.5 11.5T840-272v152q0 17-11.5 28.5T800-80H160q-17 0-28.5-11.5T120-120v-152Zm80 112h560v-46q-10 3-19.5 4.5T720-200q-66 0-113-47t-47-113q0-66 47-113t113-47q11 0 20.5 1.5T760-514v-46H578q-17 0-28.5-11T538-598q0-8 2.5-16.5T550-628q17-12 23.5-31.5T580-700q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 21 6.5 40.5T410-628q7 5 9.5 12.5T422-600q0 17-11.5 28.5T382-560H200v46q10-3 19.5-4.5T240-520q66 0 113 47t47 113q0 66-47 113t-113 47q-11 0-20.5-1.5T200-206v46Zm280-320Z"})}),b.jsx("h2",{children:"Matching"})]}),b.jsxs(Jn,{to:"/spelling-game",className:"game-card active status-new-feature",children:[b.jsx(jL,{size:48}),b.jsx("h2",{children:"Game"})]}),b.jsxs(Jn,{to:"/ielts",className:"game-card active status-new-feature",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M160-80q-17 0-28.5-11.5T120-120v-558q0-15 6-25.5t20-16.5l400-160q20-8 37 5.5t17 34.5v120h40q17 0 28.5 11.5T680-680v120h-80v-80H200v480h207l80 80H160Zm200-640h160v-62l-160 62ZM680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm-50-100 160-100-160-100v200Zm-430 20v-480 480Z"})}),b.jsx("h2",{children:"IELTS"}),b.jsx("span",{children:"Coming soon"})]}),b.jsxs(Jn,{to:"/speaking",className:"game-card coming-soon ",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M480-120 200-272v-240L40-600l440-240 440 240v320h-80v-276l-80 44v240L480-120Zm0-332 274-148-274-148-274 148 274 148Zm0 241 200-108v-151L480-360 280-470v151l200 108Zm0-241Zm0 90Zm0 0Z"})}),b.jsx("h2",{children:"Speaking"})]}),b.jsxs(Jn,{to:"/typing",className:"game-card coming-soon ",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M480-120 200-272v-240L40-600l440-240 440 240v320h-80v-276l-80 44v240L480-120Zm0-332 274-148-274-148-274 148 274 148Zm0 241 200-108v-151L480-360 280-470v151l200 108Zm0-241Zm0 90Zm0 0Z"})}),b.jsx("h2",{children:"Typing"})]}),b.jsxs(Jn,{to:"/#",className:"game-card coming-soon ",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"50px",viewBox:"0 -960 960 960",width:"50px",fill:"#16386e",children:b.jsx("path",{d:"M480-120 200-272v-240L40-600l440-240 440 240v320h-80v-276l-80 44v240L480-120Zm0-332 274-148-274-148-274 148 274 148Zm0 241 200-108v-151L480-360 280-470v151l200 108Zm0-241Zm0 90Zm0 0Z"})}),b.jsx("h2",{children:"?"})]})]})]})}function iC(t,e){return function(){return t.apply(e,arguments)}}const{toString:FL}=Object.prototype,{getPrototypeOf:Yv}=Object,{iterator:$d,toStringTag:sC}=Symbol,Yd=(t=>e=>{const n=FL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pi=t=>(t=t.toLowerCase(),e=>Yd(e)===t),Qd=t=>e=>typeof e===t,{isArray:_l}=Array,fc=Qd("undefined");function HL(t){return t!==null&&!fc(t)&&t.constructor!==null&&!fc(t.constructor)&&An(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rC=pi("ArrayBuffer");function GL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rC(t.buffer),e}const KL=Qd("string"),An=Qd("function"),aC=Qd("number"),Xd=t=>t!==null&&typeof t=="object",$L=t=>t===!0||t===!1,jf=t=>{if(Yd(t)!=="object")return!1;const e=Yv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sC in t)&&!($d in t)},YL=pi("Date"),QL=pi("File"),XL=pi("Blob"),WL=pi("FileList"),ZL=t=>Xd(t)&&An(t.pipe),JL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||An(t.append)&&((e=Yd(t))==="formdata"||e==="object"&&An(t.toString)&&t.toString()==="[object FormData]"))},e3=pi("URLSearchParams"),[t3,n3,i3,s3]=["ReadableStream","Request","Response","Headers"].map(pi),r3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),_l(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let f;for(s=0;s<c;s++)f=l[s],e.call(null,t[f],f,t)}}function oC(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,a;for(;s-- >0;)if(a=n[s],e===a.toLowerCase())return a;return null}const Aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lC=t=>!fc(t)&&t!==Aa;function _y(){const{caseless:t}=lC(this)&&this||{},e={},n=(s,a)=>{const l=t&&oC(e,a)||a;jf(e[l])&&jf(s)?e[l]=_y(e[l],s):jf(s)?e[l]=_y({},s):_l(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Lc(arguments[s],n);return e}const a3=(t,e,n,{allOwnKeys:s}={})=>(Lc(e,(a,l)=>{n&&An(a)?t[l]=iC(a,n):t[l]=a},{allOwnKeys:s}),t),o3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l3=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},u3=(t,e,n,s)=>{let a,l,c;const f={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)c=a[l],(!s||s(c,t,e))&&!f[c]&&(e[c]=t[c],f[c]=!0);t=n!==!1&&Yv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},c3=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},h3=t=>{if(!t)return null;if(_l(t))return t;let e=t.length;if(!aC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},f3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yv(Uint8Array)),d3=(t,e)=>{const s=(t&&t[$d]).call(t);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},m3=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},p3=pi("HTMLFormElement"),g3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),PS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),y3=pi("RegExp"),uC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Lc(n,(a,l)=>{let c;(c=e(a,l,t))!==!1&&(s[l]=c||a)}),Object.defineProperties(t,s)},v3=t=>{uC(t,(e,n)=>{if(An(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(An(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_3=(t,e)=>{const n={},s=a=>{a.forEach(l=>{n[l]=!0})};return _l(t)?s(t):s(String(t).split(e)),n},T3=()=>{},E3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function S3(t){return!!(t&&An(t.append)&&t[sC]==="FormData"&&t[$d])}const b3=t=>{const e=new Array(10),n=(s,a)=>{if(Xd(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=_l(s)?[]:{};return Lc(s,(c,f)=>{const m=n(c,a+1);!fc(m)&&(l[f]=m)}),e[a]=void 0,l}}return s};return n(t,0)},w3=pi("AsyncFunction"),A3=t=>t&&(Xd(t)||An(t))&&An(t.then)&&An(t.catch),cC=((t,e)=>t?setImmediate:e?((n,s)=>(Aa.addEventListener("message",({source:a,data:l})=>{a===Aa&&l===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Aa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",An(Aa.postMessage)),R3=typeof queueMicrotask<"u"?queueMicrotask.bind(Aa):typeof process<"u"&&process.nextTick||cC,C3=t=>t!=null&&An(t[$d]),J={isArray:_l,isArrayBuffer:rC,isBuffer:HL,isFormData:JL,isArrayBufferView:GL,isString:KL,isNumber:aC,isBoolean:$L,isObject:Xd,isPlainObject:jf,isReadableStream:t3,isRequest:n3,isResponse:i3,isHeaders:s3,isUndefined:fc,isDate:YL,isFile:QL,isBlob:XL,isRegExp:y3,isFunction:An,isStream:ZL,isURLSearchParams:e3,isTypedArray:f3,isFileList:WL,forEach:Lc,merge:_y,extend:a3,trim:r3,stripBOM:o3,inherits:l3,toFlatObject:u3,kindOf:Yd,kindOfTest:pi,endsWith:c3,toArray:h3,forEachEntry:d3,matchAll:m3,isHTMLForm:p3,hasOwnProperty:PS,hasOwnProp:PS,reduceDescriptors:uC,freezeMethods:v3,toObjectSet:_3,toCamelCase:g3,noop:T3,toFiniteNumber:E3,findKey:oC,global:Aa,isContextDefined:lC,isSpecCompliantForm:S3,toJSONObject:b3,isAsyncFn:w3,isThenable:A3,setImmediate:cC,asap:R3,isIterable:C3};function Ne(t,e,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}J.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const hC=Ne.prototype,fC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fC[t]={value:t}});Object.defineProperties(Ne,fC);Object.defineProperty(hC,"isAxiosError",{value:!0});Ne.from=(t,e,n,s,a,l)=>{const c=Object.create(hC);return J.toFlatObject(t,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Ne.call(c,t.message,e,n,s,a),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const x3=null;function Ty(t){return J.isPlainObject(t)||J.isArray(t)}function dC(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function MS(t,e,n){return t?t.concat(e).map(function(a,l){return a=dC(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function I3(t){return J.isArray(t)&&!t.some(Ty)}const D3=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Wd(t,e,n){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,D){return!J.isUndefined(D[M])});const s=n.metaTokens,a=n.visitor||y,l=n.dots,c=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(a))throw new TypeError("visitor must be a function");function p(x){if(x===null)return"";if(J.isDate(x))return x.toISOString();if(J.isBoolean(x))return x.toString();if(!m&&J.isBlob(x))throw new Ne("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(x)||J.isTypedArray(x)?m&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function y(x,M,D){let j=x;if(x&&!D&&typeof x=="object"){if(J.endsWith(M,"{}"))M=s?M:M.slice(0,-2),x=JSON.stringify(x);else if(J.isArray(x)&&I3(x)||(J.isFileList(x)||J.endsWith(M,"[]"))&&(j=J.toArray(x)))return M=dC(M),j.forEach(function(q,ue){!(J.isUndefined(q)||q===null)&&e.append(c===!0?MS([M],ue,l):c===null?M:M+"[]",p(q))}),!1}return Ty(x)?!0:(e.append(MS(D,M,l),p(x)),!1)}const _=[],E=Object.assign(D3,{defaultVisitor:y,convertValue:p,isVisitable:Ty});function C(x,M){if(!J.isUndefined(x)){if(_.indexOf(x)!==-1)throw Error("Circular reference detected in "+M.join("."));_.push(x),J.forEach(x,function(j,$){(!(J.isUndefined(j)||j===null)&&a.call(e,j,J.isString($)?$.trim():$,M,E))===!0&&C(j,M?M.concat($):[$])}),_.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return C(t),e}function VS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Qv(t,e){this._pairs=[],t&&Wd(t,this,e)}const mC=Qv.prototype;mC.append=function(e,n){this._pairs.push([e,n])};mC.toString=function(e){const n=e?function(s){return e.call(this,s,VS)}:VS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function N3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pC(t,e,n){if(!e)return t;const s=n&&n.encode||N3;J.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=J.isURLSearchParams(e)?e.toString():new Qv(e,n).toString(s),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class kS{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(s){s!==null&&e(s)})}}const gC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O3=typeof URLSearchParams<"u"?URLSearchParams:Qv,P3=typeof FormData<"u"?FormData:null,M3=typeof Blob<"u"?Blob:null,V3={isBrowser:!0,classes:{URLSearchParams:O3,FormData:P3,Blob:M3},protocols:["http","https","file","blob","url","data"]},Xv=typeof window<"u"&&typeof document<"u",Ey=typeof navigator=="object"&&navigator||void 0,k3=Xv&&(!Ey||["ReactNative","NativeScript","NS"].indexOf(Ey.product)<0),L3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U3=Xv&&window.location.href||"http://localhost",j3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xv,hasStandardBrowserEnv:k3,hasStandardBrowserWebWorkerEnv:L3,navigator:Ey,origin:U3},Symbol.toStringTag,{value:"Module"})),cn={...j3,...V3};function B3(t,e){return Wd(t,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,s,a,l){return cn.isNode&&J.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function z3(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q3(t){const e={},n=Object.keys(t);let s;const a=n.length;let l;for(s=0;s<a;s++)l=n[s],e[l]=t[l];return e}function yC(t){function e(n,s,a,l){let c=n[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),m=l>=n.length;return c=!c&&J.isArray(a)?a.length:c,m?(J.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!f):((!a[c]||!J.isObject(a[c]))&&(a[c]=[]),e(n,s,a[c],l)&&J.isArray(a[c])&&(a[c]=q3(a[c])),!f)}if(J.isFormData(t)&&J.isFunction(t.entries)){const n={};return J.forEachEntry(t,(s,a)=>{e(z3(s),a,n,0)}),n}return null}function F3(t,e,n){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Uc={transitional:gC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,l=J.isObject(e);if(l&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return a?JSON.stringify(yC(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return B3(e,this.formSerializer).toString();if((f=J.isFileList(e))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Wd(f?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),F3(e)):e}],transformResponse:[function(e){const n=this.transitional||Uc.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(s&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(c)throw f.name==="SyntaxError"?Ne.from(f,Ne.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{Uc.headers[t]={}});const H3=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),G3=t=>{const e={};let n,s,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!n||e[n]&&H3[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},LS=Symbol("internals");function Vu(t){return t&&String(t).trim().toLowerCase()}function Bf(t){return t===!1||t==null?t:J.isArray(t)?t.map(Bf):String(t)}function K3(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const $3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rg(t,e,n,s,a){if(J.isFunction(s))return s.call(this,e,n);if(a&&(e=n),!!J.isString(e)){if(J.isString(s))return e.indexOf(s)!==-1;if(J.isRegExp(s))return s.test(e)}}function Y3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Q3(t,e){const n=J.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(a,l,c){return this[s].call(this,e,a,l,c)},configurable:!0})})}let Rn=class{constructor(e){e&&this.set(e)}set(e,n,s){const a=this;function l(f,m,p){const y=Vu(m);if(!y)throw new Error("header name must be a non-empty string");const _=J.findKey(a,y);(!_||a[_]===void 0||p===!0||p===void 0&&a[_]!==!1)&&(a[_||m]=Bf(f))}const c=(f,m)=>J.forEach(f,(p,y)=>l(p,y,m));if(J.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(J.isString(e)&&(e=e.trim())&&!$3(e))c(G3(e),n);else if(J.isObject(e)&&J.isIterable(e)){let f={},m,p;for(const y of e){if(!J.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[p=y[0]]=(m=f[p])?J.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}c(f,n)}else e!=null&&l(n,e,s);return this}get(e,n){if(e=Vu(e),e){const s=J.findKey(this,e);if(s){const a=this[s];if(!n)return a;if(n===!0)return K3(a);if(J.isFunction(n))return n.call(this,a,s);if(J.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vu(e),e){const s=J.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Rg(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let a=!1;function l(c){if(c=Vu(c),c){const f=J.findKey(s,c);f&&(!n||Rg(s,s[f],f,n))&&(delete s[f],a=!0)}}return J.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const l=n[s];(!e||Rg(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,s={};return J.forEach(this,(a,l)=>{const c=J.findKey(s,l);if(c){n[c]=Bf(a),delete n[l];return}const f=e?Y3(l):String(l).trim();f!==l&&delete n[l],n[f]=Bf(a),s[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return J.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=e&&J.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[LS]=this[LS]={accessors:{}}).accessors,a=this.prototype;function l(c){const f=Vu(c);s[f]||(Q3(a,c),s[f]=!0)}return J.isArray(e)?e.forEach(l):l(e),this}};Rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Rn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});J.freezeMethods(Rn);function Cg(t,e){const n=this||Uc,s=e||n,a=Rn.from(s.headers);let l=s.data;return J.forEach(t,function(f){l=f.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function vC(t){return!!(t&&t.__CANCEL__)}function Tl(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}J.inherits(Tl,Ne,{__CANCEL__:!0});function _C(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function X3(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W3(t,e){t=t||10;const n=new Array(t),s=new Array(t);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const p=Date.now(),y=s[l];c||(c=p),n[a]=m,s[a]=p;let _=l,E=0;for(;_!==a;)E+=n[_++],_=_%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-c<e)return;const C=y&&p-y;return C?Math.round(E*1e3/C):void 0}}function Z3(t,e){let n=0,s=1e3/e,a,l;const c=(p,y=Date.now())=>{n=y,a=null,l&&(clearTimeout(l),l=null),t.apply(null,p)};return[(...p)=>{const y=Date.now(),_=y-n;_>=s?c(p,y):(a=p,l||(l=setTimeout(()=>{l=null,c(a)},s-_)))},()=>a&&c(a)]}const fd=(t,e,n=3)=>{let s=0;const a=W3(50,250);return Z3(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,m=c-s,p=a(m),y=c<=f;s=c;const _={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:p||void 0,estimated:p&&f&&y?(f-c)/p:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(_)},n)},US=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},jS=t=>(...e)=>J.asap(()=>t(...e)),J3=cn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,cn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,e6=cn.hasStandardBrowserEnv?{write(t,e,n,s,a,l){const c=[t+"="+encodeURIComponent(e)];J.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),J.isString(s)&&c.push("path="+s),J.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function t6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function n6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function TC(t,e,n){let s=!t6(e);return t&&(s||n==!1)?n6(t,e):e}const BS=t=>t instanceof Rn?{...t}:t;function ja(t,e){e=e||{};const n={};function s(p,y,_,E){return J.isPlainObject(p)&&J.isPlainObject(y)?J.merge.call({caseless:E},p,y):J.isPlainObject(y)?J.merge({},y):J.isArray(y)?y.slice():y}function a(p,y,_,E){if(J.isUndefined(y)){if(!J.isUndefined(p))return s(void 0,p,_,E)}else return s(p,y,_,E)}function l(p,y){if(!J.isUndefined(y))return s(void 0,y)}function c(p,y){if(J.isUndefined(y)){if(!J.isUndefined(p))return s(void 0,p)}else return s(void 0,y)}function f(p,y,_){if(_ in e)return s(p,y);if(_ in t)return s(void 0,p)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(p,y,_)=>a(BS(p),BS(y),_,!0)};return J.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=m[y]||a,E=_(t[y],e[y],y);J.isUndefined(E)&&_!==f||(n[y]=E)}),n}const EC=t=>{const e=ja({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:f}=e;e.headers=c=Rn.from(c),e.url=pC(TC(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(J.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[p,...y]=m?m.split(";").map(_=>_.trim()).filter(Boolean):[];c.setContentType([p||"multipart/form-data",...y].join("; "))}}if(cn.hasStandardBrowserEnv&&(s&&J.isFunction(s)&&(s=s(e)),s||s!==!1&&J3(e.url))){const p=a&&l&&e6.read(l);p&&c.set(a,p)}return e},i6=typeof XMLHttpRequest<"u",s6=i6&&function(t){return new Promise(function(n,s){const a=EC(t);let l=a.data;const c=Rn.from(a.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:p}=a,y,_,E,C,x;function M(){C&&C(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function j(){if(!D)return;const q=Rn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),te={data:!f||f==="text"||f==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:q,config:t,request:D};_C(function(N){n(N),M()},function(N){s(N),M()},te),D=null}"onloadend"in D?D.onloadend=j:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(j)},D.onabort=function(){D&&(s(new Ne("Request aborted",Ne.ECONNABORTED,t,D)),D=null)},D.onerror=function(){s(new Ne("Network Error",Ne.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let ue=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const te=a.transitional||gC;a.timeoutErrorMessage&&(ue=a.timeoutErrorMessage),s(new Ne(ue,te.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,D)),D=null},l===void 0&&c.setContentType(null),"setRequestHeader"in D&&J.forEach(c.toJSON(),function(ue,te){D.setRequestHeader(te,ue)}),J.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),f&&f!=="json"&&(D.responseType=a.responseType),p&&([E,x]=fd(p,!0),D.addEventListener("progress",E)),m&&D.upload&&([_,C]=fd(m),D.upload.addEventListener("progress",_),D.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(y=q=>{D&&(s(!q||q.type?new Tl(null,t,D):q),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const $=X3(a.url);if($&&cn.protocols.indexOf($)===-1){s(new Ne("Unsupported protocol "+$+":",Ne.ERR_BAD_REQUEST,t));return}D.send(l||null)})},r6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,a;const l=function(p){if(!a){a=!0,f();const y=p instanceof Error?p:this.reason;s.abort(y instanceof Ne?y:new Tl(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,l(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const f=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:m}=s;return m.unsubscribe=()=>J.asap(f),m}},a6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,a;for(;s<n;)a=s+e,yield t.slice(s,a),s=a},o6=async function*(t,e){for await(const n of l6(t))yield*a6(n,e)},l6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},zS=(t,e,n,s)=>{const a=o6(t,e);let l=0,c,f=m=>{c||(c=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:p,value:y}=await a.next();if(p){f(),m.close();return}let _=y.byteLength;if(n){let E=l+=_;n(E)}m.enqueue(new Uint8Array(y))}catch(p){throw f(p),p}},cancel(m){return f(m),a.return()}},{highWaterMark:2})},Zd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",SC=Zd&&typeof ReadableStream=="function",u6=Zd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},c6=SC&&bC(()=>{let t=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),qS=64*1024,Sy=SC&&bC(()=>J.isReadableStream(new Response("").body)),dd={stream:Sy&&(t=>t.body)};Zd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dd[e]&&(dd[e]=J.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,s)})})})(new Response);const h6=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(cn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await u6(t)).byteLength},f6=async(t,e)=>{const n=J.toFiniteNumber(t.getContentLength());return n??h6(e)},d6=Zd&&(async t=>{let{url:e,method:n,data:s,signal:a,cancelToken:l,timeout:c,onDownloadProgress:f,onUploadProgress:m,responseType:p,headers:y,withCredentials:_="same-origin",fetchOptions:E}=EC(t);p=p?(p+"").toLowerCase():"text";let C=r6([a,l&&l.toAbortSignal()],c),x;const M=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let D;try{if(m&&c6&&n!=="get"&&n!=="head"&&(D=await f6(y,s))!==0){let te=new Request(e,{method:"POST",body:s,duplex:"half"}),W;if(J.isFormData(s)&&(W=te.headers.get("content-type"))&&y.setContentType(W),te.body){const[N,A]=US(D,fd(jS(m)));s=zS(te.body,qS,N,A)}}J.isString(_)||(_=_?"include":"omit");const j="credentials"in Request.prototype;x=new Request(e,{...E,signal:C,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:j?_:void 0});let $=await fetch(x,E);const q=Sy&&(p==="stream"||p==="response");if(Sy&&(f||q&&M)){const te={};["status","statusText","headers"].forEach(I=>{te[I]=$[I]});const W=J.toFiniteNumber($.headers.get("content-length")),[N,A]=f&&US(W,fd(jS(f),!0))||[];$=new Response(zS($.body,qS,N,()=>{A&&A(),M&&M()}),te)}p=p||"text";let ue=await dd[J.findKey(dd,p)||"text"]($,t);return!q&&M&&M(),await new Promise((te,W)=>{_C(te,W,{data:ue,headers:Rn.from($.headers),status:$.status,statusText:$.statusText,config:t,request:x})})}catch(j){throw M&&M(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,x),{cause:j.cause||j}):Ne.from(j,j&&j.code,t,x)}}),by={http:x3,xhr:s6,fetch:d6};J.forEach(by,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const FS=t=>`- ${t}`,m6=t=>J.isFunction(t)||t===null||t===!1,wC={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let n,s;const a={};for(let l=0;l<e;l++){n=t[l];let c;if(s=n,!m6(n)&&(s=by[(c=String(n)).toLowerCase()],s===void 0))throw new Ne(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+l]=s}if(!s){const l=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(FS).join(`
`):" "+FS(l[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:by};function xg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tl(null,t)}function HS(t){return xg(t),t.headers=Rn.from(t.headers),t.data=Cg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wC.getAdapter(t.adapter||Uc.adapter)(t).then(function(s){return xg(t),s.data=Cg.call(t,t.transformResponse,s),s.headers=Rn.from(s.headers),s},function(s){return vC(s)||(xg(t),s&&s.response&&(s.response.data=Cg.call(t,t.transformResponse,s.response),s.response.headers=Rn.from(s.response.headers))),Promise.reject(s)})}const AC="1.10.0",Jd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Jd[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const GS={};Jd.transitional=function(e,n,s){function a(l,c){return"[Axios v"+AC+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,f)=>{if(e===!1)throw new Ne(a(c," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!GS[c]&&(GS[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,f):!0}};Jd.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function p6(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const l=s[a],c=e[l];if(c){const f=t[l],m=f===void 0||c(f,l,t);if(m!==!0)throw new Ne("option "+l+" must be "+m,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+l,Ne.ERR_BAD_OPTION)}}const zf={assertOptions:p6,validators:Jd},Oi=zf.validators;let Ia=class{constructor(e){this.defaults=e||{},this.interceptors={request:new kS,response:new kS}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ja(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:l}=n;s!==void 0&&zf.assertOptions(s,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1),a!=null&&(J.isFunction(a)?n.paramsSerializer={serialize:a}:zf.assertOptions(a,{encode:Oi.function,serialize:Oi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zf.assertOptions(n,{baseUrl:Oi.spelling("baseURL"),withXsrfToken:Oi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&J.merge(l.common,l[n.method]);l&&J.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=Rn.concat(c,l);const f=[];let m=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(m=m&&M.synchronous,f.unshift(M.fulfilled,M.rejected))});const p=[];this.interceptors.response.forEach(function(M){p.push(M.fulfilled,M.rejected)});let y,_=0,E;if(!m){const x=[HS.bind(this),void 0];for(x.unshift.apply(x,f),x.push.apply(x,p),E=x.length,y=Promise.resolve(n);_<E;)y=y.then(x[_++],x[_++]);return y}E=f.length;let C=n;for(_=0;_<E;){const x=f[_++],M=f[_++];try{C=x(C)}catch(D){M.call(this,D);break}}try{y=HS.call(this,C)}catch(x){return Promise.reject(x)}for(_=0,E=p.length;_<E;)y=y.then(p[_++],p[_++]);return y}getUri(e){e=ja(this.defaults,e);const n=TC(e.baseURL,e.url,e.allowAbsoluteUrls);return pC(n,e.params,e.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(e){Ia.prototype[e]=function(n,s){return this.request(ja(s||{},{method:e,url:n,data:(s||{}).data}))}});J.forEach(["post","put","patch"],function(e){function n(s){return function(l,c,f){return this.request(ja(f||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ia.prototype[e]=n(),Ia.prototype[e+"Form"]=n(!0)});let g6=class RC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(f=>{s.subscribe(f),l=f}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,f){s.reason||(s.reason=new Tl(l,c,f),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new RC(function(a){e=a}),cancel:e}}};function y6(t){return function(n){return t.apply(null,n)}}function v6(t){return J.isObject(t)&&t.isAxiosError===!0}const wy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wy).forEach(([t,e])=>{wy[e]=t});function CC(t){const e=new Ia(t),n=iC(Ia.prototype.request,e);return J.extend(n,Ia.prototype,e,{allOwnKeys:!0}),J.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return CC(ja(t,a))},n}const _t=CC(Uc);_t.Axios=Ia;_t.CanceledError=Tl;_t.CancelToken=g6;_t.isCancel=vC;_t.VERSION=AC;_t.toFormData=Wd;_t.AxiosError=Ne;_t.Cancel=_t.CanceledError;_t.all=function(e){return Promise.all(e)};_t.spread=y6;_t.isAxiosError=v6;_t.mergeConfig=ja;_t.AxiosHeaders=Rn;_t.formToJSON=t=>yC(J.isHTMLForm(t)?new FormData(t):t);_t.getAdapter=wC.getAdapter;_t.HttpStatusCode=wy;_t.default=_t;const{Axios:U8,AxiosError:j8,CanceledError:B8,isCancel:z8,CancelToken:q8,VERSION:F8,all:H8,Cancel:G8,isAxiosError:K8,spread:$8,toFormData:Y8,AxiosHeaders:Q8,HttpStatusCode:X8,formToJSON:W8,getAdapter:Z8,mergeConfig:J8}=_t,xC=O.createContext(),_6=({children:t})=>{const[e,n]=O.useState(null),[s,a]=O.useState(null),[l,c]=O.useState(!0);return O.useEffect(()=>{const f=lv(al,async m=>{if(n(m),m){const p=_s(wt,"users",m.uid),y=await Kv(p);y.exists()?a(y.data()):a(null)}else a(null);c(!1)});return()=>f()},[]),b.jsx(xC.Provider,{value:{currentUser:e,userData:s,loading:l},children:!l&&t})},IC=()=>O.useContext(xC),Da=()=>{const t=Sc();return b.jsx("div",{onClick:()=>t("/"),style:{width:"7%",margin:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",background:"orange",color:"white",border:"none",padding:"4px 20px",borderRadius:"8px",fontSize:"1rem",cursor:"pointer",fontWeight:"900"},children:"⟵ Back home"})},T6="Match the correct Russian, English, and description columns by clicking one item from each.",E6="Write down the correct translation before time runs out. Each question has one correct answer.",S6="Choose your level and unit, then load and learn the words.",KS={matching:T6,quiz:E6,cuecard:S6,"spelling-game":"Pick the correctly spelled word from the options before time runs out!"},em=({game:t})=>{const[e,n]=O.useState(!1),[s,a]=O.useState("");return O.useRef(null),O.useEffect(()=>{t&&KS[t]?a(KS[t]):a("No instructions available.")},[t]),b.jsx("div",{className:"instruction-container",children:b.jsx("div",{className:"instruction-panel",children:b.jsx("p",{children:s})})})},b6=()=>{const[t,e]=O.useState("ru-to-en"),{currentUser:n,userData:s}=IC(),a=O.useRef(null),[l,c]=O.useState(!1),[f,m]=O.useState(""),[p,y]=O.useState(""),[_,E]=O.useState([]),[C,x]=O.useState([]),[M,D]=O.useState(0),[j,$]=O.useState(""),[q,ue]=O.useState(""),[te,W]=O.useState(0),[N,A]=O.useState(0),[I,L]=O.useState(!1),[U,B]=O.useState(!1),[P,Be]=O.useState(20),[Ee,X]=O.useState(!1),le=Sc(),[pe,he]=O.useState(!1);O.useEffect(()=>{if(I&&!U&&a.current){a.current.focus(),c(!1);const fe=setTimeout(()=>c(!0),3e3);return()=>clearTimeout(fe)}},[M,I]),O.useEffect(()=>{if(!I||U)return;const fe=setInterval(()=>{Be(st=>st<=1?(clearInterval(fe),ge(),20):st-1)},1e3);return()=>clearInterval(fe)},[M,I,U]),O.useEffect(()=>{f&&p&&_t.get(`/data/${f}/unit${p}.json`).then(fe=>{E(fe.data)}).catch(fe=>{console.error("Ошибка загрузки слов:",fe)})},[f,p]);const V=()=>{const fe=[..._].sort(()=>.5-Math.random()).slice(0,20);x(fe),L(!0),D(0),W(0),A(0),B(!1),$(""),ue(""),Be(20)},ee=()=>{e(fe=>fe==="ru-to-en"?"en-to-ru":fe==="en-to-ru"?"desc-to-en":"ru-to-en")},oe=()=>{M+1<C.length?(D(fe=>fe+1),$(""),ue(""),Be(20)):(B(!0),L(!1)),X(!1)},ce=()=>{if(Ee)return;X(!0);const fe=C[M],st=t==="ru-to-en"?fe.en:t==="en-to-ru"?fe.ru:fe.en;j.trim().toLowerCase()===st.trim().toLowerCase()?(W(vn=>vn+1),ue("✅ Correct!")):(A(vn=>vn+1),ue(`❌ Incorrect! Correct answer: ${st}`)),setTimeout(oe,1e3)},ge=()=>{Ee||!l||(X(!0),A(fe=>fe+1),ue(`❌ Skipped! Correct answer: ${t==="ru-to-en"?C[M].en:C[M].ru}`),setTimeout(oe,1e3))},De=async()=>{if(he(!0),!n){alert("Пожалуйста, войдите в аккаунт.");return}if(!s){alert("Данные пользователя ещё загружаются. Пожалуйста, подождите.");return}try{await eC(ui(wt,"quizResults"),{uid:n.uid,userName:s.fullName||"",correct:te,incorrect:N,total:C.length,level:f,unit:p,teacher:s.teacher||"Не указан",createdAt:ot.now()}),alert("📥 Результат сохранён!"),le("/stats")}catch(fe){console.error("Ошибка сохранения:",fe),alert("❌ Не удалось сохранить результат."),he(!1)}};return b.jsxs(b.Fragment,{children:[b.jsx(em,{game:"quiz"}),b.jsxs("div",{className:"quiz-container",children:[b.jsx("h1",{children:"Vocabulary Quiz"}),!I&&!U&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"selector",children:[b.jsxs("select",{disabledvalue:f,value:f,onChange:fe=>m(fe.target.value),children:[b.jsx("option",{value:"",disabled:!0,hidden:!0,children:"-- Select Level --"}),b.jsx("option",{value:"elementary",children:"Elementary"}),b.jsx("option",{value:"pre-intermediate",children:"Pre-Intermediate"}),b.jsx("option",{value:"intermediate",children:"Intermediate"}),b.jsx("option",{value:"upper-intermediate",children:"Upper-Intermediate"})]}),b.jsxs("select",{value:p,onChange:fe=>y(fe.target.value),children:[b.jsx("option",{disabled:!0,hidden:!0,value:"",children:"-- Select Unit --"}),[...Array(10).keys()].map(fe=>b.jsx("option",{value:fe,children:fe===0?"Intro":fe},fe))]}),b.jsx("button",{onClick:V,disabled:!f||!p,children:"Start Quiz"})]}),b.jsxs("button",{className:"direction-toggle",onClick:ee,children:["Switch:"," ",t==="ru-to-en"?"RU → EN":t==="en-to-ru"?"EN → RU":"EN → EN"]}),_.length>0&&b.jsxs("div",{className:"word-table",children:[b.jsx("h2",{children:"Words from selected Unit"}),b.jsxs("table",{children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Russian"}),b.jsx("th",{children:"English"})]})}),b.jsx("tbody",{children:_.map((fe,st)=>b.jsxs("tr",{children:[b.jsx("td",{children:fe.ru}),b.jsx("td",{children:fe.en})]},st))})]})]})]}),I&&!U&&b.jsxs("div",{className:"quiz-modal",children:[b.jsxs("div",{className:"quiz-header",children:[b.jsxs("div",{className:"question-counter",children:[b.jsx("div",{className:"progress-fill",style:{width:`${Math.round((M+1)/C.length*100)}%`}}),b.jsxs("span",{className:"progress-text",children:[M+1," / ",C.length]})]}),b.jsxs("div",{className:"timer",children:["⏳ ",P,"s"]})]}),b.jsxs("div",{className:"word-display",children:[" ",b.jsxs("strong",{className:"word_trn",children:[t==="ru-to-en"&&C[M].ru,t==="en-to-ru"&&C[M].en,t==="desc-to-en"&&C[M].desc]})]}),b.jsx("input",{ref:a,type:"text",placeholder:t==="ru-to-en"?"Type the English word...":"Напиши по-русски...",value:j,onChange:fe=>$(fe.target.value),onKeyDown:fe=>fe.key==="Enter"&&j.trim()&&!Ee&&ce()}),b.jsx("div",{className:"feedback",children:q}),b.jsxs("div",{className:"actions",children:[b.jsx("button",{onClick:ce,disabled:j.trim().length===0||Ee,children:"Submit"}),b.jsx("button",{onClick:ge,className:"skip-btn",disabled:!l||Ee,children:"Skip"})]})]}),U&&b.jsxs("div",{className:"result-modal",children:[b.jsx("h2",{children:"Quiz Completed!"}),b.jsxs("p",{children:["✅ Correct: ",te]}),b.jsxs("p",{children:["❌ Incorrect: ",N]}),b.jsxs("div",{className:"result-actions",children:[b.jsx("button",{onClick:De,disabled:pe,children:"Save Result"}),b.jsx("button",{onClick:()=>{B(!1),L(!1),$(""),x([]),D(0),W(0),A(0),ue(""),Be(20)},children:"Don't Save"})]})]})]}),b.jsx("div",{className:"backbtn",children:b.jsx(Da,{})})]})},$S=t=>t.charAt(0).toUpperCase()+t.slice(1),w6=O.forwardRef(({data:t,index:e=1,total:n=1},s)=>{const[a,l]=O.useState(!1),c=m=>{const p=new SpeechSynthesisUtterance(m);p.lang="en-US",speechSynthesis.speak(p)};O.useImperativeHandle(s,()=>({flipCard:()=>{l(m=>!m)},resetFlip:()=>{l(!1)}}));const f=()=>{l(!a)};return b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"cuecard_wrapper",children:b.jsxs("div",{className:`cuecard_card ${a?"flipped":""}`,onClick:f,children:[b.jsxs("div",{className:"front",children:[b.jsx("div",{style:{fontSize:"1.6em",fontWeight:"bold"},children:$S(t.en)}),b.jsx("div",{style:{fontSize:"1.1em",color:"#555",margin:"40px 0"},children:t.pron||""}),b.jsx("p",{style:{fontSize:"15px",color:"grey"},children:"click to flip"})]}),b.jsxs("div",{className:"back",children:[b.jsxs("p",{style:{margin:"2"},children:[" ",$S(t.ru)]}),b.jsxs("p",{style:{margin:"2"},children:[" ",t.pron||"-"]}),b.jsxs("p",{style:{margin:"2"},children:[" ",t.desc||"-"]}),b.jsxs("p",{style:{margin:"2"},children:[" ",b.jsx("span",{children:t.example||"-"})]}),b.jsx("button",{className:"speak-btn",onClick:m=>{m.stopPropagation(),c(t.example)},children:"🔊 Прочитать пример"}),b.jsx("p",{style:{fontSize:"15px",color:"grey"},children:"click to flip"})]})]})}),e>0&&n>0&&b.jsxs("div",{className:"total_words",style:{color:"grey",fontSize:"25px"},children:["Word ",e," of ",n]})]})}),A6=()=>{const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,l]=O.useState([]),[c,f]=O.useState(0),m=O.useRef(),p=async()=>{if(!t||!n){alert("Please select level and unit");return}const y=`/data/${t}/unit${n}.json`;try{const C=(await(await fetch(y)).json()).filter(x=>x.en&&x.ru).map(x=>({en:x.en,ru:x.ru,pron:x.pron||"",desc:x.desc||"",example:x.example||""}));l(C),f(0),m.current&&m.current.resetFlip()}catch(_){console.error("Failed to load data",_),alert("Error loading words")}};return b.jsxs(b.Fragment,{children:[b.jsx(em,{game:"cuecard"}),b.jsxs("div",{className:"cuecards-container",children:[b.jsx("h1",{children:"Cue Cards"}),b.jsxs("div",{className:"selectors",children:[b.jsxs("select",{value:t,onChange:y=>e(y.target.value),children:[b.jsx("option",{value:"",disabled:!0,hidden:!0,children:"-- Select level --"}),b.jsx("option",{value:"elementary",children:"Elementary"}),b.jsx("option",{value:"pre-intermediate",children:"Pre-Intermediate"}),b.jsx("option",{value:"intermediate",children:"Intermediate"}),b.jsx("option",{value:"upper-intermediate",children:"Upper-Intermediate"})]}),b.jsxs("select",{value:n,onChange:y=>s(y.target.value),children:[b.jsx("option",{value:"",disabled:!0,hidden:!0,children:"-- Select unit --"}),[...Array(10).keys()].map(y=>b.jsx("option",{value:y,children:y===0?"Intro":` ${y}`},y))]}),b.jsx("button",{onClick:p,children:"Load Words"})]}),a.length>0&&b.jsxs(b.Fragment,{children:[b.jsx(w6,{ref:m,data:a[c],index:c+1,total:a.length}),b.jsxs("div",{className:"card-nav",children:[b.jsx("button",{onClick:()=>f((c-1+a.length)%a.length),disabled:c===0,children:"← Prev"}),b.jsx("button",{onClick:()=>{m.current?.flipCard()},children:"Flip"}),b.jsx("button",{onClick:()=>f((c+1)%a.length),disabled:c===a.length-1,children:"Next →"})]})]})]}),b.jsx("div",{className:"backbtn",children:b.jsx(Da,{})})]})},YS=["Bexzod Mahmudov"],R6=()=>{const{currentUser:t,userData:e}=IC(),[n,s]=O.useState([]),[a,l]=O.useState([]),[c,f]=O.useState(new Map),[m,p]=O.useState(!0),[y,_]=O.useState(null),[E,C]=O.useState(!1),[x,M]=O.useState({}),D=W=>{if(!W)return 0;if(typeof W=="string"||typeof W=="number"){const N=new Date(W).getTime();return isNaN(N)?0:N}return W?.seconds?W.seconds*1e3:typeof W?.toDate=="function"?W.toDate().getTime():0},j=W=>{const N=D(W);return N?new Date(N).toLocaleString("ru-RU"):"—"};O.useEffect(()=>{let W=!0;async function N(){if(p(!0),_(null),!t||!e){p(!1),_("Пользователь ещё не загружен (currentUser / userData отсутствует)");return}try{try{const Ee=await Ta(ui(wt,"users")),X=new Map;if(Ee.docs.forEach(le=>{const pe=le.data(),he=pe.uid||le.id;X.set(he,{id:le.id,...pe})}),!W)return;f(X),console.debug("[StatsPage] users loaded:",X.size)}catch(Ee){if(console.warn("[StatsPage] can't read users collection:",Ee),!W)return;f(new Map)}const A=e.role==="student",I=A?Sf(ui(wt,"quizResults"),bf("uid","==",t.uid)):ui(wt,"quizResults"),L=A?Sf(ui(wt,"matchingResults"),bf("uid","==",t.uid)):ui(wt,"matchingResults"),[U,B]=await Promise.all([Ta(I),Ta(L)]),P=U.docs.map(Ee=>({id:Ee.id,...Ee.data()})),Be=B.docs.map(Ee=>({id:Ee.id,...Ee.data()}));if(P.sort((Ee,X)=>D(X.createdAt)-D(Ee.createdAt)),Be.sort((Ee,X)=>D(X.createdAt)-D(Ee.createdAt)),!W)return;s(P),l(Be),console.debug("[StatsPage] loaded quiz/matching counts:",P.length,Be.length)}catch(A){console.error("[StatsPage] Ошибка при получении статистики:",A),_(A.message||String(A))}finally{W&&p(!1)}}return N(),()=>{W=!1}},[t,e]);const $=O.useMemo(()=>{const W=new Map,N=(I,L)=>{const U=I.uid||"unknown",B=I.userName||I.userName||I.email||c.get(U)&&(c.get(U).fullName||c.get(U).name)||U;let P=I.teacher,Be=!1;if(!P){const X=c.get(U);X&&X.role==="teacher"?(P=X.fullName||X.name||B,Be=!0):P="Teacher"}W.has(P)||W.set(P,new Map);const Ee=W.get(P);Ee.has(U)||Ee.set(U,{uid:U,name:B,teacher:P,isTeacher:Be,quiz:[],matching:[]}),Ee.get(U)[L].push(I)};n.forEach(I=>N(I,"quiz")),a.forEach(I=>N(I,"matching"));const A=Array.from(W.entries()).map(([I,L])=>({teacher:I,students:Array.from(L.values()).sort((U,B)=>U.name.localeCompare(B.name,"ru"))}));return A.sort((I,L)=>{const U=YS.indexOf(I.teacher),B=YS.indexOf(L.teacher);return U!==-1||B!==-1?U===-1?1:B===-1?-1:U-B:I.teacher.localeCompare(L.teacher,"ru")}),A},[n,a,c]),q=async()=>{if(window.confirm("Вы уверены, что хотите удалить ВСЮ статистику?")){C(!0);try{const W=DS(wt);(await Ta(ui(wt,"quizResults"))).docs.forEach(I=>W.delete(_s(wt,"quizResults",I.id))),(await Ta(ui(wt,"matchingResults"))).docs.forEach(I=>W.delete(_s(wt,"matchingResults",I.id))),await W.commit(),s([]),l([]),console.debug("[StatsPage] all deleted"),alert("Вся статистика удалена.")}catch(W){console.error("[StatsPage] Ошибка при удалении всех:",W),_(W.message||String(W)),alert("Ошибка при удалении.")}finally{C(!1)}}},ue=async W=>{if(!W)return alert("UID пользователя не найден");if(window.confirm("Удалить всю статистику этого пользователя?")){C(!0);try{const N=DS(wt),A=Sf(ui(wt,"quizResults"),bf("uid","==",W));(await Ta(A)).docs.forEach(B=>N.delete(_s(wt,"quizResults",B.id)));const L=Sf(ui(wt,"matchingResults"),bf("uid","==",W));(await Ta(L)).docs.forEach(B=>N.delete(_s(wt,"matchingResults",B.id))),await N.commit(),s(B=>B.filter(P=>P.uid!==W)),l(B=>B.filter(P=>P.uid!==W)),console.debug("[StatsPage] deleted stats for",W),alert("Статистика пользователя удалена.")}catch(N){console.error("[StatsPage] Ошибка при удалении пользователя:",N),_(N.message||String(N)),alert("Ошибка при удалении.")}finally{C(!1)}}},te=W=>M(N=>({...N,[W]:!N[W]}));return m?b.jsx("p",{children:"Загрузка статистики..."}):b.jsxs("div",{className:"stats-container",children:[b.jsx("h1",{className:"stats-title",children:"📊 Статистика"}),y&&b.jsxs("div",{style:{color:"red",marginBottom:12},children:["Ошибка: ",y,b.jsx("div",{style:{fontSize:12,marginTop:6},children:"Перезагрузите сайт"})]}),e?.role==="admin"&&b.jsx("button",{onClick:q,disabled:E,style:{marginBottom:"1rem",backgroundColor:"#e53e3e",color:"#fff",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Удалить всю статистику"}),e?.role==="student"?b.jsxs("div",{children:[b.jsx("h2",{className:"stats-subtitle",children:"📝 Quiz"}),n.length===0?b.jsx("p",{className:"no-data",children:"Нет данных по Quiz."}):b.jsxs("table",{className:"stats-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Level"}),b.jsx("th",{children:"Unit"}),b.jsx("th",{children:"Correct"}),b.jsx("th",{children:"Incorrect"}),b.jsx("th",{children:"Total"}),b.jsx("th",{children:"Date"})]})}),b.jsx("tbody",{children:n.map(W=>b.jsxs("tr",{children:[b.jsx("td",{"data-label":"Level",children:b.jsx("span",{className:"value",children:W.level})}),b.jsx("td",{"data-label":"Unit",children:b.jsx("span",{className:"value",children:W.unit})}),b.jsx("td",{"data-label":"Correct",children:b.jsx("span",{className:"value",children:W.correct})}),b.jsx("td",{"data-label":"Incorrect",children:b.jsx("span",{className:"value",children:W.incorrect})}),b.jsx("td",{"data-label":"Total",children:b.jsx("span",{className:"value",children:W.total})}),b.jsx("td",{"data-label":"Date",children:b.jsx("span",{className:"value",children:j(W.createdAt)})})]},W.id))})]}),b.jsx("h2",{className:"stats-subtitle",children:"🎯 Matching"}),a.length===0?b.jsx("p",{className:"no-data",children:"Нет данных по Matching."}):b.jsxs("table",{className:"stats-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Level"}),b.jsx("th",{children:"Unit"}),b.jsx("th",{children:"Correct"}),b.jsx("th",{children:"Incorrect"}),b.jsx("th",{children:"Total"}),b.jsx("th",{children:"Date"})]})}),b.jsx("tbody",{children:a.map(W=>{const N=W.correct??W.correctCount??0,A=(W.total??0)-N;return b.jsxs("tr",{children:[b.jsx("td",{"data-label":"Level",children:b.jsx("span",{className:"value",children:W.level})}),b.jsx("td",{"data-label":"Unit",children:b.jsx("span",{className:"value",children:W.unit})}),b.jsx("td",{"data-label":"Correct",children:b.jsx("span",{className:"value",children:N})}),b.jsx("td",{"data-label":"Incorrect",children:b.jsx("span",{className:"value",children:A})}),b.jsx("td",{"data-label":"Total",children:b.jsx("span",{className:"value",children:W.total})}),b.jsx("td",{"data-label":"Date",children:b.jsx("span",{className:"value",children:j(W.createdAt)})})]},W.id)})})]})]}):b.jsx("div",{className:"accordion",children:$.map(W=>b.jsxs("div",{className:"teacher-block",children:[b.jsxs("h1",{className:"teacher-header",children:["👩‍🏫 ",W.teacher]}),W.students.map(N=>b.jsxs("div",{className:"accordion-item",children:[b.jsxs("button",{className:`accordion-header ${x[N.uid]?"open":""}`,onClick:()=>te(N.uid),children:[b.jsx("span",{style:{fontWeight:600},children:N.name}),b.jsxs("span",{style:{marginLeft:8,color:N.isTeacher?"#c00":"#666"},children:["— ",N.teacher," ",N.isTeacher?"(Учитель)":""]}),b.jsx("span",{className:"arrow",children:"▾"})]}),b.jsxs("div",{className:`accordion-content ${x[N.uid]?"show":""}`,children:[e?.role==="admin"&&b.jsx("div",{style:{marginBottom:12},children:b.jsx("button",{onClick:()=>ue(N.uid),disabled:E,style:{backgroundColor:"#dd6b20",color:"#fff",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer"},children:"Удалить всю статистику пользователя"})}),b.jsx("h2",{className:"stats-subtitle",children:"📝 Quiz"}),N.quiz.length===0?b.jsx("p",{className:"no-data",children:"Нет данных по Quiz."}):b.jsxs("table",{className:"stats-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Level"}),b.jsx("th",{children:"Unit"}),b.jsx("th",{children:"Correct"}),b.jsx("th",{children:"Incorrect"}),b.jsx("th",{children:"Total"}),b.jsx("th",{children:"Date"})]})}),b.jsx("tbody",{children:N.quiz.map(A=>b.jsxs("tr",{children:[b.jsx("td",{children:A.level}),b.jsx("td",{children:A.unit}),b.jsx("td",{children:A.correct}),b.jsx("td",{children:A.incorrect}),b.jsx("td",{children:A.total}),b.jsx("td",{children:j(A.createdAt)})]},A.id))})]}),b.jsx("h2",{className:"stats-subtitle",children:"🎯 Matching"}),N.matching.length===0?b.jsx("p",{className:"no-data",children:"Нет данных по Matching."}):b.jsxs("table",{className:"stats-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Level"}),b.jsx("th",{children:"Unit"}),b.jsx("th",{children:"Correct"}),b.jsx("th",{children:"Incorrect"}),b.jsx("th",{children:"Total"}),b.jsx("th",{children:"Date"})]})}),b.jsx("tbody",{children:N.matching.map(A=>{const I=A.correct??A.correctCount??0,L=(A.total??0)-I;return b.jsxs("tr",{children:[b.jsx("td",{children:A.level}),b.jsx("td",{children:A.unit}),b.jsx("td",{children:I}),b.jsx("td",{children:L}),b.jsx("td",{children:A.total}),b.jsx("td",{children:j(A.createdAt)})]},A.id)})})]})]})]},N.uid))]},W.teacher))})]})};var DC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QS=vr.createContext&&vr.createContext(DC),C6=["attr","size","title"];function x6(t,e){if(t==null)return{};var n=I6(t,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function I6(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},md.apply(this,arguments)}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(n),!0).forEach(function(s){D6(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function D6(t,e,n){return e=N6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N6(t){var e=O6(t,"string");return typeof e=="symbol"?e:e+""}function O6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NC(t){return t&&t.map((e,n)=>vr.createElement(e.tag,pd({key:n},e.attr),NC(e.child)))}function jc(t){return e=>vr.createElement(P6,md({attr:pd({},t.attr)},e),NC(t.child))}function P6(t){var e=n=>{var{attr:s,size:a,title:l}=t,c=x6(t,C6),f=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),vr.createElement("svg",md({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:m,style:pd(pd({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&vr.createElement("title",null,l),t.children)};return QS!==void 0?vr.createElement(QS.Consumer,null,n=>e(n)):e(DC)}function M6(t){return jc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function V6(t){return jc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function k6(t){return jc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function L6(t){return jc({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function U6(t){return jc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}const j6=()=>b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"test-mode-banner",children:"Web site working in TEST MODE"}),b.jsxs("footer",{className:"footer",children:[b.jsxs("div",{className:"footer-container",children:[b.jsxs("div",{className:"footer-column",children:[b.jsx("h3",{children:"О нас"}),b.jsx("ul",{children:b.jsx("li",{children:"Your premier destination for private English education. Enhance your language skills with our proven methods and interactive website. Learn effectively, communicate confidently, and achieve your goals."})})]}),b.jsxs("div",{className:"footer-column",children:[b.jsx("h3",{children:"Социальные сети"}),b.jsxs("div",{className:"social-links",children:[b.jsx("a",{href:"https://t.me/mkischool",target:"_blank",rel:"noreferrer",children:b.jsx(V6,{})}),b.jsx("a",{href:"https://www.instagram.com/mki_school?igsh=YjFpOHA0NnA2NDRn",target:"_blank",rel:"noreferrer",children:b.jsx(M6,{})})]})]}),b.jsxs("div",{className:"footer-column",children:[b.jsx("h3",{children:"Контакты"}),b.jsxs("p",{children:[b.jsx(L6,{})," г. Ташкент, ул. Примерная, 123"]}),b.jsxs("p",{children:[b.jsx(U6,{})," ",b.jsx("a",{href:"tel:+998901234567",children:"+998 90 123 45 67"})]}),b.jsxs("p",{children:[b.jsx(k6,{})," ",b.jsx("a",{href:"mailto:info@example.com",children:"info@example.com"})]})]})]}),b.jsx("div",{className:"footer-bottom",children:b.jsxs("p",{children:["© ",new Date().getFullYear()," MKI School. Все права защищены."]})})]})]}),B6=["elementary","pre-intermediate","intermediate","upper-intermediate"],z6=["Intro",...Array.from({length:9},(t,e)=>e+1)],ur=5,cr=t=>[...t].sort(()=>Math.random()-.5),q6=()=>{const[t,e]=O.useState(""),[n,s]=O.useState(""),[a,l]=O.useState(!1),[c,f]=O.useState([]),[m,p]=O.useState([]),[y,_]=O.useState([]),[E,C]=O.useState([]),[x,M]=O.useState({ru:null,en:null,desc:null}),[D,j]=O.useState([]),[$,q]=O.useState(""),[ue,te]=O.useState(!1),[W,N]=O.useState(0),[A,I]=O.useState([]),[L,U]=O.useState([]),B=Sc(),P=async()=>{if(!t||!n){q("Choose level and unit");return}try{q("");const he=n==="Intro"?`/data/${t}/unit0.json`:`/data/${t}/unit${n}.json`,V=await _t.get(he),ee=cr(V.data),oe=ee.slice(0,ur),ce=oe.map(ge=>ge.en);I(ee),U(ce),f(oe),p(cr(oe.map(ge=>({value:ge.ru,key:ge.en})))),_(cr(oe.map(ge=>({value:ge.en,key:ge.en})))),C(cr(oe.map(ge=>({value:ge.desc,key:ge.en})))),l(!0),M({ru:null,en:null,desc:null}),j([]),te(!1),N(0)}catch{q("Не удалось загрузить данные.")}},Be=()=>{const he=A.filter(oe=>!L.includes(oe.en));if(he.length<ur){q("Недостаточно новых слов для загрузки.");return}const V=cr(he).slice(0,ur),ee=V.map(oe=>oe.en);f(V),U(oe=>[...oe,...ee]),p(cr(V.map(oe=>({value:oe.ru,key:oe.en})))),_(cr(V.map(oe=>({value:oe.en,key:oe.en})))),C(cr(V.map(oe=>({value:oe.desc,key:oe.en})))),j([]),te(!1),M({ru:null,en:null,desc:null}),q("")};O.useEffect(()=>{const{ru:he,en:V,desc:ee}=x;he&&V&&ee&&(D.find(oe=>oe.ru.value===he.value||oe.en.value===V.value||oe.desc.value===ee.value)?q("Эти слова уже использованы в другой паре."):(j(oe=>[...oe,{ru:he,en:V,desc:ee}]),M({ru:null,en:null,desc:null}),q("")))},[x]);const Ee=(he,V)=>{x[he]?.value===V.value?M(ee=>({...ee,[he]:null})):M(ee=>({...ee,[he]:V}))},X=()=>{const he=c.length;if(D.length!==he){q("Соедините все пары.");return}let V=0;for(let ee of D)ee.ru.key===ee.en.key&&ee.en.key===ee.desc.key&&V++;N(V),te(!0),q("")},le=async()=>{try{const V=SA().currentUser;if(!V){q("User is not registered!");return}const ee=_s(wt,"users",V.uid),oe=await Kv(ee);let ce="Неизвестный",ge="Учитель";if(oe.exists()){const De=oe.data();ce=De.fullName||V.displayName||"Неизвестный",ge=De.teacher||"Учитель"}await eC(ui(wt,"matchingResults"),{uid:V.uid,userName:ce,teacher:ge,level:t,unit:n,correct:W,incorrect:L.length-W,total:L.length,createdAt:wL()}),B("/stats")}catch(he){q("Error during the save: "+he.message)}},pe=()=>{e(""),s(""),f([]),p([]),_([]),C([]),j([]),M({ru:null,en:null,desc:null}),l(!1),te(!1),N(0),q("")};return b.jsxs(b.Fragment,{children:[b.jsx(em,{game:"matching"}),b.jsx("div",{className:"matching-wrapper",children:a?b.jsxs("div",{className:"matching-game",children:[b.jsxs("div",{className:"columns",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"title_of_word",children:"Russian"}),m.map((he,V)=>b.jsx("div",{className:`card ${x.ru?.value===he.value?"selected":""} ${D.some(ee=>ee.ru.value===he.value)?"used disabled":""} ${D.length===ur?"finalized":""}`,onClick:()=>Ee("ru",he),children:he.value},he.value+V))]}),b.jsxs("div",{children:[b.jsx("h3",{className:"title_of_word",children:"English"}),y.map((he,V)=>b.jsx("div",{className:`card ${x.en?.value===he.value?"selected":""} ${D.some(ee=>ee.en.value===he.value)?"used":""} ${D.length===ur?"finalized":""}`,onClick:()=>Ee("en",he),children:he.value},he.value+V))]}),b.jsxs("div",{children:[b.jsx("h3",{className:"title_of_word",children:"Description"}),E.map((he,V)=>b.jsx("div",{className:`card ${x.desc?.value===he.value?"selected":""} ${D.some(ee=>ee.desc.value===he.value)?"used":""} ${D.length===ur?"finalized":""}`,onClick:()=>Ee("desc",he),children:he.value},he.value+V))]})]}),b.jsxs("div",{className:"control-buttons",children:[!ue&&D.length===ur&&b.jsx("button",{onClick:X,children:"Проверить результат"}),ue&&b.jsxs("div",{className:"result-box",children:[b.jsxs("h3",{children:["Правильных ответов: ",W," из ",ur]}),b.jsx("button",{onClick:le,children:"Сохранить и перейти на статистику"}),b.jsx("button",{onClick:pe,children:"Не сохранять и на главную"}),b.jsx("button",{onClick:Be,children:"Загрузить ещё слова"})]}),$&&b.jsx("p",{className:"error",children:$})]})]}):b.jsxs("div",{className:"matching-setup",children:[b.jsx("h2",{children:"Matching Game"}),b.jsxs("select",{onChange:he=>e(he.target.value),value:t,children:[b.jsx("option",{value:"",disabled:!0,hidden:!0,children:"-- Select Level --"}),B6.map(he=>b.jsx("option",{value:he,children:he},he))]}),b.jsxs("select",{onChange:he=>s(he.target.value),value:n,children:[b.jsx("option",{disabled:!0,hidden:!0,value:"",children:"-- Select Unit --"}),z6.map(he=>b.jsx("option",{value:he,children:he==="Intro"?"Intro":` ${he}`},he))]}),b.jsx("button",{onClick:P,disabled:!t||!n,children:"Start Game"}),$&&b.jsx("p",{className:"error",children:$})]})}),b.jsx("div",{className:"backbtn",children:b.jsx(Da,{})})]})};function F6(){return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"landing-page",children:[b.jsx("h1",{className:"landing-title",children:"IELTS Preparation"}),b.jsxs("div",{className:"game-card-container",children:[b.jsxs(Jn,{to:"/ielts/practise",className:"game-card coming-soon",children:[b.jsx(LL,{size:48}),b.jsx("h2",{children:"Practise Test"}),b.jsx("p",{children:"Coming soon"})]}),b.jsxs(Jn,{to:"/ielts/quiz",className:"game-card coming-soon",children:[b.jsx(VL,{size:48}),b.jsx("h2",{children:"Quiz"}),b.jsx("p",{children:"Coming soon"})]})]}),b.jsx(Da,{})]})})}function H6(){const t="abcdefghijklmnopqrstuvwxyz";return t[Math.floor(Math.random()*t.length)]}function Ig(t){if(t.length<2)return t;const e=Math.floor(Math.random()*t.length);return t.substring(0,e)+H6()+t.substring(e+1)}function G6(t){const e=Ig(t);let n=Ig(t);for(;e===n||n===t;)n=Ig(t);return[t,e,n].sort(()=>Math.random()-.5)}async function K6(t="elementary"){const e=[];for(let n=0;n<=10;n++)try{const s=await fetch(`/data/${t}/unit${n}.json`);if(s.ok){const a=await s.json();e.push(...a)}}catch{console.warn(`Не удалось загрузить unit${n}.json`)}return e}function WS(){return Math.random().toString(36).substring(2,9)}const OC=O.createContext(null),PC={phase:"menu",score:0,bestScore:0,lives:3,platformRows:[],words:[],level:"",timer:5,maxTime:5,difficulty:"medium",lifeLost:!1};function ZS(t){if(!t||t.length===0)return null;const e=t[Math.floor(Math.random()*t.length)].en.toLowerCase(),n=G6(e),s=n.indexOf(e);return{id:WS(),options:n.map(a=>({id:WS(),text:a})),correctIndex:s,chosenIndex:null,resolved:!1}}function $6(t,e){switch(e.type){case"MISS":{const n=t.lives-1;return{...t,lives:n,lifeLost:!0,phase:n<=0?"gameOver":t.phase}}case"SET_LEVEL":return{...t,level:e.payload};case"SET_DIFFICULTY":{let n;return e.payload==="easy"&&(n=9),e.payload==="medium"&&(n=7),e.payload==="hard"&&(n=5),{...t,difficulty:e.payload,maxTime:n,timer:n}}case"SET_WORDS":return{...t,words:e.payload};case"LOAD_BEST":return{...t,bestScore:e.payload??0};case"START":{const n=ZS(t.words);return{...t,phase:"playing",score:0,lives:3,platformRows:n?[n]:[],timer:t.maxTime,lifeLost:!1}}case"SPAWN_ROW":{const n=ZS(t.words);return n?{...t,platformRows:[...t.platformRows,n]}:t}case"TICK":return{...t,timer:t.timer-1};case"RESET_TIMER":return{...t,timer:t.maxTime};case"CHOOSE":{const{rowId:n,optionIndex:s}=e.payload,a=t.platformRows.map(f=>f.id!==n||f.resolved?f:{...f,chosenIndex:s,resolved:!0}),l=a.find(f=>f.id===n);if(l&&l.correctIndex===s){const f=t.score+1,m=Math.max(t.bestScore,f);return localStorage.setItem("spelling_best_score",String(m)),{...t,platformRows:a,score:f,bestScore:m}}else{const f=t.lives-1;return{...t,platformRows:a,lives:f,lifeLost:!0,phase:f<=0?"gameOver":t.phase}}}case"CLEAR_LIFE_LOST":return{...t,lifeLost:!1};case"RESET":return{...PC,words:t.words,bestScore:t.bestScore,level:t.level};default:return t}}function Y6({children:t}){const[e,n]=O.useReducer($6,PC),s=p=>n({type:"SET_LEVEL",payload:p}),a=p=>n({type:"SET_DIFFICULTY",payload:p}),l=O.useCallback(async p=>{const y=await K6(p);n({type:"SET_WORDS",payload:y})},[]);O.useEffect(()=>{const p=parseInt(localStorage.getItem("spelling_best_score"))||0;n({type:"LOAD_BEST",payload:p})},[]);const c=O.useCallback(()=>{l(e.level).then(()=>{n({type:"START"})})},[e.level,l]),f=O.useCallback(()=>n({type:"RESET"}),[]),m=O.useCallback((p,y)=>{n({type:"CHOOSE",payload:{rowId:p,optionIndex:y}})},[]);return O.useEffect(()=>{if(e.phase!=="playing"||e.platformRows.length===0)return;const y=setInterval(()=>{const _=e.platformRows[e.platformRows.length-1];_&&!_.resolved&&n({type:"MISS"}),n({type:"SPAWN_ROW"}),n({type:"RESET_TIMER"})},e.maxTime*1e3);return()=>clearInterval(y)},[e.phase,e.platformRows,e.maxTime]),O.useEffect(()=>{if(e.phase!=="playing")return;const p=setInterval(()=>{e.timer>0&&n({type:"TICK"})},1e3);return()=>clearInterval(p)},[e.phase,e.timer]),b.jsx(OC.Provider,{value:{...e,start:c,reset:f,choose:m,setLevel:s,setDifficulty:a,dispatch:n},children:t})}function tm(){const t=O.useContext(OC);if(!t)throw new Error("useGame must be used inside GameProvider");return t}const MC=O.createContext({});function Q6(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wv=typeof window<"u",X6=Wv?O.useLayoutEffect:O.useEffect,Zv=O.createContext(null);function Jv(t,e){t.indexOf(e)===-1&&t.push(e)}function e_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Is=(t,e,n)=>n>e?e:n<t?t:n;let t_=()=>{};const Ds={},VC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kC(t){return typeof t=="object"&&t!==null}const LC=t=>/^0[^.\s]+$/u.test(t);function n_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ni=t=>t,W6=(t,e)=>n=>e(t(n)),Bc=(...t)=>t.reduce(W6),dc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class i_{constructor(){this.subscriptions=[]}add(e){return Jv(this.subscriptions,e),()=>e_(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bi=t=>t*1e3,zi=t=>t/1e3;function UC(t,e){return e?t*(1e3/e):0}const jC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Z6=1e-7,J6=12;function e5(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=jC(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>Z6&&++f<J6);return c}function zc(t,e,n,s){if(t===e&&n===s)return ni;const a=l=>e5(l,0,1,t,n);return l=>l===0||l===1?l:jC(a(l),e,s)}const BC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zC=t=>e=>1-t(1-e),qC=zc(.33,1.53,.69,.99),s_=zC(qC),FC=BC(s_),HC=t=>(t*=2)<1?.5*s_(t):.5*(2-Math.pow(2,-10*(t-1))),r_=t=>1-Math.sin(Math.acos(t)),GC=zC(r_),KC=BC(r_),t5=zc(.42,0,1,1),n5=zc(0,0,.58,1),$C=zc(.42,0,.58,1),i5=t=>Array.isArray(t)&&typeof t[0]!="number",YC=t=>Array.isArray(t)&&typeof t[0]=="number",s5={linear:ni,easeIn:t5,easeInOut:$C,easeOut:n5,circIn:r_,circInOut:KC,circOut:GC,backIn:s_,backInOut:FC,backOut:qC,anticipate:HC},r5=t=>typeof t=="string",JS=t=>{if(YC(t)){t_(t.length===4);const[e,n,s,a]=t;return zc(e,n,s,a)}else if(r5(t))return s5[t];return t},wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function a5(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,E=!1)=>{const x=E&&a?n:s;return _&&c.add(y),x.has(y)||x.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const o5=40;function QC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=wf.reduce((q,ue)=>(q[ue]=a5(l),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:C,postRender:x}=c,M=()=>{const q=Ds.useManualTiming?a.timestamp:performance.now();n=!1,Ds.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,o5),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),C.process(a),x.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},D=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:wf.reduce((q,ue)=>{const te=c[ue];return q[ue]=(W,N=!1,A=!1)=>(n||D(),te.schedule(W,N,A)),q},{}),cancel:q=>{for(let ue=0;ue<wf.length;ue++)c[wf[ue]].cancel(q)},state:a,steps:c}}const{schedule:ct,cancel:Dr,state:Jt,steps:Dg}=QC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0);let qf;function l5(){qf=void 0}const wn={now:()=>(qf===void 0&&wn.set(Jt.isProcessing||Ds.useManualTiming?Jt.timestamp:performance.now()),qf),set:t=>{qf=t,queueMicrotask(l5)}},XC=t=>e=>typeof e=="string"&&e.startsWith(t),a_=XC("--"),u5=XC("var(--"),o_=t=>u5(t)?c5.test(t.split("/*")[0].trim()):!1,c5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...El,transform:t=>Is(0,1,t)},Af={...El,default:1},Xu=t=>Math.round(t*1e5)/1e5,l_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function h5(t){return t==null}const f5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u_=(t,e)=>n=>!!(typeof n=="string"&&f5.test(n)&&n.startsWith(t)||e&&!h5(n)&&Object.prototype.hasOwnProperty.call(n,e)),WC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(l_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},d5=t=>Is(0,255,t),Ng={...El,transform:t=>Math.round(d5(t))},Ra={test:u_("rgb","red"),parse:WC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ng.transform(t)+", "+Ng.transform(e)+", "+Ng.transform(n)+", "+Xu(mc.transform(s))+")"};function m5(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Ay={test:u_("#"),parse:m5,transform:Ra.transform},qc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fr=qc("deg"),qi=qc("%"),Ce=qc("px"),p5=qc("vh"),g5=qc("vw"),eb={...qi,parse:t=>qi.parse(t)/100,transform:t=>qi.transform(t*100)},Fo={test:u_("hsl","hue"),parse:WC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+qi.transform(Xu(e))+", "+qi.transform(Xu(n))+", "+Xu(mc.transform(s))+")"},Nt={test:t=>Ra.test(t)||Ay.test(t)||Fo.test(t),parse:t=>Ra.test(t)?Ra.parse(t):Fo.test(t)?Fo.parse(t):Ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ra.transform(t):Fo.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},y5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function v5(t){return isNaN(t)&&typeof t=="string"&&(t.match(l_)?.length||0)+(t.match(y5)?.length||0)>0}const ZC="number",JC="color",_5="var",T5="var(",tb="${}",E5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(E5,m=>(Nt.test(m)?(s.color.push(l),a.push(JC),n.push(Nt.parse(m))):m.startsWith(T5)?(s.var.push(l),a.push(_5),n.push(m)):(s.number.push(l),a.push(ZC),n.push(parseFloat(m))),++l,tb)).split(tb);return{values:n,split:f,indexes:s,types:a}}function ex(t){return pc(t).values}function tx(t){const{split:e,types:n}=pc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===ZC?l+=Xu(a[c]):f===JC?l+=Nt.transform(a[c]):l+=a[c]}return l}}const S5=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function b5(t){const e=ex(t);return tx(t)(e.map(S5))}const Nr={test:v5,parse:ex,createTransformer:tx,getAnimatableNone:b5};function Og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function w5({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Og(m,f,t+1/3),l=Og(m,f,t),c=Og(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function gd(t,e){return n=>n>0?e:t}const ft=(t,e,n)=>t+(e-t)*n,Pg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},A5=[Ay,Ra,Fo],R5=t=>A5.find(e=>e.test(t));function nb(t){const e=R5(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=w5(n)),n}const ib=(t,e)=>{const n=nb(t),s=nb(e);if(!n||!s)return gd(t,e);const a={...n};return l=>(a.red=Pg(n.red,s.red,l),a.green=Pg(n.green,s.green,l),a.blue=Pg(n.blue,s.blue,l),a.alpha=ft(n.alpha,s.alpha,l),Ra.transform(a))},Ry=new Set(["none","hidden"]);function C5(t,e){return Ry.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function x5(t,e){return n=>ft(t,e,n)}function c_(t){return typeof t=="number"?x5:typeof t=="string"?o_(t)?gd:Nt.test(t)?ib:N5:Array.isArray(t)?nx:typeof t=="object"?Nt.test(t)?ib:I5:gd}function nx(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>c_(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function I5(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=c_(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function D5(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const N5=(t,e)=>{const n=Nr.createTransformer(e),s=pc(t),a=pc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ry.has(t)&&!a.values.length||Ry.has(e)&&!s.values.length?C5(t,e):Bc(nx(D5(s,a),a.values),n):gd(t,e)};function ix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):c_(t)(t,e)}const O5=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ct.update(e,n),stop:()=>Dr(e),now:()=>Jt.isProcessing?Jt.timestamp:wn.now()}},sx=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},yd=2e4;function h_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<yd;)e+=n,s=t.next(e);return e>=yd?1/0:e}function P5(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(h_(s),yd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:zi(a)}}const M5=5;function rx(t,e,n){const s=Math.max(e-M5,0);return UC(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function V5({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,c=1-e;c=Is(vt.minDamping,vt.maxDamping,c),t=Is(vt.minDuration,vt.maxDuration,zi(t)),c<1?(a=p=>{const y=p*c,_=y*t,E=y-n,C=Cy(p,c),x=Math.exp(-_);return Mg-E/C*x},l=p=>{const _=p*c*t,E=_*n+n,C=Math.pow(c,2)*Math.pow(p,2)*t,x=Math.exp(-_),M=Cy(Math.pow(p,2),c);return(-a(p)+Mg>0?-1:1)*((E-C)*x)/M}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Mg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=L5(a,l,f);if(t=Bi(t),isNaN(m))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const k5=12;function L5(t,e,n){let s=n;for(let a=1;a<k5;a++)s=s-t(s)/e(s);return s}function Cy(t,e){return t*Math.sqrt(1-e*e)}const U5=["duration","bounce"],j5=["stiffness","damping","mass"];function sb(t,e){return e.some(n=>t[n]!==void 0)}function B5(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!sb(t,j5)&&sb(t,U5))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Is(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=V5(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function vd(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:C}=B5({...n,velocity:-zi(n.velocity||0)}),x=E||0,M=p/(2*Math.sqrt(m*y)),D=c-l,j=zi(Math.sqrt(m/y)),$=Math.abs(D)<5;s||(s=$?vt.restSpeed.granular:vt.restSpeed.default),a||(a=$?vt.restDelta.granular:vt.restDelta.default);let q;if(M<1){const te=Cy(j,M);q=W=>{const N=Math.exp(-M*j*W);return c-N*((x+M*j*D)/te*Math.sin(te*W)+D*Math.cos(te*W))}}else if(M===1)q=te=>c-Math.exp(-j*te)*(D+(x+j*D)*te);else{const te=j*Math.sqrt(M*M-1);q=W=>{const N=Math.exp(-M*j*W),A=Math.min(te*W,300);return c-N*((x+M*j*D)*Math.sinh(A)+te*D*Math.cosh(A))/te}}const ue={calculatedDuration:C&&_||null,next:te=>{const W=q(te);if(C)f.done=te>=_;else{let N=te===0?x:0;M<1&&(N=te===0?Bi(x):rx(q,te,W));const A=Math.abs(N)<=s,I=Math.abs(c-W)<=a;f.done=A&&I}return f.value=f.done?c:W,f},toString:()=>{const te=Math.min(h_(ue),yd),W=sx(N=>ue.next(te*N).value,te,30);return te+"ms "+W},toTransition:()=>{}};return ue}vd.applyToOptions=t=>{const e=P5(t,100,vd);return t.ease=e.ease,t.duration=Bi(e.duration),t.type="keyframes",t};function xy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},C=A=>f!==void 0&&A<f||m!==void 0&&A>m,x=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let M=n*e;const D=_+M,j=c===void 0?D:c(D);j!==D&&(M=j-_);const $=A=>-M*Math.exp(-A/s),q=A=>j+$(A),ue=A=>{const I=$(A),L=q(A);E.done=Math.abs(I)<=p,E.value=E.done?j:L};let te,W;const N=A=>{C(E.value)&&(te=A,W=vd({keyframes:[E.value,x(E.value)],velocity:rx(q,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:A=>{let I=!1;return!W&&te===void 0&&(I=!0,ue(A),N(A)),te!==void 0&&A>=te?W.next(A-te):(!I&&ue(A),E)}}}function z5(t,e,n){const s=[],a=n||Ds.mix||ix,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||ni:e;f=Bc(m,f)}s.push(f)}return s}function q5(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(t_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=z5(e,s,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=dc(t[_],t[_+1],y);return f[_](E)};return n?y=>p(Is(t[0],t[l-1],y)):p}function F5(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=dc(0,e,s);t.push(ft(n,1,a))}}function H5(t){const e=[0];return F5(e,t.length-1),e}function G5(t,e){return t.map(n=>n*e)}function K5(t,e){return t.map(()=>e||$C).splice(0,t.length-1)}function Wu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=i5(s)?s.map(JS):JS(s),l={done:!1,value:e[0]},c=G5(n&&n.length===e.length?n:H5(e),t),f=q5(c,e,{ease:Array.isArray(a)?a:K5(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const $5=t=>t!==null;function f_(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter($5),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const Y5={decay:xy,inertia:xy,tween:Wu,keyframes:Wu,spring:vd};function ax(t){typeof t.type=="string"&&(t.type=Y5[t.type])}class d_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Q5=t=>t/100;class m_ extends d_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ax(e);const{type:n=Wu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||Wu;m!==Wu&&typeof f[0]!="number"&&(this.mixKeyframes=Bc(Q5,ix(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=h_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:C,type:x,onUpdate:M,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,ue=s;if(_){const A=Math.min(this.currentTime,a)/f;let I=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(L=1-L,C&&(L-=C/f)):E==="mirror"&&(ue=c)),q=Is(0,1,L)*f}const te=$?{done:!1,value:y[0]}:ue.next(q);l&&(te.value=l(te.value));let{done:W}=te;!$&&m!==null&&(W=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return N&&x!==xy&&(te.value=f_(y,this.options,D,this.speed)),M&&M(te.value),N&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return zi(this.calculatedDuration)}get time(){return zi(this.currentTime)}set time(e){e=Bi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=O5,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function X5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ca=t=>t*180/Math.PI,Iy=t=>{const e=Ca(Math.atan2(t[1],t[0]));return Dy(e)},W5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Iy,rotateZ:Iy,skewX:t=>Ca(Math.atan(t[1])),skewY:t=>Ca(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dy=t=>(t=t%360,t<0&&(t+=360),t),rb=Iy,ab=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ob=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Z5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ab,scaleY:ob,scale:t=>(ab(t)+ob(t))/2,rotateX:t=>Dy(Ca(Math.atan2(t[6],t[5]))),rotateY:t=>Dy(Ca(Math.atan2(-t[2],t[0]))),rotateZ:rb,rotate:rb,skewX:t=>Ca(Math.atan(t[4])),skewY:t=>Ca(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ny(t){return t.includes("scale")?1:0}function Oy(t,e){if(!t||t==="none")return Ny(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=Z5,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=W5,a=f}if(!a)return Ny(e);const l=s[e],c=a[1].split(",").map(eU);return typeof l=="function"?l(c):c[l]}const J5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Oy(n,e)};function eU(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bl=new Set(Sl),lb=t=>t===El||t===Ce,tU=new Set(["x","y","z"]),nU=Sl.filter(t=>!tU.has(t));function iU(t){const e=[];return nU.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Oy(e,"x"),y:(t,{transform:e})=>Oy(e,"y")};Na.translateX=Na.x;Na.translateY=Na.y;const Oa=new Set;let Py=!1,My=!1,Vy=!1;function ox(){if(My){const t=Array.from(Oa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=iU(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}My=!1,Py=!1,Oa.forEach(t=>t.complete(Vy)),Oa.clear()}function lx(){Oa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(My=!0)})}function sU(){Vy=!0,lx(),ox(),Vy=!1}class p_{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),Py||(Py=!0,ct.read(lx),ct.resolveKeyframes(ox))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}X5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rU=t=>t.startsWith("--");function aU(t,e,n){rU(e)?t.style.setProperty(e,n):t.style[e]=n}const oU=n_(()=>window.ScrollTimeline!==void 0),lU={};function uU(t,e){const n=n_(t);return()=>lU[e]??n()}const ux=uU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Fu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ub={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fu([0,.65,.55,1]),circOut:Fu([.55,0,1,.45]),backIn:Fu([.31,.01,.66,-.59]),backOut:Fu([.33,1.53,.69,.99])};function cx(t,e){if(t)return typeof t=="function"?ux()?sx(t,e):"ease-out":YC(t)?Fu(t):Array.isArray(t)?t.map(n=>cx(n,e)||ub.easeOut):ub[t]}function cU(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=cx(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function hx(t){return typeof t=="function"&&"applyToOptions"in t}function hU({type:t,...e}){return hx(t)&&ux()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fU extends d_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,t_(typeof e.type!="string");const p=hU(e);this.animation=cU(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=f_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):aU(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return zi(Number(e))}get time(){return zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&oU()?(this.animation.timeline=e,ni):n(this)}}const fx={anticipate:HC,backInOut:FC,circInOut:KC};function dU(t){return t in fx}function mU(t){typeof t.ease=="string"&&dU(t.ease)&&(t.ease=fx[t.ease])}const cb=10;class pU extends fU{constructor(e){mU(e),ax(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new m_({...c,autoplay:!1}),m=Bi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-cb).value,f.sample(m).value,cb),f.stop()}}const hb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nr.test(t)||t==="0")&&!t.startsWith("url("));function gU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=hb(a,e),f=hb(l,e);return!c||!f?!1:gU(t)||(n==="spring"||hx(n))&&s}function ky(t){t.duration=0,t.type}const vU=new Set(["opacity","clipPath","filter","transform"]),_U=n_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return _U()&&n&&vU.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const EU=40;class SU extends d_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},C=y?.KeyframeResolver||p_;this.keyframeResolver=new C(f,(x,M,D)=>this.onKeyframesResolved(x,M,E,!D),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=wn.now(),yU(e,l,c,f)||((Ds.instantAnimations||!m)&&y?.(f_(e,s,n)),e[0]=e[e.length-1],ky(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>EU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},C=!p&&TU(E)?new pU({...E,element:E.motionValue.owner.current}):new m_(E);C.finished.then(()=>this.notifyFinished()).catch(ni),this.pendingTimeline&&(this.stopTimeline=C.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=C}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const bU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wU(t){const e=bU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function dx(t,e,n=1){const[s,a]=wU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return VC(c)?parseFloat(c):c}return o_(a)?dx(a,e,n+1):a}function g_(t,e){return t?.[e]??t?.default??t}const mx=new Set(["width","height","top","left","right","bottom",...Sl]),AU={test:t=>t==="auto",parse:t=>t},px=t=>e=>e.test(t),gx=[El,Ce,qi,fr,g5,p5,AU],fb=t=>gx.find(px(t));function RU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LC(t):!0}const CU=new Set(["brightness","contrast","saturate","opacity"]);function xU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(l_)||[];if(!s)return t;const a=n.replace(s,"");let l=CU.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const IU=/\b([a-z-]*)\(.*?\)/gu,Ly={...Nr,getAnimatableNone:t=>{const e=t.match(IU);return e?e.map(xU).join(" "):t}},db={...El,transform:Math.round},DU={rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:fr,skewX:fr,skewY:fr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:mc,originX:eb,originY:eb,originZ:Ce},y_={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...DU,zIndex:db,fillOpacity:mc,strokeOpacity:mc,numOctaves:db},NU={...y_,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Ly,WebkitFilter:Ly},yx=t=>NU[t];function vx(t,e){let n=yx(t);return n!==Ly&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OU=new Set(["auto","none","0"]);function PU(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!OU.has(l)&&pc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vx(n,a)}class MU extends p_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),o_(p))){const y=dx(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mx.has(s)||e.length!==2)return;const[a,l]=e,c=fb(a),f=fb(l);if(c!==f)if(lb(c)&&lb(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Na[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||RU(e[a]))&&s.push(a);s.length&&PU(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Na[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Na[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function VU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _x=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function kU(t){return kC(t)&&"offsetHeight"in t}const mb=30,LU=t=>!isNaN(parseFloat(t));class UU{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new i_);const s=this.events[e].add(n);return e==="change"?()=>{s(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mb);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new UU(t,e)}const{schedule:v_}=QC(queueMicrotask,!1),ci={x:!1,y:!1};function Tx(){return ci.x||ci.y}function jU(t){return t==="x"||t==="y"?ci[t]?null:(ci[t]=!0,()=>{ci[t]=!1}):ci.x||ci.y?null:(ci.x=ci.y=!0,()=>{ci.x=ci.y=!1})}function Ex(t,e){const n=VU(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function pb(t){return!(t.pointerType==="touch"||Tx())}function BU(t,e,n={}){const[s,a,l]=Ex(t,n),c=f=>{if(!pb(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{pb(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const Sx=(t,e)=>e?t===e?!0:Sx(t,e.parentElement):!1,__=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qU(t){return zU.has(t.tagName)||t.tabIndex!==-1}const Ff=new WeakSet;function gb(t){return e=>{e.key==="Enter"&&t(e)}}function Vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FU=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=gb(()=>{if(Ff.has(n))return;Vg(n,"down");const a=gb(()=>{Vg(n,"up")}),l=()=>Vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function yb(t){return __(t)&&!Tx()}function HU(t,e,n={}){const[s,a,l]=Ex(t,n),c=f=>{const m=f.currentTarget;if(!yb(f))return;Ff.add(m);const p=e(m,f),y=(C,x)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Ff.has(m)&&Ff.delete(m),yb(C)&&typeof p=="function"&&p(C,{success:x})},_=C=>{y(C,m===window||m===document||n.useGlobalTarget||Sx(m,C.target))},E=C=>{y(C,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),kU(f)&&(f.addEventListener("focus",p=>FU(p,a)),!qU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function bx(t){return kC(t)&&"ownerSVGElement"in t}function GU(t){return bx(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),KU=[...gx,Nt,Nr],$U=t=>KU.find(px(t)),wx=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YU(t=!0){const e=O.useContext(Zv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const c=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Ax=O.createContext({strict:!1}),vb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in vb)ll[t]={isEnabled:e=>vb[t].some(n=>!!e[n])};function QU(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const XU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _d(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||XU.has(t)}let Rx=t=>!_d(t);function WU(t){typeof t=="function"&&(Rx=e=>e.startsWith("on")?!_d(e):t(e))}try{WU(require("@emotion/is-prop-valid").default)}catch{}function ZU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Rx(a)||n===!0&&_d(a)||!e&&!_d(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const nm=O.createContext({});function im(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gc(t){return typeof t=="string"||Array.isArray(t)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E_=["initial",...T_];function sm(t){return im(t.animate)||E_.some(e=>gc(t[e]))}function Cx(t){return!!(sm(t)||t.variants)}function JU(t,e){if(sm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||gc(n)?n:void 0,animate:gc(s)?s:void 0}}return t.inherit!==!1?e:{}}function e9(t){const{initial:e,animate:n}=JU(t,O.useContext(nm));return O.useMemo(()=>({initial:e,animate:n}),[_b(e),_b(n)])}function _b(t){return Array.isArray(t)?t.join(" "):t}const yc={};function t9(t){for(const e in t)yc[e]=t[e],a_(e)&&(yc[e].isCSSVariable=!0)}function xx(t,{layout:e,layoutId:n}){return bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}const n9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i9=Sl.length;function s9(t,e,n){let s="",a=!0;for(let l=0;l<i9;l++){const c=Sl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=_x(f,y_[c]);if(!m){a=!1;const y=n9[c]||c;s+=`${y}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function S_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(bl.has(m)){c=!0;continue}else if(a_(m)){a[m]=p;continue}else{const y=_x(p,y_[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(e.transform||(c||n?s.transform=s9(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const b_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ix(t,e,n){for(const s in e)!hn(e[s])&&!xx(s,n)&&(t[s]=e[s])}function r9({transformTemplate:t},e){return O.useMemo(()=>{const n=b_();return S_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function a9(t,e){const n=t.style||{},s={};return Ix(s,n,t),Object.assign(s,r9(t,e)),s}function o9(t,e){const n={},s=a9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const l9={offset:"stroke-dashoffset",array:"stroke-dasharray"},u9={offset:"strokeDashoffset",array:"strokeDasharray"};function c9(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?l9:u9;t[l.offset]=Ce.transform(-s);const c=Ce.transform(e),f=Ce.transform(n);t[l.array]=`${c} ${f}`}function Dx(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(S_(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&c9(_,a,l,c,!1)}const Nx=()=>({...b_(),attrs:{}}),Ox=t=>typeof t=="string"&&t.toLowerCase()==="svg";function h9(t,e,n,s){const a=O.useMemo(()=>{const l=Nx();return Dx(l,e,Ox(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Ix(l,t.style,t),a.style={...l,...a.style}}return a}const f9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w_(t){return typeof t!="string"||t.includes("-")?!1:!!(f9.indexOf(t)>-1||/[A-Z]/u.test(t))}function d9(t,e,n,{latestValues:s},a,l=!1){const f=(w_(t)?h9:o9)(e,s,a,t),m=ZU(e,typeof t=="string",l),p=t!==O.Fragment?{...m,...f,ref:n}:{},{children:y}=e,_=O.useMemo(()=>hn(y)?y.get():y,[y]);return O.createElement(t,{...p,children:_})}function Tb(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function A_(t,e,n,s){if(typeof e=="function"){const[a,l]=Tb(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Tb(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Hf(t){return hn(t)?t.get():t}function m9({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:p9(n,s,a,t),renderState:e()}}function p9(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=Hf(l[E]);let{initial:c,animate:f}=t;const m=sm(t),p=Cx(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!im(_)){const E=Array.isArray(_)?_:[_];for(let C=0;C<E.length;C++){const x=A_(t,E[C]);if(x){const{transitionEnd:M,transition:D,...j}=x;for(const $ in j){let q=j[$];if(Array.isArray(q)){const ue=y?q.length-1:0;q=q[ue]}q!==null&&(a[$]=q)}for(const $ in M)a[$]=M[$]}}}return a}const Px=t=>(e,n)=>{const s=O.useContext(nm),a=O.useContext(Zv),l=()=>m9(t,e,s,a);return n?l():Q6(l)};function R_(t,e,n){const{style:s}=t,a={};for(const l in s)(hn(s[l])||e.style&&hn(e.style[l])||xx(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const g9=Px({scrapeMotionValuesFromProps:R_,createRenderState:b_});function Mx(t,e,n){const s=R_(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=Sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const y9=Px({scrapeMotionValuesFromProps:Mx,createRenderState:Nx}),v9=Symbol.for("motionComponentSymbol");function Ho(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _9(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ho(n)&&(n.current=s))},[e])}const C_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),T9="framerAppearId",Vx="data-"+C_(T9),kx=O.createContext({});function E9(t,e,n,s,a){const{visualElement:l}=O.useContext(nm),c=O.useContext(Ax),f=O.useContext(Zv),m=O.useContext(wx).reducedMotion,p=O.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(kx);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&S9(p.current,n,a,_);const E=O.useRef(!1);O.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const C=n[Vx],x=O.useRef(!!C&&!window.MotionHandoffIsComplete?.(C)&&window.MotionHasOptimisedAnimation?.(C));return X6(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),x.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!x.current&&y.animationState&&y.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(C)}),x.current=!1))}),y}function S9(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Lx(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Ho(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function Lx(t){if(t)return t.options.allowProjection!==!1?t.projection:Lx(t.parent)}function kg(t,{forwardMotionProps:e=!1}={},n,s){n&&QU(n);const a=w_(t)?y9:g9;function l(f,m){let p;const y={...O.useContext(wx),...f,layoutId:b9(f)},{isStatic:_}=y,E=e9(f),C=a(f,_);if(!_&&Wv){w9();const x=A9(y);p=x.MeasureLayout,E.visualElement=E9(t,C,y,s,x.ProjectionNode)}return b.jsxs(nm.Provider,{value:E,children:[p&&E.visualElement?b.jsx(p,{visualElement:E.visualElement,...y}):null,d9(t,f,_9(C,E.visualElement,m),C,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(l);return c[v9]=t,c}function b9({layoutId:t}){const e=O.useContext(MC).id;return e&&t!==void 0?e+"-"+t:t}function w9(t,e){O.useContext(Ax).strict}function A9(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function R9(t,e){if(typeof Proxy>"u")return kg;const n=new Map,s=(l,c)=>kg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,kg(c,void 0,t,e)),n.get(c))})}function Ux({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function C9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Lg(t){return t===void 0||t===1}function Uy({scale:t,scaleX:e,scaleY:n}){return!Lg(t)||!Lg(e)||!Lg(n)}function ba(t){return Uy(t)||jx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jx(t){return Eb(t.x)||Eb(t.y)}function Eb(t){return t&&t!=="0%"}function Td(t,e,n){const s=t-n,a=e*s;return n+a}function Sb(t,e,n,s,a){return a!==void 0&&(t=Td(t,a,s)),Td(t,n,s)+e}function jy(t,e=0,n=1,s,a){t.min=Sb(t.min,e,n,s,a),t.max=Sb(t.max,e,n,s,a)}function Bx(t,{x:e,y:n}){jy(t.x,e.translate,e.scale,e.originPoint),jy(t.y,n.translate,n.scale,n.originPoint)}const bb=.999999999999,wb=1.0000000000001;function I9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ko(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Bx(t,c)),s&&ba(l.latestValues)&&Ko(t,l.latestValues))}e.x<wb&&e.x>bb&&(e.x=1),e.y<wb&&e.y>bb&&(e.y=1)}function Go(t,e){t.min=t.min+e,t.max=t.max+e}function Ab(t,e,n,s,a=.5){const l=ft(t.min,t.max,a);jy(t,e,n,l,s)}function Ko(t,e){Ab(t.x,e.x,e.scaleX,e.scale,e.originX),Ab(t.y,e.y,e.scaleY,e.scale,e.originY)}function zx(t,e){return Ux(x9(t.getBoundingClientRect(),e))}function D9(t,e,n){const s=zx(t,n),{scroll:a}=e;return a&&(Go(s.x,a.offset.x),Go(s.y,a.offset.y)),s}const Rb=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:Rb(),y:Rb()}),Cb=()=>({min:0,max:0}),bt=()=>({x:Cb(),y:Cb()}),By={current:null},qx={current:!1};function N9(){if(qx.current=!0,!!Wv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>By.current=t.matches;t.addEventListener("change",e),e()}else By.current=!1}const O9=new WeakMap;function P9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(hn(a))t.addValue(s,a);else if(hn(l))t.addValue(s,ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ol(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const xb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class M9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ct.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=sm(n),this.isVariantNode=Cx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const C=_[E];m[E]!==void 0&&hn(C)&&C.set(m[E])}}mount(e){this.current=e,O9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),qx.current||N9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:By.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dr(this.notifyUpdate),Dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=bl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ct.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<xb.length;s++){const a=xb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=P9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(VC(s)||LC(s))?s=parseFloat(s):!$U(s)&&Nr.test(n)&&(s=vx(e,n)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=A_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new i_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){v_.render(this.render)}}class Fx extends M9{constructor(){super(...arguments),this.KeyframeResolver=MU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Hx(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function V9(t){return window.getComputedStyle(t)}class k9 extends Fx{constructor(){super(...arguments),this.type="html",this.renderInstance=Hx}readValueFromInstance(e,n){if(bl.has(n))return this.projection?.isProjecting?Ny(n):J5(e,n);{const s=V9(e),a=(a_(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zx(e,n)}build(e,n,s){S_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return R_(e,n,s)}}const Gx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function L9(t,e,n,s){Hx(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Gx.has(a)?a:C_(a),e.attrs[a])}class U9 extends Fx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bl.has(n)){const s=yx(n);return s&&s.default||0}return n=Gx.has(n)?n:C_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Mx(e,n,s)}build(e,n,s){Dx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){L9(e,n,s,a)}mount(e){this.isSVGTag=Ox(e.tagName),super.mount(e)}}const j9=(t,e)=>w_(t)?new U9(e):new k9(e,{allowProjection:t!==O.Fragment});function vc(t,e,n){const s=t.getProps();return A_(s,e,n!==void 0?n:s.custom,t)}const zy=t=>Array.isArray(t);function B9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function z9(t){return zy(t)?t[t.length-1]||0:t}function q9(t,e){const n=vc(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=z9(l[c]);B9(t,c,f)}}function F9(t){return!!(hn(t)&&t.add)}function qy(t,e){const n=t.getValue("willChange");if(F9(n))return n.add(e);if(!n&&Ds.WillChange){const s=new Ds.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Kx(t){return t.props[Vx]}const H9=t=>t!==null;function G9(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(H9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const K9={type:"spring",stiffness:500,damping:25,restSpeed:10},$9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y9={type:"keyframes",duration:.8},Q9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},X9=(t,{keyframes:e})=>e.length>2?Y9:bl.has(t)?t.startsWith("scale")?$9(e[1]):K9:Q9;function W9({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const x_=(t,e,n,s={},a,l)=>c=>{const f=g_(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Bi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};W9(f)||Object.assign(y,X9(t,y)),y.duration&&(y.duration=Bi(y.duration)),y.repeatDelay&&(y.repeatDelay=Bi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ky(y),y.delay===0&&(_=!0)),(Ds.instantAnimations||Ds.skipAnimations)&&(_=!0,ky(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const E=G9(y.keyframes,f);if(E!==void 0){ct.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new m_(y):new SU(y)};function Z9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function $x(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||p&&Z9(p,y))continue;const C={delay:n,...g_(l||{},y)},x=_.get();if(x!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===x&&!C.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const j=Kx(t);if(j){const $=window.MotionHandoffAnimation(j,y,ct);$!==null&&(C.startTime=$,M=!0)}}qy(t,y),_.start(x_(y,_,E,t.shouldReduceMotion&&mx.has(y)?{type:!1}:C,t,M));const D=_.animation;D&&m.push(D)}return c&&Promise.all(m).then(()=>{ct.update(()=>{c&&q9(t,c)})}),m}function Fy(t,e,n={}){const s=vc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all($x(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return J9(t,e,m,p,y,_,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function J9(t,e,n=0,s=0,a=0,l=1,c){const f=[],m=t.variantChildren.size,p=(m-1)*a,y=typeof s=="function",_=y?E=>s(E,m):l===1?(E=0)=>E*a:(E=0)=>p-E*a;return Array.from(t.variantChildren).sort(ej).forEach((E,C)=>{E.notify("AnimationStart",e),f.push(Fy(E,e,{...c,delay:n+(y?0:s)+_(C)}).then(()=>E.notify("AnimationComplete",e)))}),Promise.all(f)}function ej(t,e){return t.sortNodePosition(e)}function tj(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Fy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Fy(t,e,n);else{const a=typeof e=="function"?vc(t,e,n.custom):e;s=Promise.all($x(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Yx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const nj=E_.length;function Qx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Qx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nj;n++){const s=E_[n],a=t.props[s];(gc(a)||a===!1)&&(e[s]=a)}return e}const ij=[...T_].reverse(),sj=T_.length;function rj(t){return e=>Promise.all(e.map(({animation:n,options:s})=>tj(t,n,s)))}function aj(t){let e=rj(t),n=Ib(),s=!0;const a=m=>(p,y)=>{const _=vc(t,y,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:C,...x}=_;p={...p,...x,...C}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=Qx(t.parent)||{},_=[],E=new Set;let C={},x=1/0;for(let D=0;D<sj;D++){const j=ij[D],$=n[j],q=p[j]!==void 0?p[j]:y[j],ue=gc(q),te=j===m?$.isActive:null;te===!1&&(x=D);let W=q===y[j]&&q!==p[j]&&ue;if(W&&s&&t.manuallyAnimateOnMount&&(W=!1),$.protectedKeys={...C},!$.isActive&&te===null||!q&&!$.prevProp||im(q)||typeof q=="boolean")continue;const N=oj($.prevProp,q);let A=N||j===m&&$.isActive&&!W&&ue||D>x&&ue,I=!1;const L=Array.isArray(q)?q:[q];let U=L.reduce(a(j),{});te===!1&&(U={});const{prevResolvedValues:B={}}=$,P={...B,...U},Be=le=>{A=!0,E.has(le)&&(I=!0,E.delete(le)),$.needsAnimating[le]=!0;const pe=t.getValue(le);pe&&(pe.liveStyle=!1)};for(const le in P){const pe=U[le],he=B[le];if(C.hasOwnProperty(le))continue;let V=!1;zy(pe)&&zy(he)?V=!Yx(pe,he):V=pe!==he,V?pe!=null?Be(le):E.add(le):pe!==void 0&&E.has(le)?Be(le):$.protectedKeys[le]=!0}$.prevProp=q,$.prevResolvedValues=U,$.isActive&&(C={...C,...U}),s&&t.blockInitialAnimation&&(A=!1),A&&(!(W&&N)||I)&&_.push(...L.map(le=>({animation:le,options:{type:j}})))}if(E.size){const D={};if(typeof p.initial!="boolean"){const j=vc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(D.transition=j.transition)}E.forEach(j=>{const $=t.getBaseTarget(j),q=t.getValue(j);q&&(q.liveStyle=!0),D[j]=$??null}),_.push({animation:D})}let M=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(_):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Ib(),s=!0}}}function oj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yx(e,t):!1}function Ea(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ib(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}class kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lj extends kr{constructor(e){super(e),e.animationState||(e.animationState=aj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();im(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let uj=0;class cj extends kr{constructor(){super(...arguments),this.id=uj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hj={animation:{Feature:lj},exit:{Feature:cj}};function _c(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Fc(t){return{point:{x:t.pageX,y:t.pageY}}}const fj=t=>e=>__(e)&&t(e,Fc(e));function Zu(t,e,n,s){return _c(t,e,fj(n),s)}const Xx=1e-4,dj=1-Xx,mj=1+Xx,Wx=.01,pj=0-Wx,gj=0+Wx;function yn(t){return t.max-t.min}function yj(t,e,n){return Math.abs(t-e)<=n}function Db(t,e,n,s=.5){t.origin=s,t.originPoint=ft(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dj&&t.scale<=mj||isNaN(t.scale))&&(t.scale=1),(t.translate>=pj&&t.translate<=gj||isNaN(t.translate))&&(t.translate=0)}function Ju(t,e,n,s){Db(t.x,e.x,n.x,s?s.originX:void 0),Db(t.y,e.y,n.y,s?s.originY:void 0)}function Nb(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function vj(t,e,n){Nb(t.x,e.x,n.x),Nb(t.y,e.y,n.y)}function Ob(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function ec(t,e,n){Ob(t.x,e.x,n.x),Ob(t.y,e.y,n.y)}function Zn(t){return[t("x"),t("y")]}const Zx=({current:t})=>t?t.ownerDocument.defaultView:null,Pb=(t,e)=>Math.abs(t-e);function _j(t,e){const n=Pb(t.x,e.x),s=Pb(t.y,e.y);return Math.sqrt(n**2+s**2)}class Jx{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=jg(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,x=_j(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!x)return;const{point:M}=E,{timestamp:D}=Jt;this.history.push({...M,timestamp:D});const{onStart:j,onMove:$}=this.handlers;C||(j&&j(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,E)},this.handlePointerMove=(E,C)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ug(C,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(E,C)=>{this.end();const{onEnd:x,onSessionEnd:M,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=jg(E.type==="pointercancel"?this.lastMoveEventInfo:Ug(C,this.transformPagePoint),this.history);this.startEvent&&x&&x(E,j),M&&M(E,j)},!__(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const f=Fc(e),m=Ug(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=Jt;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,jg(m,this.history)),this.removeListeners=Bc(Zu(this.contextWindow,"pointermove",this.handlePointerMove),Zu(this.contextWindow,"pointerup",this.handlePointerUp),Zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dr(this.updatePoint)}}function Ug(t,e){return e?{point:e(t.point)}:t}function Mb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jg({point:t},e){return{point:t,delta:Mb(t,e2(e)),offset:Mb(t,Tj(e)),velocity:Ej(e,.1)}}function Tj(t){return t[0]}function e2(t){return t[t.length-1]}function Ej(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=e2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Bi(e)));)n--;if(!s)return{x:0,y:0};const l=zi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Sj(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ft(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ft(n,t,s.max):Math.min(t,n)),t}function Vb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bj(t,{top:e,left:n,bottom:s,right:a}){return{x:Vb(t.x,n,a),y:Vb(t.y,e,s)}}function kb(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function wj(t,e){return{x:kb(t.x,e.x),y:kb(t.y,e.y)}}function Aj(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=dc(e.min,e.max-s,t.min):s>a&&(n=dc(t.min,t.max-a,e.min)),Is(0,1,n)}function Rj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hy=.35;function Cj(t=Hy){return t===!1?t=0:t===!0&&(t=Hy),{x:Lb(t,"left","right"),y:Lb(t,"top","bottom")}}function Lb(t,e,n){return{min:Ub(t,e),max:Ub(t,n)}}function Ub(t,e){return typeof t=="number"?t:t[e]||0}const xj=new WeakMap;class Ij{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fc(_).point)},c=(_,E)=>{const{drag:C,dragPropagation:x,onDragStart:M}=this.getProps();if(C&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jU(C),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(j=>{let $=this.getAxisMotionValue(j).get()||0;if(qi.test($)){const{projection:q}=this.visualElement;if(q&&q.layout){const ue=q.layout.layoutBox[j];ue&&($=yn(ue)*(parseFloat($)/100))}}this.originPoint[j]=$}),M&&ct.postRender(()=>M(_,E)),qy(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:C,dragDirectionLock:x,onDirectionLock:M,onDrag:D}=this.getProps();if(!C&&!this.openDragLock)return;const{offset:j}=E;if(x&&this.currentDirection===null){this.currentDirection=Dj(j),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),D&&D(_,E)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Zn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Jx(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Zx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ct.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Rf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Sj(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ho(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=bj(s.layoutBox,e):this.constraints=!1,this.elastic=Cj(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Rj(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ho(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=D9(s,a.root,this.visualElement.getTransformPagePoint());let c=wj(a.layout.layoutBox,l);if(n){const f=n(C9(c));this.hasMutatedConstraints=!!f,f&&(c=Ux(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Zn(y=>{if(!Rf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,C=a?40:1e7,x={type:"inertia",velocity:s?e[y]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return qy(this.visualElement,e),s.start(x_(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zn(n=>{const{drag:s}=this.getProps();if(!Rf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-ft(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ho(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Aj({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Zn(c=>{if(!Rf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ft(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;xj.set(this.visualElement,this);const e=this.visualElement.current,n=Zu(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Ho(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ct.read(s);const c=_c(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Zn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Hy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Rf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Nj extends kr{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new Ij(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const jb=t=>(e,n)=>{t&&ct.postRender(()=>t(e,n))};class Oj extends kr{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new Jx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:jb(e),onStart:jb(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ct.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Zu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Bb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ku={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=Bb(t,e.target.x),s=Bb(t,e.target.y);return`${n}% ${s}%`}},Pj={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Nr.parse(t);if(a.length>5)return s;const l=Nr.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=ft(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let zb=!1;class Mj extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;t9(Vj),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),zb&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,zb=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ct.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),v_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function t2(t){const[e,n]=YU(),s=O.useContext(MC);return b.jsx(Mj,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(kx),isPresent:e,safeToRemove:n})}const Vj={borderRadius:{...ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ku,borderTopRightRadius:ku,borderBottomLeftRadius:ku,borderBottomRightRadius:ku,boxShadow:Pj};function kj(t,e,n){const s=hn(t)?t:ol(t);return s.start(x_("",s,e,n)),s.animation}const Lj=(t,e)=>t.depth-e.depth;class Uj{constructor(){this.children=[],this.isDirty=!1}add(e){Jv(this.children,e),this.isDirty=!0}remove(e){e_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lj),this.isDirty=!1,this.children.forEach(e)}}function jj(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Dr(s),t(l-e))};return ct.setup(s,!0),()=>Dr(s)}const n2=["TopLeft","TopRight","BottomLeft","BottomRight"],Bj=n2.length,qb=t=>typeof t=="string"?parseFloat(t):t,Fb=t=>typeof t=="number"||Ce.test(t);function zj(t,e,n,s,a,l){a?(t.opacity=ft(0,n.opacity??1,qj(s)),t.opacityExit=ft(e.opacity??1,0,Fj(s))):l&&(t.opacity=ft(e.opacity??1,n.opacity??1,s));for(let c=0;c<Bj;c++){const f=`border${n2[c]}Radius`;let m=Hb(e,f),p=Hb(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Fb(m)===Fb(p)?(t[f]=Math.max(ft(qb(m),qb(p),s),0),(qi.test(p)||qi.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,s))}function Hb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qj=i2(0,.5,GC),Fj=i2(.5,.95,ni);function i2(t,e,n){return s=>s<t?0:s>e?1:n(dc(t,e,s))}function Gb(t,e){t.min=e.min,t.max=e.max}function Wn(t,e){Gb(t.x,e.x),Gb(t.y,e.y)}function Kb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $b(t,e,n,s,a){return t-=e,t=Td(t,1/n,s),a!==void 0&&(t=Td(t,1/a,s)),t}function Hj(t,e=0,n=1,s=.5,a,l=t,c=t){if(qi.test(e)&&(e=parseFloat(e),e=ft(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ft(l.min,l.max,s);t===l&&(f-=e),t.min=$b(t.min,e,n,f,a),t.max=$b(t.max,e,n,f,a)}function Yb(t,e,[n,s,a],l,c){Hj(t,e[n],e[s],e[a],e.scale,l,c)}const Gj=["x","scaleX","originX"],Kj=["y","scaleY","originY"];function Qb(t,e,n,s){Yb(t.x,e,Gj,n?n.x:void 0,s?s.x:void 0),Yb(t.y,e,Kj,n?n.y:void 0,s?s.y:void 0)}function Xb(t){return t.translate===0&&t.scale===1}function s2(t){return Xb(t.x)&&Xb(t.y)}function Wb(t,e){return t.min===e.min&&t.max===e.max}function $j(t,e){return Wb(t.x,e.x)&&Wb(t.y,e.y)}function Zb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function r2(t,e){return Zb(t.x,e.x)&&Zb(t.y,e.y)}function Jb(t){return yn(t.x)/yn(t.y)}function ew(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Yj{constructor(){this.members=[]}add(e){Jv(this.members,e),e.scheduleRender()}remove(e){if(e_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qj(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:C,skewY:x}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),C&&(s+=`skewX(${C}deg) `),x&&(s+=`skewY(${x}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Bg=["","X","Y","Z"],Xj=1e3;let Wj=0;function zg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function a2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Kx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&a2(s)}function o2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e?.()){this.id=Wj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(e8),this.nodes.forEach(s8),this.nodes.forEach(r8),this.nodes.forEach(t8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new i_),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=bx(c)&&!GU(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{_=window.innerWidth}),t(c,()=>{const C=window.innerWidth;C!==_&&(_=C,this.root.updateBlockedByResize=!0,y&&y(),y=jj(E,250),Gf.hasAnimatedSinceResize&&(Gf.hasAnimatedSinceResize=!1,this.nodes.forEach(iw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||p.getDefaultTransition()||c8,{onLayoutAnimationStart:M,onLayoutAnimationComplete:D}=p.getProps(),j=!this.targetLayout||!r2(this.targetLayout,C),$=!_&&E;if(this.options.layoutRoot||this.resumeFrom||$||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...g_(x,"layout"),onPlay:M,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,$)}else _||iw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&a2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(i8),this.nodes.forEach(Zj),this.nodes.forEach(Jj)):this.nodes.forEach(nw),this.clearAllSnapshots();const f=wn.now();Jt.delta=Is(0,1e3/60,f-Jt.timestamp),Jt.timestamp=f,Jt.isProcessing=!0,Dg.update.process(Jt),Dg.preRender.process(Jt),Dg.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(n8),this.sharedNodes.forEach(o8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!s2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ba(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),h8(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return bt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(f8))){const{scroll:p}=this.root;p&&(Go(f.x,p.offset.x),Go(f.y,p.offset.y))}return f}removeElementScroll(c){const f=bt();if(Wn(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Wn(f,c),Go(f.x,y.offset.x),Go(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=bt();Wn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ko(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ba(y.latestValues)&&Ko(m,y.latestValues)}return ba(this.latestValues)&&Ko(m,this.latestValues),m}removeTransform(c){const f=bt();Wn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ba(p.latestValues))continue;Uy(p.latestValues)&&p.updateSnapshot();const y=bt(),_=p.measurePageBox();Wn(y,_),Qb(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ba(this.latestValues)&&Qb(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),ec(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),Bx(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),ec(this.relativeTargetOrigin,this.target,E.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uy(this.parent.latestValues)||jx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Wn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;I9(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=bt());const{target:C}=c;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kb(this.prevProjectionDelta.x,this.projectionDelta.x),Kb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ju(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!ew(this.projectionDelta.x,this.prevProjectionDelta.x)||!ew(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=bt(),C=m?m.source:void 0,x=this.layout?this.layout.source:void 0,M=C!==x,D=this.getStack(),j=!D||D.members.length<=1,$=!!(M&&!j&&this.options.crossfade===!0&&!this.path.some(u8));this.animationProgress=0;let q;this.mixTargetDelta=ue=>{const te=ue/1e3;sw(_.x,c.x,te),sw(_.y,c.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ec(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l8(this.relativeTarget,this.relativeTargetOrigin,E,te),q&&$j(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=bt()),Wn(q,this.relativeTarget)),M&&(this.animationValues=y,zj(y,p,this.latestValues,te,$,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=kj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&l2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||bt();const _=yn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=yn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Wn(f,m),Ko(f,y),Ju(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Yj),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&zg("z",c,p,this.animationValues);for(let y=0;y<Bg.length;y++)zg(`rotate${Bg[y]}`,c,p,this.animationValues),zg(`skew${Bg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Hf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Hf(f?.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=Qj(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:C}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in yc){if(y[x]===void 0)continue;const{correct:M,applyTo:D,isCSSVariable:j}=yc[x],$=_==="none"?y[x]:M(y[x],p);if(D){const q=D.length;for(let ue=0;ue<q;ue++)c[D[ue]]=$}else j?this.options.visualElement.renderState.vars[x]=$:c[x]=$}this.options.layoutId&&(c.pointerEvents=p===this?Hf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(tw),this.root.sharedNodes.clear()}}}function Zj(t){t.updateLayout()}function Jj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Zn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],E=yn(_);_.min=n[y].min,_.max=_.min+E}):l2(a,e.layoutBox,n)&&Zn(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],E=yn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const c=$o();Ju(c,n,e.layoutBox);const f=$o();l?Ju(f,t.applyTransform(s,!0),e.measuredBox):Ju(f,n,e.layoutBox);const m=!s2(c);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const C=bt();ec(C,e.layoutBox,_.layoutBox);const x=bt();ec(x,n,E.layoutBox),r2(C,x)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function e8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function t8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function n8(t){t.clearSnapshot()}function tw(t){t.clearMeasurements()}function nw(t){t.isLayoutDirty=!1}function i8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function s8(t){t.resolveTargetDelta()}function r8(t){t.calcProjection()}function a8(t){t.resetSkewAndRotation()}function o8(t){t.removeLeadSnapshot()}function sw(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rw(t,e,n,s){t.min=ft(e.min,n.min,s),t.max=ft(e.max,n.max,s)}function l8(t,e,n,s){rw(t.x,e.x,n.x,s),rw(t.y,e.y,n.y,s)}function u8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const c8={duration:.45,ease:[.4,0,.1,1]},aw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ow=aw("applewebkit/")&&!aw("chrome/")?Math.round:ni;function lw(t){t.min=ow(t.min),t.max=ow(t.max)}function h8(t){lw(t.x),lw(t.y)}function l2(t,e,n){return t==="position"||t==="preserve-aspect"&&!yj(Jb(e),Jb(n),.2)}function f8(t){return t!==t.root&&t.scroll?.wasRoot}const d8=o2({attachResizeListener:(t,e)=>_c(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qg={current:void 0},u2=o2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qg.current){const t=new d8({});t.mount(window),t.setOptions({layoutScroll:!0}),qg.current=t}return qg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),m8={pan:{Feature:Oj},drag:{Feature:Nj,ProjectionNode:u2,MeasureLayout:t2}};function uw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ct.postRender(()=>l(e,Fc(e)))}class p8 extends kr{mount(){const{current:e}=this.node;e&&(this.unmount=BU(e,(n,s)=>(uw(this.node,s,"Start"),a=>uw(this.node,a,"End"))))}unmount(){}}class g8 extends kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(_c(this.node.current,"focus",()=>this.onFocus()),_c(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ct.postRender(()=>l(e,Fc(e)))}class y8 extends kr{mount(){const{current:e}=this.node;e&&(this.unmount=HU(e,(n,s)=>(cw(this.node,s,"Start"),(a,{success:l})=>cw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gy=new WeakMap,Fg=new WeakMap,v8=t=>{const e=Gy.get(t.target);e&&e(t)},_8=t=>{t.forEach(v8)};function T8({root:t,...e}){const n=t||document;Fg.has(n)||Fg.set(n,{});const s=Fg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(_8,{root:t,...e})),s[a]}function E8(t,e,n){const s=T8(e);return Gy.set(t,n),s.observe(t),()=>{Gy.delete(t),s.unobserve(t)}}const S8={some:0,all:1};class b8 extends kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:S8[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return E8(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(w8(e,n))&&this.startObserver()}unmount(){}}function w8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const A8={inView:{Feature:b8},tap:{Feature:y8},focus:{Feature:g8},hover:{Feature:p8}},R8={layout:{ProjectionNode:u2,MeasureLayout:t2}},C8={...hj,...A8,...m8,...R8},Ky=R9(C8,j9);function x8(){const{score:t,bestScore:e,lives:n,lifeLost:s,dispatch:a,timer:l,maxTime:c}=tm();return O.useEffect(()=>{if(s){const f=setTimeout(()=>{a({type:"CLEAR_LIFE_LOST"})},800);return()=>clearTimeout(f)}},[s,a]),b.jsxs("div",{className:"hud",children:[b.jsxs("div",{className:"hud-score",children:["Score: ",t]}),b.jsxs("div",{className:"hud-best",children:["Best: ",e]}),b.jsx("div",{className:"hud-lives",children:Array.from({length:3},(f,m)=>{const p=s&&m===n,y=m<n;return b.jsxs(Ky.div,{className:`heart ${y?"active":"inactive"}`,animate:p?{rotate:[0,-15,15,-10,10,0],scale:[1,1.2,1]}:{rotate:0,scale:1},transition:{duration:.6},children:[b.jsx(zL,{size:24,fill:y?"#ef4444":"transparent",color:"#ef4444"}),p&&b.jsx(Ky.span,{className:"heart-broken",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:"💔"})]},m)})}),b.jsx("div",{className:"timer-game",children:b.jsx("div",{className:"timer-bar",style:{width:`${l/c*100}%`}})})]})}function I8({text:t,onClick:e,disabled:n,isChosen:s,isCorrect:a}){let l="platform",c={y:0,opacity:1};return n&&s&&a?(l+=" platform--correct",c={scale:.9,opacity:0}):n&&s&&!a?(l+=" platform--wrong",c={y:200,opacity:0,rotate:10}):n&&(c={opacity:.3}),b.jsx(Ky.button,{className:l,onClick:n?void 0:e,disabled:n,whileTap:n?void 0:{scale:.95},animate:c,transition:{duration:.4},children:t})}function D8(){const{platformRows:t,choose:e,maxTime:n}=tm(),[s,a]=O.useState([]),l=600,c=60;return O.useEffect(()=>{const f=t[t.length-1];f&&(s.find(m=>m.id===f.id)||a(m=>[...m,{...f,y:-100}]))},[t]),O.useEffect(()=>{const f=l/(n*c),m=setInterval(()=>{a(p=>p.map(y=>({...y,y:y.y+f})).filter(y=>y.y<l))},1e3/c);return()=>clearInterval(m)},[n]),b.jsx("div",{className:"platform-stack",style:{position:"relative",height:l},children:s.map(f=>{const m=t.find(E=>E.id===f.id),p=m?.resolved,y=m?.chosenIndex??null,_=m?.correctIndex??null;return b.jsx("div",{className:"platform-row",style:{position:"absolute",top:f.y},children:f.options.map((E,C)=>{const x=y===C,M=C===_,D=!!p;return b.jsx(I8,{text:E.text,isChosen:x,isCorrect:M,disabled:D,onClick:()=>e(f.id,C)},E.id)})},f.id)})})}function N8(){const{difficulty:t,setDifficulty:e}=tm(),n=[{id:"easy",label:"Easy",time:10,color:"#34d399"},{id:"medium",label:"Medium",time:8,color:"#fbbf24"},{id:"hard",label:"Hard",time:5,color:"#f87171"}];return b.jsxs("div",{className:"difficulty-select-container",children:[b.jsx("p",{className:"difficulty-title",children:"Choose Difficulty"}),b.jsx("div",{className:"difficulty-levels",children:n.map(s=>b.jsxs("div",{className:`difficulty-card ${t===s.id?"active":""}`,style:{borderColor:s.color},onClick:()=>e(s.id),children:[b.jsx("span",{className:"difficulty-label",children:s.label}),b.jsxs("span",{className:"difficulty-time",children:[s.time,"s"]})]},s.id))})]})}function O8(){const{phase:t,start:e,reset:n,score:s,bestScore:a,level:l,setLevel:c}=tm(),f=l==="elementary"||l==="pre-intermediate"||l==="intermediate"||l==="upper-intermediate";if(t==="menu")return b.jsxs(b.Fragment,{children:[b.jsx(em,{game:"spelling-game"}),b.jsxs("div",{className:"game-container",children:[b.jsx("h1",{children:"Spelling Run"}),b.jsxs("label",{className:"level-select",children:["Choose level: ",b.jsx("br",{}),b.jsx("br",{}),b.jsxs("select",{value:l||"",onChange:m=>c(m.target.value),children:[b.jsx("option",{value:"",disabled:!0,hidden:!0,children:"-- Choose level --"}),b.jsx("option",{value:"elementary",children:"Elementary"}),b.jsx("option",{value:"pre-intermediate",children:"Pre-Intermediate"}),b.jsx("option",{value:"intermediate",children:"Intermediate"}),b.jsx("option",{value:"upper-intermediate",children:"Upper-Intermediate"})]})]}),b.jsx(N8,{}),b.jsx("button",{onClick:e,className:"btn",disabled:!f,children:"Start"})]}),b.jsx("div",{className:"backbtn",children:b.jsx(Da,{})})]});if(t==="gameOver"){const m=s>=a;return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"game-container",children:[b.jsx("h1",{children:"Game over"}),b.jsxs("p",{children:["Your score: ",s]}),b.jsxs("p",{children:["Record: ",a]}),m&&b.jsx("p",{children:"🎉 New record!"}),b.jsx("button",{onClick:n,className:"btn",children:"Сыграть ещё"})]}),b.jsx("div",{className:"backbtn",children:b.jsx(Da,{})})]})}return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"game-container",children:[b.jsx(x8,{}),b.jsx("div",{className:"board",children:b.jsx(D8,{})})]}),b.jsx("div",{className:"backbtn",children:b.jsx(Da,{})})]})}function P8(){return b.jsx(Y6,{children:b.jsx(O8,{})})}function M8(){return O.useEffect(()=>{const t=s=>{s&&(s.setAttribute("autoComplete","off"),s.setAttribute("autoCorrect","off"),s.setAttribute("autoCapitalize","off"),s.setAttribute("spellCheck","false"),s.addEventListener("copy",a=>a.preventDefault()),s.addEventListener("paste",a=>a.preventDefault()),s.addEventListener("cut",a=>a.preventDefault()),s.addEventListener("contextmenu",a=>a.preventDefault()),s.style.userSelect="none")};document.querySelectorAll("input, textarea").forEach(t);const n=new MutationObserver(()=>{document.querySelectorAll("input, textarea").forEach(t)});return n.observe(document.body,{childList:!0,subtree:!0}),()=>n.disconnect()},[]),b.jsxs(b.Fragment,{children:[b.jsx(RL,{}),b.jsxs(MD,{children:[b.jsx(hr,{path:"/",element:b.jsxs(b.Fragment,{children:[b.jsx(qL,{}),b.jsx(j6,{})]})}),b.jsx(hr,{path:"/quiz",element:b.jsx(b6,{})}),b.jsx(hr,{path:"/cuecard",element:b.jsx(A6,{})}),b.jsx(hr,{path:"/stats",element:b.jsx(R6,{})}),b.jsx(hr,{path:"/matching",element:b.jsx(q6,{})}),b.jsx(hr,{path:"/ielts",element:b.jsx(F6,{})}),b.jsx(hr,{path:"/spelling-game",element:b.jsx(P8,{})})]})]})}HI.createRoot(document.getElementById("root")).render(b.jsx(vr.StrictMode,{children:b.jsx(_6,{children:b.jsx(iN,{children:b.jsx(M8,{})})})}));
